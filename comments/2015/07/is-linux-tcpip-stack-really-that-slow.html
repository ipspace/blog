<div class="comments post" id="comments">
  <h4>12 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="3996786450490916932">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="http://packetpushers.net/" rel="nofollow">Steven Iveson</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3996786450490916932" href="#3996786450490916932">07 July 2015 10:17</a>
              </span>
            </div>
            <div class="comment-content">Sorry to sound like a politician but &quot;here here&quot;</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="4126905694770906612">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/00097751192210829089" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4126905694770906612" href="#4126905694770906612">07 July 2015 14:45</a>
              </span>
            </div>
            <div class="comment-content">Hey Ivan,<br />You should be very interested by this young French company 6Wind which has just been &quot;validated&quot; by Cisco: http://www.prnewswire.com/news-releases/cisco-investments-invests-in-6wind-for-high-performance-networking-300108853.html. <br />They design multiple high performance networking softwares, such as a &quot;Virtual Accelerator&quot;. <br /><br />It leverages DPDK to offer 20 Gbits/s of OVS bandwidth per Intelâ€™s Xeon E5-2600 v2 core, scaling linearly with the number of cores. Some features include VXLAN &amp; VRF. It is supported on all major Linux distributions with a multi-vendor NIC support from Avago/Emulex, Intel and Mellanox: http://www.6wind.com/products/6wind-virtual-accelerator/<br /></div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="1261998037860633298">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1261998037860633298" href="#1261998037860633298">07 July 2015 15:56</a>
              </span>
            </div>
            <div class="comment-content">You&#39;re talking about this young French company, right?<br /><br />http://blog.ipspace.net/2012/02/6wind-solving-virtual-appliance.html</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2039303984005764181">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/00097751192210829089" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2039303984005764181" href="#2039303984005764181">07 July 2015 17:50</a>
              </span>
            </div>
            <div class="comment-content">Great ;) I thought they deserved to appear somehow in your interesting article, although they&#39;ve not been - yet? - invited in your &quot;Software Gone Wild podcast&quot;. </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2770740379175171284">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://disqus.com/by/Vlad_CM/" rel="nofollow">Vlad_CM</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2770740379175171284" href="#2770740379175171284">07 July 2015 21:47</a>
              </span>
            </div>
            <div class="comment-content">1.4Mpps mentioned in that article is far from what a Linux stack can actually deliver.<br /><br />Here is an article (Google Translate required) - where a guy describes how to make an app that can capture **9** Mpps.<br /><br />http://habrahabr.ru/post/261161/</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5394497871457051790">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Kristian Larsson</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5394497871457051790" href="#5394497871457051790">09 July 2015 10:48</a>
              </span>
            </div>
            <div class="comment-content">Overall I find this incoherent. You start off about an opinion of many, that switching from kernel to user space forwarding is necessary for good performance while your tone implies this isn&#39;t true. The link you post explains how to achieve good performance and you summarize this into three &quot;tricks&quot;. All involve using more than one core so we can conclude that the kernel stack scales well at least.<br /><br />You move on to an analysis of VM performance. Most don&#39;t achieve good performance as they make the mistake of relying on kernel calls and not &quot;optimising it&quot;. You mention that Juniper vMX is optimized. Since vMX is using DPDK and SR-IOV to achieve good performance I&#39;m not sure where we stand. Is the kernel good enough or not?<br /><br />What is the point of the article? If you don&#39;t want to reach a conclusion on one being better than the other I think you need to better explain the pros and cons of each respective solution. For example, DPDK won&#39;t help you much if you are trying to optimise your web server but if you are trying to build a virtual router or load balancer it probably is the tool for the job.<br /><br />Also, I find the topic of &quot;good performance&quot; to be an interesting one and really quite subjective. You mention 1Gbps being good enough for most but I don&#39;t that mean we can talk about it as &quot;good performance&quot; in absolute terms. Is the kernel performing well when you need 10 cores to achieve wire speed 10GE if you can do the same with Snabb switch on a single core?</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2073075973989812640">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Someone</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2073075973989812640" href="#2073075973989812640">09 July 2015 16:48</a>
              </span>
            </div>
            <div class="comment-content">if you go and name vendors, ALU managed to push 320G on their vSR....</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1606345853557464118">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Draco</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1606345853557464118" href="#1606345853557464118">10 July 2015 16:15</a>
              </span>
            </div>
            <div class="comment-content">I&#39;m confused....  you are either forwarding your packets using the kernel&#39;s IP forwarding feature, or you are using something else.<br /><br />My understanding is that Vyatta  does the same as other distributions and just sets IPtables rules for any firewall restrictions, and relies on the kernel to do forwarding,<br /><br />And Juniper vMX doesn&#39;t do that.<br /><br />So you&#39;re saying you think Vyatta is optimized, and it&#39;s OK  to just use the kernel&#39;s IP forwarding features when implementing a firewall?<br /><br />Do you have any pointers then,  to how I would go about optimizing it,  if I wished to engineer a graphical firewall frontend based on a Linux kernel doing the packet forwarding,   since whatever Vyatta does is deemed good enough?<br /><br />I don&#39;t think Vyatta uses a modified Linux kernel,   so  If the kernel is doing all the forwarding;   I am wondering  literally what sort of things you think their optimization consists of.<br /><br /></div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="247448887371354993">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c247448887371354993" href="#247448887371354993">10 July 2015 16:24</a>
              </span>
            </div>
            <div class="comment-content">Vyatta 5600 uses DPDK<br /><br />https://www.brocade.com/en/products-services/software-networking/network-functions-virtualization/5600-vrouter.html</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1972872601162420439">
          <!--
          <div class="avatar-image-container">
            <img src="//images-blogger-opensocial.googleusercontent.com/gadgets/proxy?url=http://1.bp.blogspot.com/-j3GGfKuoRb4/VYDmEVI9C7I/AAAAAAAAAjs/aj4cvQNi2uk/s151/IMG_1013.JPG&container=blogger&gadget=a&rewriteMime=image/*">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/09771677856264877238" rel="nofollow">Jeff Behrns</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1972872601162420439" href="#1972872601162420439">20 July 2015 02:49</a>
              </span>
            </div>
            <div class="comment-content">Regarding letter (D) weakest links....Linux OS was designed to operate end stations / servers, not traffic forwarding nodes like routers / switches.  Do you think this will be exposed soon as the &quot;weakest link&quot; in networking industry?</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="4778354348884867361">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4778354348884867361" href="#4778354348884867361">20 July 2015 14:02</a>
              </span>
            </div>
            <div class="comment-content">True - Unix (and consequently Linux) were designed for servers (or control plane processes). To get around this weakest link, you have to bypass Linux as much as possible - by downloading forwarding information into hardware (the Cumulus way) or doing packet processing in user-mode processes running on dedicated cores (the DPDK/PF_RING way).</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="558388583199713415">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/02768293112004135947" rel="nofollow">James Cape</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c558388583199713415" href="#558388583199713415">17 August 2015 02:43</a>
              </span>
            </div>
            <div class="comment-content">The thing is, if I start with that same single-threaded 300kpps of 128B UDP on a Mellanox CX3 card, I get to 3.6Mpps just doing LD_PRELOAD=libvma.so.<br /><br />Mellanox engineers I&#39;ve spoken with claim this will scale to 37Mpps with multi-threaded senders.</div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
