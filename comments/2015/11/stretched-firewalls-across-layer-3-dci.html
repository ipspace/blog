<div class="comments post" id="comments">
  <h4>21 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="344250658648320073">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c344250658648320073" href="#344250658648320073">02 November 2015 14:39</a>
              </span>
            </div>
            <div class="comment-content">This post just made my day, I wish I had such images when I had to redesign/fix a dumb firewall ASA clustering design across L2-DCI, so I could show these images to them. Your sense of humor is just awesome Ivan!<br /><br />Keep it up. Cheers!</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1160408696960340266">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1160408696960340266" href="#1160408696960340266">02 November 2015 14:51</a>
              </span>
            </div>
            <div class="comment-content">I wish I could print up all of your anti-stretched-DC blogs posts as a &quot;propaganda&quot; flyer and drop thousands of copies on the engineering campuses of all the major equipment vendors.  Perhaps that would be enough of a clue bat to make them cease and desist the insanity.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2511885919391742929">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2511885919391742929" href="#2511885919391742929">02 November 2015 14:54</a>
              </span>
            </div>
            <div class="comment-content">Ivan, you act like Don Quixote but i&#39;m your Sancho Panza...</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2498504588740091167">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/05981327582538698354" rel="nofollow">MattN</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2498504588740091167" href="#2498504588740091167">02 November 2015 15:25</a>
              </span>
            </div>
            <div class="comment-content">Ivan, just curious - Does your opinion change if you have dark fiber with two different physical paths and diverse entrances at your data centers? Or is your opinion is that it is just ALWAYS a bad idea?</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="417574216959433763">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/00108223150670314820" rel="nofollow">Julien Goodwin</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c417574216959433763" href="#417574216959433763">02 November 2015 15:43</a>
              </span>
            </div>
            <div class="comment-content">If you&#39;re willing to pay for that why not add the extra two firewalls to remove the problem?</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7720398014961085070">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/05981327582538698354" rel="nofollow">MattN</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7720398014961085070" href="#7720398014961085070">02 November 2015 16:30</a>
              </span>
            </div>
            <div class="comment-content">What about two firewalls at each data center, thereby creating a four node cluster?  Please understand, I get the logic, I just want to see if there is EVER a time where this could be an acceptable solution or if it is ALWAYS a bad idea.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="629417085930892686">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/03365178952937983707" rel="nofollow">Georgi</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c629417085930892686" href="#629417085930892686">03 November 2015 03:43</a>
              </span>
            </div>
            <div class="comment-content">Talking about scope creep and lack of infinite budgets - let&#39;s get dedicated dark fiber (2x10GE would run about $15k/month). Mind you it was suggested by a vendor, you got no L2 DCI - no problem just get dedicated dark fiber. Or even better, get OTV ( throw in a couple of expensive routers and associated licenses) to help achieve this clustering. <br />MattN: It&#39;s what we are aiming for, but we will leave it at 2 firewall cluster local to each DC minus the need to cluster across DCI.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="835171677557110854">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c835171677557110854" href="#835171677557110854">03 November 2015 10:32</a>
              </span>
            </div>
            <div class="comment-content">MattN, single cluster = single failure domain. Adding more firewalls to the cluster will not make it more resilient to DCI/CCL link failures. The only way forward is to build two clusters (one in each data center).</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="630009376407214314">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/05981327582538698354" rel="nofollow">MattN</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c630009376407214314" href="#630009376407214314">03 November 2015 17:20</a>
              </span>
            </div>
            <div class="comment-content">OK - So, consensus appears to be that it is ALWAYS a bad idea, even under &quot;ideal&quot; conditions. This is because a SPOF would be created by the cluster.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="8356193059476223350">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/06629417609430454658" rel="nofollow">Kaage</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8356193059476223350" href="#8356193059476223350">19 November 2015 16:47</a>
              </span>
            </div>
            <div class="comment-content">Do you even need two clusters? One firewall per DC is enougn most cases. </div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7715183550520307143">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7715183550520307143" href="#7715183550520307143">02 November 2015 15:42</a>
              </span>
            </div>
            <div class="comment-content">Hehehhe, I like the article. It is hummorous, but in the end true. Marketing people (no offense) will lot of time sell anything without checking if it makes sense (or possible) from technical point of view.</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="1261317852775850320">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1261317852775850320" href="#1261317852775850320">02 November 2015 16:12</a>
              </span>
            </div>
            <div class="comment-content">And sadly, a big part of customers won&#39;t check too ;)</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7539151558999166704">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Nuno D</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7539151558999166704" href="#7539151558999166704">02 November 2015 17:41</a>
              </span>
            </div>
            <div class="comment-content">Ivan,<br />I get where you&#39;re coming from.  You&#39;re an old school, disciplined networking leader that architects networks based on rock-solid, time-tested designs.  But it seems that the prevailing fashion in network design and availability go against your traditional design principles: inter-site firewall clustering, inter-site vMotion, DCI, etc<br /><br />This isn&#39;t the first time that readers have asked you about these technologies, and it won&#39;t be the last.  Vendors will continue to market them despite their shortcomings, and customers will continue to eat them up.  I&#39;d like to think that vendors will also continue to work out the kinks and over time the technology will become rock solid and time-tested.<br /><br />I sincerely ask this out of curiosity and respect, though I will word it very directly: Are you too stuck on past, traditional designs and not being open to new ways of building IT?  I get that IT is very cyclical, and these new trends may die in the future...or thrive, and the customers may either fail...or succeed.<br /><br />For the record, I see the same mindset reflected on the blog posts at netcraftsmen.net, another site comprised of old-school, disciplined professionals.  Maybe there&#39;s a common theme here...but that won&#39;t stop me from asking :-)<br /><br />Thanks</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="208246193870885673">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Christoph</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c208246193870885673" href="#208246193870885673">02 November 2015 18:31</a>
              </span>
            </div>
            <div class="comment-content">Well, if you think people are &quot;stuck in the past&quot; because they actually look left &amp; right before crossing the street and don&#39;t belive their &quot;App&quot; or the traffic light, then: Go ahead, prove yourself wrong, nobody will prevent you from hurting yourself.<br /><br />In other words: It&#39;s not about what you think, it&#39;s about how the technology was / is designed to work and how much risk you are willing to take. If you use a tool for a task it&#39;s not supposed to work for, it might work for some time, but it will fail at point...<br /></div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="8311876739517595582">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8311876739517595582" href="#8311876739517595582">02 November 2015 19:26</a>
              </span>
            </div>
            <div class="comment-content">In similar discussions I used to give example of AWS and their idea of regions and zones. Example of big player but not vendor, helps to stop crazy ideas from IT/app teams.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7648727809795402644">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/00439180073297788221" rel="nofollow">Kerry Thompson</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7648727809795402644" href="#7648727809795402644">03 November 2015 00:18</a>
              </span>
            </div>
            <div class="comment-content">I&#39;ve seen it done only once, and that was with a Telco that had 2 buildings 100metres apart with a tunnel full of fibre between them.<br /><br />Basically, to do it you will need rock-solid, highly available, high capacity, low latency layer2 between the sites. Not just for the sync between the 2 firewalls, but also for pretty much all of the VLANs that the firewalls connect to, and for everything else around the firewalls as well - think perimeter routers, load balancers, etc. Unless you&#39;ve got your own tunnel between the buildings, it&#39;s not worth the cost and pain of what happens if there&#39;s a break.<br /><br /></div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="3378384603758713452">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/03365178952937983707" rel="nofollow">Georgi</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3378384603758713452" href="#3378384603758713452">03 November 2015 03:44</a>
              </span>
            </div>
            <div class="comment-content">Worth noting that  the CCL carries data in case of asymmetric traffic - not just cluster synchronization data.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1404638892047521055">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/00097751192210829089" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1404638892047521055" href="#1404638892047521055">03 November 2015 12:40</a>
              </span>
            </div>
            <div class="comment-content">There are DCI designs which can protect from having one DC cut off from the Internet: https://drive.google.com/file/d/0B6XxNd5c3zV_SW9kTVF4SkdiYWM/view?usp=sharing<br />You can also make your DCI link redundant.<br />At last, there is an updated version of the ASA Clustering Deep Dive session PDF: https://www.ciscolive.com/online/connect/sessionDetail.ww?SESSION_ID=83709&amp;backBtn=true<br /></div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="6544806971577303037">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6544806971577303037" href="#6544806971577303037">03 November 2015 12:51</a>
              </span>
            </div>
            <div class="comment-content">Regardless of how complex a design you make, it cannot survive a DCI link failure (unless you build a backup tunnel over the outside WAN).<br /><br />As for &quot;making the link redundant&quot; - it&#39;s just a question of how much money you&#39;re willing to throw at the problem to reduce the risk of failure, but you can never eliminate that risk. <br /><br />As I wrote several times (note that the first blog post is from 2011), in the end you have to decide how badly you want to fail.<br /><br />http://blog.ipspace.net/2011/04/distributed-firewalls-how-badly-do-you.html<br />http://blog.ipspace.net/2015/10/sometimes-you-have-to-decide-how-badly.html</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1267210791129657664">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1267210791129657664" href="#1267210791129657664">24 March 2016 22:18</a>
              </span>
            </div>
            <div class="comment-content">Strange how inter-DC clustering failure is considered a certainty in this blog... I am running two 6 ASA node clusters (tier1/2) across 3 data centers. It has worked really well and has lightened the management burden for the network team to support 3 DCs. I do agree that your setup should favor success before attempting... IE heavy VM presence, redundant physical servers at each DC, reliable/resilient L2 DCI, backend L3 routing inside and outside the firewall, dynamic routing protocol... I did have to fight through a few bugs early on, but I fear not the challenge of new technology.<br /><br />Mark Baker<br />www.hi-technetworks.net</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="4142031508524161934">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4142031508524161934" href="#4142031508524161934">22 April 2016 17:34</a>
              </span>
            </div>
            <div class="comment-content">Response here:<br /><br />http://blog.ipspace.net/2016/04/some-people-dont-get-it-it-will.html</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
