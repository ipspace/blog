{
  "comments": [
    {
      "date": "02 November 2015 14:39",
      "html": "This post just made my day, I wish I had such images when I had to redesign/fix a dumb firewall ASA clustering design across L2-DCI, so I could show these images to them. Your sense of humor is just awesome Ivan!<br /><br />Keep it up. Cheers!",
      "id": "344250658648320073",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2015-11-02T14:39:36.724+01:00",
      "ref": "3329271950028878842",
      "type": "comment"
    },
    {
      "date": "02 November 2015 14:51",
      "html": "I wish I could print up all of your anti-stretched-DC blogs posts as a &quot;propaganda&quot; flyer and drop thousands of copies on the engineering campuses of all the major equipment vendors.  Perhaps that would be enough of a clue bat to make them cease and desist the insanity.",
      "id": "1160408696960340266",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2015-11-02T14:51:05.520+01:00",
      "ref": "3329271950028878842",
      "type": "comment"
    },
    {
      "date": "02 November 2015 14:54",
      "html": "Ivan, you act like Don Quixote but i&#39;m your Sancho Panza...",
      "id": "2511885919391742929",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2015-11-02T14:54:05.997+01:00",
      "ref": "3329271950028878842",
      "type": "comment"
    },
    {
      "comments": [
        {
          "date": "02 November 2015 15:43",
          "html": "If you&#39;re willing to pay for that why not add the extra two firewalls to remove the problem?",
          "id": "417574216959433763",
          "image": "https://3.bp.blogspot.com/-H2V8oUucSto/VcDOK9ZBBSI/AAAAAAAAAv4/1DNQA1NWqyk/s32/laptop006%2Bas%2Bsouthpark%2Bcharacter.png",
          "name": "Julien Goodwin",
          "profile": "https://www.blogger.com/profile/00108223150670314820",
          "pub": "2015-11-02T15:43:52.748+01:00",
          "ref": "2498504588740091167",
          "type": "comment"
        },
        {
          "date": "02 November 2015 16:30",
          "html": "What about two firewalls at each data center, thereby creating a four node cluster?  Please understand, I get the logic, I just want to see if there is EVER a time where this could be an acceptable solution or if it is ALWAYS a bad idea.",
          "id": "7720398014961085070",
          "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
          "name": "MattN",
          "profile": "https://www.blogger.com/profile/05981327582538698354",
          "pub": "2015-11-02T16:30:56.694+01:00",
          "ref": "2498504588740091167",
          "type": "comment"
        },
        {
          "date": "03 November 2015 03:43",
          "html": "Talking about scope creep and lack of infinite budgets - let&#39;s get dedicated dark fiber (2x10GE would run about $15k/month). Mind you it was suggested by a vendor, you got no L2 DCI - no problem just get dedicated dark fiber. Or even better, get OTV ( throw in a couple of expensive routers and associated licenses) to help achieve this clustering. <br />MattN: It&#39;s what we are aiming for, but we will leave it at 2 firewall cluster local to each DC minus the need to cluster across DCI.",
          "id": "629417085930892686",
          "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
          "name": "Georgi",
          "profile": "https://www.blogger.com/profile/03365178952937983707",
          "pub": "2015-11-03T03:43:20.104+01:00",
          "ref": "2498504588740091167",
          "type": "comment"
        },
        {
          "date": "03 November 2015 10:32",
          "html": "MattN, single cluster = single failure domain. Adding more firewalls to the cluster will not make it more resilient to DCI/CCL link failures. The only way forward is to build two clusters (one in each data center).",
          "id": "835171677557110854",
          "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
          "name": "Ivan Pepelnjak",
          "profile": "https://www.blogger.com/profile/13457151406311272386",
          "pub": "2015-11-03T10:32:43.427+01:00",
          "ref": "2498504588740091167",
          "type": "comment"
        },
        {
          "date": "03 November 2015 17:20",
          "html": "OK - So, consensus appears to be that it is ALWAYS a bad idea, even under &quot;ideal&quot; conditions. This is because a SPOF would be created by the cluster.",
          "id": "630009376407214314",
          "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
          "name": "MattN",
          "profile": "https://www.blogger.com/profile/05981327582538698354",
          "pub": "2015-11-03T17:20:08.063+01:00",
          "ref": "2498504588740091167",
          "type": "comment"
        },
        {
          "date": "19 November 2015 16:47",
          "html": "Do you even need two clusters? One firewall per DC is enougn most cases. ",
          "id": "8356193059476223350",
          "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
          "name": "Kaage",
          "profile": "https://www.blogger.com/profile/06629417609430454658",
          "pub": "2015-11-19T16:47:54.713+01:00",
          "ref": "2498504588740091167",
          "type": "comment"
        }
      ],
      "date": "02 November 2015 15:25",
      "html": "Ivan, just curious - Does your opinion change if you have dark fiber with two different physical paths and diverse entrances at your data centers? Or is your opinion is that it is just ALWAYS a bad idea?",
      "id": "2498504588740091167",
      "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
      "name": "MattN",
      "profile": "https://www.blogger.com/profile/05981327582538698354",
      "pub": "2015-11-02T15:25:07.170+01:00",
      "ref": "3329271950028878842",
      "type": "comment"
    },
    {
      "comments": [
        {
          "date": "02 November 2015 16:12",
          "html": "And sadly, a big part of customers won&#39;t check too ;)",
          "id": "1261317852775850320",
          "image": "https://resources.blogblog.com/img/blank.gif",
          "name": "Anonymous",
          "profile": null,
          "pub": "2015-11-02T16:12:01.997+01:00",
          "ref": "7715183550520307143",
          "type": "comment"
        }
      ],
      "date": "02 November 2015 15:42",
      "html": "Hehehhe, I like the article. It is hummorous, but in the end true. Marketing people (no offense) will lot of time sell anything without checking if it makes sense (or possible) from technical point of view.",
      "id": "7715183550520307143",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2015-11-02T15:42:45.286+01:00",
      "ref": "3329271950028878842",
      "type": "comment"
    },
    {
      "comments": [
        {
          "date": "02 November 2015 18:31",
          "html": "Well, if you think people are &quot;stuck in the past&quot; because they actually look left &amp; right before crossing the street and don&#39;t belive their &quot;App&quot; or the traffic light, then: Go ahead, prove yourself wrong, nobody will prevent you from hurting yourself.<br /><br />In other words: It&#39;s not about what you think, it&#39;s about how the technology was / is designed to work and how much risk you are willing to take. If you use a tool for a task it&#39;s not supposed to work for, it might work for some time, but it will fail at point...<br />",
          "id": "208246193870885673",
          "image": "https://resources.blogblog.com/img/blank.gif",
          "name": "Christoph",
          "profile": null,
          "pub": "2015-11-02T18:31:22.918+01:00",
          "ref": "7539151558999166704",
          "type": "comment"
        }
      ],
      "date": "02 November 2015 17:41",
      "html": "Ivan,<br />I get where you&#39;re coming from.  You&#39;re an old school, disciplined networking leader that architects networks based on rock-solid, time-tested designs.  But it seems that the prevailing fashion in network design and availability go against your traditional design principles: inter-site firewall clustering, inter-site vMotion, DCI, etc<br /><br />This isn&#39;t the first time that readers have asked you about these technologies, and it won&#39;t be the last.  Vendors will continue to market them despite their shortcomings, and customers will continue to eat them up.  I&#39;d like to think that vendors will also continue to work out the kinks and over time the technology will become rock solid and time-tested.<br /><br />I sincerely ask this out of curiosity and respect, though I will word it very directly: Are you too stuck on past, traditional designs and not being open to new ways of building IT?  I get that IT is very cyclical, and these new trends may die in the future...or thrive, and the customers may either fail...or succeed.<br /><br />For the record, I see the same mindset reflected on the blog posts at netcraftsmen.net, another site comprised of old-school, disciplined professionals.  Maybe there&#39;s a common theme here...but that won&#39;t stop me from asking :-)<br /><br />Thanks",
      "id": "7539151558999166704",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Nuno D",
      "profile": null,
      "pub": "2015-11-02T17:41:10.702+01:00",
      "ref": "3329271950028878842",
      "type": "comment"
    },
    {
      "date": "02 November 2015 19:26",
      "html": "In similar discussions I used to give example of AWS and their idea of regions and zones. Example of big player but not vendor, helps to stop crazy ideas from IT/app teams.",
      "id": "8311876739517595582",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2015-11-02T19:26:38.660+01:00",
      "ref": "3329271950028878842",
      "type": "comment"
    },
    {
      "comments": [
        {
          "date": "03 November 2015 03:44",
          "html": "Worth noting that  the CCL carries data in case of asymmetric traffic - not just cluster synchronization data.",
          "id": "3378384603758713452",
          "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
          "name": "Georgi",
          "profile": "https://www.blogger.com/profile/03365178952937983707",
          "pub": "2015-11-03T03:44:26.902+01:00",
          "ref": "7648727809795402644",
          "type": "comment"
        }
      ],
      "date": "03 November 2015 00:18",
      "html": "I&#39;ve seen it done only once, and that was with a Telco that had 2 buildings 100metres apart with a tunnel full of fibre between them.<br /><br />Basically, to do it you will need rock-solid, highly available, high capacity, low latency layer2 between the sites. Not just for the sync between the 2 firewalls, but also for pretty much all of the VLANs that the firewalls connect to, and for everything else around the firewalls as well - think perimeter routers, load balancers, etc. Unless you&#39;ve got your own tunnel between the buildings, it&#39;s not worth the cost and pain of what happens if there&#39;s a break.<br /><br />",
      "id": "7648727809795402644",
      "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
      "name": "Kerry Thompson",
      "profile": "https://www.blogger.com/profile/00439180073297788221",
      "pub": "2015-11-03T00:18:04.286+01:00",
      "ref": "3329271950028878842",
      "type": "comment"
    },
    {
      "comments": [
        {
          "date": "03 November 2015 12:51",
          "html": "Regardless of how complex a design you make, it cannot survive a DCI link failure (unless you build a backup tunnel over the outside WAN).<br /><br />As for &quot;making the link redundant&quot; - it&#39;s just a question of how much money you&#39;re willing to throw at the problem to reduce the risk of failure, but you can never eliminate that risk. <br /><br />As I wrote several times (note that the first blog post is from 2011), in the end you have to decide how badly you want to fail.<br /><br />http://blog.ipspace.net/2011/04/distributed-firewalls-how-badly-do-you.html<br />http://blog.ipspace.net/2015/10/sometimes-you-have-to-decide-how-badly.html",
          "id": "6544806971577303037",
          "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
          "name": "Ivan Pepelnjak",
          "profile": "https://www.blogger.com/profile/13457151406311272386",
          "pub": "2015-11-03T12:51:22.156+01:00",
          "ref": "1404638892047521055",
          "type": "comment"
        }
      ],
      "date": "03 November 2015 12:40",
      "html": "There are DCI designs which can protect from having one DC cut off from the Internet: https://drive.google.com/file/d/0B6XxNd5c3zV_SW9kTVF4SkdiYWM/view?usp=sharing<br />You can also make your DCI link redundant.<br />At last, there is an updated version of the ASA Clustering Deep Dive session PDF: https://www.ciscolive.com/online/connect/sessionDetail.ww?SESSION_ID=83709&amp;backBtn=true<br />",
      "id": "1404638892047521055",
      "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
      "name": "Unknown",
      "profile": "https://www.blogger.com/profile/00097751192210829089",
      "pub": "2015-11-03T12:40:27.423+01:00",
      "ref": "3329271950028878842",
      "type": "comment"
    },
    {
      "comments": [
        {
          "date": "22 April 2016 17:34",
          "html": "Response here:<br /><br />http://blog.ipspace.net/2016/04/some-people-dont-get-it-it-will.html",
          "id": "4142031508524161934",
          "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
          "name": "Ivan Pepelnjak",
          "profile": "https://www.blogger.com/profile/13457151406311272386",
          "pub": "2016-04-22T17:34:48.704+02:00",
          "ref": "1267210791129657664",
          "type": "comment"
        }
      ],
      "date": "24 March 2016 22:18",
      "html": "Strange how inter-DC clustering failure is considered a certainty in this blog... I am running two 6 ASA node clusters (tier1/2) across 3 data centers. It has worked really well and has lightened the management burden for the network team to support 3 DCs. I do agree that your setup should favor success before attempting... IE heavy VM presence, redundant physical servers at each DC, reliable/resilient L2 DCI, backend L3 routing inside and outside the firewall, dynamic routing protocol... I did have to fight through a few bugs early on, but I fear not the challenge of new technology.<br /><br />Mark Baker<br />www.hi-technetworks.net",
      "id": "1267210791129657664",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2016-03-24T22:18:38.103+01:00",
      "ref": "3329271950028878842",
      "type": "comment"
    }
  ],
  "count": 21,
  "id": "3329271950028878842",
  "type": "post",
  "url": "2015/11/stretched-firewalls-across-layer-3-dci.html"
}