<div class="comments post" id="comments">
  <h4>14 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="8105815538621564388">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8105815538621564388" href="#8105815538621564388">30 January 2018 10:50</a>
              </span>
            </div>
            <div class="comment-content">I have another &quot;good reason&quot; why you need L2 connectivity. Couple of years ago one engineer wants to implement L2 between remote locations and datacenter. The reason for that was to simplify the network, so that workers/devices on the central location will have the same connectivity. So you can prepare the printer with the IP address and you can simply plug the printer on the remote location and everything is working... :)</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="4594260197623648127">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4594260197623648127" href="#4594260197623648127">30 January 2018 10:56</a>
              </span>
            </div>
            <div class="comment-content">I had to read it twice to confirm it was meant as sarcasm...</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6215887456078161661">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6215887456078161661" href="#6215887456078161661">30 January 2018 11:56</a>
              </span>
            </div>
            <div class="comment-content">Me too .. :) .. Except this actually happened. Having implemented redundant L3 connectivity from a remote location to a DC with a neat, repeatable design it was all torn down and replaced with a L2 extension because &quot;it made it easier to image workstations&quot; ... </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1710055585220255399">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/14615081241229714383" rel="nofollow">Antonio Ojea</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1710055585220255399" href="#1710055585220255399">31 January 2018 09:15</a>
              </span>
            </div>
            <div class="comment-content">Well, for me this is the main reason that people use them, &quot;to simplify the network&quot;.<br />The problem is that stretched vlans work if the scenario is small or simple and this make difficult to explain to the people that are using them that those performance problems and hiccups in the network that they are having are because L2 doesn&#39;t scale ( I recall other great blog post from Ivan about this topic), also more difficult if the vendor is explaining them that is the way to do it.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2555562283609673864">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/09771677856264877238" rel="nofollow">Jeff Behrns</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2555562283609673864" href="#2555562283609673864">30 January 2018 12:39</a>
              </span>
            </div>
            <div class="comment-content">Great stuff as usual sir. Even if you stretch using a method that is somewhat well thought out like oh-tee-vee, when you throw a poorly designed app on top you will ultimately start hacking the DCI to make the app work thus putting both DCs at even higher risk of meltdown.  Example: disabling arp suppression to make NLB work.  And people wonder why cloud providers are taking over.  Enterprise vendors think they are solving customer problems with overlay monstrosities when they are actually just gifting the clouds more business.  Stop re-packaging old world tech if you want to survive.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6301983781459426303">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://github.com/dshcherb/" rel="nofollow">Dmitrii S.</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6301983781459426303" href="#6301983781459426303">30 January 2018 15:01</a>
              </span>
            </div>
            <div class="comment-content">+1 on simplistic routing<br /><br />I am trying to push VRF functionality into modeling and bare-metal provisioning software based on the new Linux Kernel VRF-lite code (thanks a lot to those who upstreamed this) to avoid L2 stretching or static route usage pad.lv/1737428.<br /><br />Currently the modeling software helps with endpoint discovery based on the fact that hosts are multi-homed but does not help with routing.<br /><br />The VRF functionality needs to be there to make sure hosts are not turned into routers (security and operational reasons). At the same time, with VRFs there is no reliance static routes on a given host.<br /><br />In general, I would say that VIP/FIP-oriented failover mechanisms constrain software deployments to a single L2.<br /><br />* Keystone (OpenStack) catalog is a good example of that problem: a single hostname can be used as a catalog entry and clients only expect a single hostname;<br />* Highly-available load-balancers suffer from the same problem.<br /><br />Doing L3 properly certainly requires more effort: either clients should be clever enough to select from multiple endpoints and do failover correctly or L3 infrastructure should be good enough to support ECMP with hosts using loopback interfaces with correct addresses. Multiple highly-available load-balancers + multiple A records per load-balancer hostname is another option but it just tries to hide the L3 part and has certain limitations with regards to user session management (not to mention that you have to resolve first =&gt; think about DNS high-availability).<br /><br />Or, you can do VIPs on a single L2 which is why software vendors require that (who knows if you meet a qualified enough network team? Will their security team allow peering? Does a software vendor have the right network expertise?).<br /><br />Thanks for the post!</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6732092397027167174">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/03370697842771988340" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6732092397027167174" href="#6732092397027167174">30 January 2018 23:04</a>
              </span>
            </div>
            <div class="comment-content">i met with a couple of decix (big german internet exchange) guys in hamburg last week. they try to offer a product named direct cloud access. i took one of them with me cause we had basicly the same 2h drive to get to our beds and we had a lengthy discussion regarding this topic, how they try to place it on the market and to which people they are trying to sell what.<br /><br />basicly as a cloud provider you can use your existing 10 or 100g port at decix to offer vlans from your cloud to an isp connected at the decix who shall extend to vlan to their customer. i absolutly did not see any sence but creating a big l2 nightmare. one of the reasons i was presented was to build redundancy concepts (!?!) and to garantee roundtrip times to the cloud services.<br /><br />so basicly an internet exchange with plenty of clouds connected and plenty of bandwith available offers us a tool to build giantic l2 loops between different clouds and customers!<br /><br />next step will be to dig out spanning tree to solve the upcoming issues ;-)<br /><br />me and my collegue startet to have fun about cloud-loops. does a cloud start raining when it loops? what will come out when it starts raining? water or personal sensitive data? if it is personal sensitive date will an umbrella protect you data security officer? hope you feel my irony on this whole l2 topic...</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="284332246510445867">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c284332246510445867" href="#284332246510445867">31 January 2018 08:47</a>
              </span>
            </div>
            <div class="comment-content">As weird as it sounds, P2P VLAN between your DC and cloud is the best you can do - you don&#39;t want to deal with someone in the middle messing up your routing tables. See http://blog.ipspace.net/2012/07/the-difference-between-metro-ethernet.html for details.<br /><br />The last paragraph is a keeper - it not only made my day but also brightened up the whole Tech Field Day crew at CLEUR18. Thanks a million!</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3912211463473111357">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/03370697842771988340" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3912211463473111357" href="#3912211463473111357">31 January 2018 23:01</a>
              </span>
            </div>
            <div class="comment-content">ok, when you take it that way and use it as an ethernet link to run l3 over it and use a ipsec tunnel over the internet as a backup it might make sense. but give the people the ability to get layer 2 curcuit and they will start doing stupid stuff</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1075433083230935221">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/12403243537531266493" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1075433083230935221" href="#1075433083230935221">05 February 2018 09:26</a>
              </span>
            </div>
            <div class="comment-content">Recently I feel like it&#39;s really vendors pushing layer 2 solutions, rather than us (enterprise customer) demanding it. As example Cisco have been really aggressively pushing us to buy into their SDA solution. It currently seems to rely mostly on VXLAN overlays that let you stretch layer 2 domains. The selling point being you can click buttons in a GUI and just pretend its magic and not a layer 2 overlay. I was told by someone from Cisco &quot;you don&#39;t need to worry about what it&#39;s doing&quot;... which sort of translated to &quot;shut up and buy it&quot;. Large layer 2 domains are something we&#39;ve been slowly moving away from for years, we no longer have the same reliance on layer 2 connectivity in the majority of the campus. Most of our legacy applications are long gone and in recent times we&#39;ve been trying to ensure no &quot;lazy&quot; application are purchased.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3730560092565571773">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3730560092565571773" href="#3730560092565571773">16 February 2018 19:33</a>
              </span>
            </div>
            <div class="comment-content">Biggest need for stretched vlans I&#39;ve seen is DC migrations when the entity cannot or will not attempt to Re-IP.  </div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="6226589988693571767">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6226589988693571767" href="#6226589988693571767">18 February 2018 10:42</a>
              </span>
            </div>
            <div class="comment-content">I would say this is a special case of IP address mobility. See also<br /><br />http://blog.ipspace.net/2013/09/layer-2-extension-otv-use-cases.html</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7548497068142183208">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7548497068142183208" href="#7548497068142183208">28 February 2018 08:54</a>
              </span>
            </div>
            <div class="comment-content">Hi Ivan,<br />It remains a constant battle for me to guide application designers away from their reliance on stretched VLANs. So thanks for refreshing your warnings about stretched VLANs (I remember your May 2012 article on the subject). I continue to look around for similar guidance from other sources such as the one from Gartner below in 2015. If you know of similar guidance from other sources then it would help further support my case.<br />https://blogs.gartner.com/andrew-lerner/2015/04/23/stretchdontbreak<br />Kind Regards,<br />Peter</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="1308753918908382346">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1308753918908382346" href="#1308753918908382346">28 February 2018 13:18</a>
              </span>
            </div>
            <div class="comment-content">Haven&#39;t found anything similarly useful. You need some operational experience (and related scars) to figure out why stretched VLANs are so bad, and most so-called thought leaders lack both.<br /><br />Also, most everyone probably decided to leave this corpse to rot while they chase the beautiful intent-based unicorns ;))</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
