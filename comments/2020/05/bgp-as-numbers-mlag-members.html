<div class="comments post" id="comments">
  <h4>2 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="51">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">perz</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c51" href="#51">27 May 2020 10:05</a>
              </span>
            </div>
            <div class="comment-content"><p>Hi Ivan, </p>

<p>First, thanks a lot for all the quality content you produce and for this post.</p>

<p>Two things i&#39;d like to discuss:</p>

<ol>
<li><p>The eBGP session between the MLAG pair is an &#39;underlay&#39; peering right ? (evpn af activated). I don&#39;t see any value in running overlay peering in each customer VRF there... but I may be wrong ? Can you confirm or precise what peering type your were thinking of ? </p></li>
<li><p>Imagine the case we have a ToR pair but without MLAG, running eBGP with downstream servers (i don&#39;t say it&#39;s good, but...). Would you run the same setup ? </p></li>
</ol>

<p>eBGP seems fine overall as you don&#39;t deal with iBGP loop prevention rules and knobs, which is translated in a more straightforward configuration, but it does not change the fact that you have to clearly &quot;lock&quot; what the pair of switches advertise.</p>

<p>Thank you, </p>
</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="54">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c54" href="#54">28 May 2020 09:59</a>
              </span>
            </div>
            <div class="comment-content"><p>Hi,</p>

<p>You REALLY SHOULD watch the two webinars I mentioned at the end of the blog post, here are a few short answers:</p>

<ul>
<li>&quot;<em>The eBGP session between the MLAG pair is an &#39;underlay&#39; peering right?</em>&quot; - absolutely</li>
<li>&quot;<em>Imagine the case we have a ToR pair but without MLAG, running eBGP with downstream servers. Would you run the same setup?</em>&quot; - yes. In fact, if your servers support running services off loopback interfaces, that would be the ideal way to implement a L3-only fabric, more so if you run BGP implementations that can deal with unnumbered interfaces.</li>
<li>&quot;<em>eBGP seems fine overall as you don&#39;t deal with iBGP loop prevention rules and knobs, which is translated in a more straightforward configuration, but it does not change the fact that you have to clearly lock what the pair of switches advertise</em>&quot; - if you use the same AS number on all spine switches, then the basic BGP sanity checks take care of most count-to-infinity loops and ensure valley-free routing. Obviously you&#39;d also implement some standard BGP security mechanisms on the EBGP sessions with the servers (like maximum AS-path length to stop transit advertisements).</li>
</ul>

<p>Hope this helps, Ivan</p>
</div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
