{
   "comments": [
      {
         "date": "12 April 2020 02:47",
         "html": "<p>Addressing the problem of BGP Next Hop reachability, I&#39;m not familiar in the particular case of EVPN, but the Cisco implementation of BGP has 2 features enabled by default which are meant to address this issue specifically, the BGP Scanner process and (the even faster) Next Hop Tracking.</p>\n\n<p>And that&#39;s just for indirect / 3rd party next hop. If your BGP peering (regardless of whether it is iBGP or eBGP, even though the latter is the recommended best practice), then  fast externall fallover will immediately kill the neighbor and flush all routes which it learned from that neighbor.</p>\n\n<p>Of course, none of these features will protect you against gray SW/HW failures, such as faulty line card which still appears as UP but is not actually forwarding any traffic. </p>\n",
         "id": "1",
         "name": "Ciprian Chira",
         "pub": "2020-04-12T14:47:46",
         "type": "comment"
      },
      {
         "date": "13 April 2020 11:53",
         "html": "<p>@Ciprian: You&#39;re absolutely right, but those are control-plane optimizations that either detect BGP session failure faster than you&#39;d be able to do it with BGP timers (in case BFD is not available), or flush invalid routes from BGP table faster than what we had in the past with periodic BGP scanner.</p>\n\n<p>Neither of these optimizations address the challenge described in this blog post: can we trust that a next hop advertised by BGP is usable for traffic forwarding.</p>\n",
         "id": "2",
         "name": "Ivan Pepelnjak",
         "pub": "2020-04-13T11:53:07",
         "type": "comment"
      }
   ],
   "count": 2,
   "type": "post",
   "url": "2020/04/can-we-trust-bgp-next-hops-part-1.html"
}
