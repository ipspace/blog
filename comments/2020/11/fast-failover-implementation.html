<div class="comments post" id="comments">
  <h4>6 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="253">
          <!--
          <div class="avatar-image-container">
            <img src="">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Tim</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c253" href="#253">24 November 2020 01:46</a>
              </span>
            </div>
            <div class="comment-content"><p>Thought the ASR9000 chipsets aren&#39;t Broadcom based, just unfortunately similarly named</p>
</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="255">
          <!--
          <div class="avatar-image-container">
            <img src="">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Piotr Jablonski</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c255" href="#255">24 November 2020 04:16</a>
              </span>
            </div>
            <div class="comment-content"><p>This is important statement to remember that hardware must be programmed. This is true not only for FRR, IPLFA, ECMP, but also for EIGRP Feasible Successor and Prefix Prioritization. For example Prefix Prioritization was added in hardware by Cisco somewhere in 2015 on some platforms. Prior that there was no guarantee that the order of prefixes configured in software was preserved in hardware.</p>

<p>Just to clarify some points:
- &quot;PIC Core (recursive next-hop resolution in a ECMP network)&quot; - PIC Core takes care of hierarchical FIB and resolution not only in ECMP.
- On modern platforms PIC Core is enabled by default. On older like 7600 it requires an additional command. So to have hardware based backup path in IPFLA on ASR9k it is enough to turn on IPLFA.
- &quot;keep in mind that on modern CPUs the reprogramming of forwarding tables might take longer than the time a routing protocol needs to do its job&quot; - It depends on the number of prefixes/objects to be programmed. Every hardware has its own FIB speed like ASR1k around 13k prefixes/second. This means that writing/removing 13k of prefixes takes 1 second. So a routing table computation can be faster but the overall convergence process will be longer as it requires also updating HW FIB.</p>
</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="256">
          <!--
          <div class="avatar-image-container">
            <img src="">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c256" href="#256">24 November 2020 04:21</a>
              </span>
            </div>
            <div class="comment-content"><p>@Piotr: Thanks a million for the ASR1K data point - exactly what I needed. Any pointers to documentation I could use?</p>

<p>My point was &quot;<em>if it takes 1 second to reprogram the FIB, who cares if it takes 1 msec or 100 msec to find the alternate path</em>&quot;.</p>
</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="257">
          <!--
          <div class="avatar-image-container">
            <img src="">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Christoph</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c257" href="#257">24 November 2020 04:39</a>
              </span>
            </div>
            <div class="comment-content"><p>&gt;&gt;Thought the ASR9000 chipsets aren&#39;t Broadcom based, just unfortunately similarly named
The NPUs are EZchip-silicon, at least for Trident &amp; Typhoon, Tomahawk &amp; Lightspeed maybe too. But they&#39;re also using Broadcom with the switch fabric which is (to my knowlege) just a big Broadcom-silicon-based switch.
Not sure, but that&#39;s perhaps where the generation-name is derived from.</p>

<p>&gt;&gt;On modern platforms PIC Core is enabled by default.
That&#39;s probably not true in all cases.
It might be true for routers, but definitely not for switches, especially not for datacenter switches. The reason for that is the compromise you have to take in lookup time vs convergence time which is flat FIB vs hierarchical FIB (a.k.a. &quot;PIC Code&quot;).</p>
</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="258">
          <!--
          <div class="avatar-image-container">
            <img src="">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Lukas Krattiger</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c258" href="#258">24 November 2020 05:43</a>
              </span>
            </div>
            <div class="comment-content"><p>@Christoph</p>

<p>On your comment of:
&gt;&gt;That&#39;s probably not true in all cases. 
&gt;&gt;It might be true for routers, but definitely 
&gt;&gt;not for switches, especially not for 
&gt;&gt;datacenter switches. The reason for that 
&gt;&gt;is the compromise you have to take in 
&gt;&gt;lookup time vs convergence time which 
&gt;&gt;is flat FIB vs hierarchical FIB (a.k.a. &quot;PIC Code&quot;).</p>

<p>This is not accurate. Majority of the Switching Silicon (ASIC) supports hierarchical FIB and this is true for Merchant and Custom Silicon. For example, the Cisco Nexus 9000 (Cisco Silicon) as well as the Nexus 3600-R (Merchant Silicon) supports it and the same is true for the broader Merchant Silicon set across Broadcom, Innovium, Barefoot etc. The difference is in the detail but hierarchical FIB is today a pretty standard in Switch Silicon (ASIC).</p>
</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="259">
          <!--
          <div class="avatar-image-container">
            <img src="">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Piotr Jablonski</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c259" href="#259">24 November 2020 10:09</a>
              </span>
            </div>
            <div class="comment-content"><p>@Ivan: FIB Speed is rare info available publicly. The most data today you can get about NCS: https://xrdocs.io/ncs5500/tutorials/ncs5500-fib-programming-speed. Other platforms via Cisco representatives or own testing.</p>
</div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
