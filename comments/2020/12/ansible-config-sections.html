<div class="comments post" id="comments">
  <h4>2 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="324">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Andrey</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c324" href="#324">22 December 2020 01:38</a>
              </span>
            </div>
            <div class="comment-content"><p>I think it&#39;s not about ansible, the problem you pointed are much bigger. I saw funny case when one errorred config line completely block ol logic. For example interface name could be not recognized and device read several next lines belonging to previous recognized interface.
When I need to do massive config change, I try to split this to several atomic update. This way takes more time to send updates to devices, but I found it less error prone.</p>
</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="325">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c325" href="#325">23 December 2020 10:28</a>
              </span>
            </div>
            <div class="comment-content"><p>@Andrey: Thank you for another juicy can of worms ;))</p>

<p>That should not happen with recent Ansible releases, as most config modules try to do their best to catch things that might indicate a troubled network device (read: configuration errors) and stop right there... but of course you&#39;d be left with a half-configured device. Not much Ansible can do there - you have to take care of automated rollbacks.</p>
</div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
