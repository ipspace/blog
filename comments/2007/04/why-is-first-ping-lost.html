<div class="comments post" id="comments">
  <h4>17 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="1948337244066930623">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1948337244066930623" href="#1948337244066930623">29 November 2007 23:57</a>
              </span>
            </div>
            <div class="comment-content">What will happen if you increase the ping timeout?</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2759392212005441982">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2759392212005441982" href="#2759392212005441982">30 November 2007 07:22</a>
              </span>
            </div>
            <div class="comment-content">No difference. The IP packet that triggers ARP request is dropped unconditionally. No timeout will help you, as there is no retransmission with ICMP.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="467935477701548810">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c467935477701548810" href="#467935477701548810">18 August 2008 08:56</a>
              </span>
            </div>
            <div class="comment-content">There could be some buffer to store ICMP packet to store and once ARP request resolved, the buffer can release the first packet. why this is not happening??</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5087221540112237712">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5087221540112237712" href="#5087221540112237712">22 August 2008 18:24</a>
              </span>
            </div>
            <div class="comment-content">IP is designed to be an unreliable protocol, so when a packet is dropped in the network (or delayed for too long), the source will retransmit. If you delay the packet in the network for too long, you might end up with duplicate packets, which could cause quite a headache for some poorly written applications. <BR/><BR/>It's thus better to drop what you can't handle immediately and let the source deal with the problem ... and anyway, with CEF glean adjacencies ARP tables almost never time out.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1091158772161364467">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1091158772161364467" href="#1091158772161364467">18 June 2012 20:33</a>
              </span>
            </div>
            <div class="comment-content">I&#39;ve seen this also cause SLB load balancing to fail out all the real servers until their IP&#39;s have all been manually pinged and have entries in the ARP cache.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="8838525717577261017">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8838525717577261017" href="#8838525717577261017">31 October 2012 04:49</a>
              </span>
            </div>
            <div class="comment-content">Are there any other causes? I&#39;m seeing this on a single SRX firewall to a host that is already in the ARP table. It only happens if I wait around 50seconds+ before attempting a new ping. Any pings within that time frame get through 100%</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2212209190940884064">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2212209190940884064" href="#2212209190940884064">03 February 2013 21:12</a>
              </span>
            </div>
            <div class="comment-content">Would be good to mention why 2nd packet is not dropped as well - when target receives 2nd packet sent (1st for target) then why there is no need for ARP request to reply to it and drop target&#39;s first response.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="8472817366852023812">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/14194923535196472041" rel="nofollow">Scott</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8472817366852023812" href="#8472817366852023812">13 June 2013 02:24</a>
              </span>
            </div>
            <div class="comment-content">If I ping the LAN interface of a remote branch router, I still have the same problem.  This doesn&#39;t seem to fit the explanation, as the router shouldn&#39;t need to perform an ARP broadcast/discovery to locate its own address, right? After all, it is the layer 2/3 boundary.<br />Is there something I&#39;m missing, or that can explain this issue?</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="4325570263954475872">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/15057413157793077159" rel="nofollow">Alexandr</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4325570263954475872" href="#4325570263954475872">21 July 2013 14:05</a>
              </span>
            </div>
            <div class="comment-content">&gt; If I ping the LAN interface of a remote branch router<br />Are your routers connected via Ethernet? If yes, then it might be the missing ARP entry for your remote router (your local router should still find MAC address of your remote router to send ping to it). So it might still be just the same situation as stated in article.<br />BTW, if you &quot;debug ip packet&quot; then you will see that debug for the first packet (in case ARP was not resolved earlier) says &quot;Encapsulation failed&quot;, so I can presume it means &quot;I could not encapsulate this packet due to missing ARP entry for this IP address&quot;.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1897058879917877426">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/05707265569403291122" rel="nofollow">Rahman</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1897058879917877426" href="#1897058879917877426">06 October 2013 11:22</a>
              </span>
            </div>
            <div class="comment-content">Yes before I give ping there wasn&#39;t any arp entry and the ping failed for the first packet<br />*Mar  1 00:03:40.495: IP: s=10.1.2.1 (local), d=10.1.2.2 (FastEthernet0/0), len                                         100, encapsulation failed.!!!!<br /></div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2697156752263571889">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/03335484797508847724" rel="nofollow">@n@nD</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2697156752263571889" href="#2697156752263571889">07 February 2014 12:35</a>
              </span>
            </div>
            <div class="comment-content">What if we add 50 brand new routers between 2 hosts, now if we try to ping will the first 50 packets will drop so that the ARP and DNS responses for 50 routers will take that much time??</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2144059739065803840">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/00181452285043011072" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2144059739065803840" href="#2144059739065803840">25 February 2015 10:04</a>
              </span>
            </div>
            <div class="comment-content">It&#39;s all about ARP request and NIC&#39;s buffering ... first ping&#39;s packet waits certain time for ARP reply to put it&#39;s destination MAC in its frame after exceeding this time and the reply didn&#39;t reach ... the packet will be dropped and the next packets will be sent .. </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5373811487319609270">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5373811487319609270" href="#5373811487319609270">30 March 2016 22:14</a>
              </span>
            </div>
            <div class="comment-content">Hey guys... Does anyone know how to configure a router(A) so it can send acopy of its arp table to another router(B)<br /><br />All hosts inside X subnet are pointing towards router A. I need to have that exact copy dynamically if possible in router B.<br /><br />Thanks!</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="5758413383073926132">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5758413383073926132" href="#5758413383073926132">31 March 2016 08:33</a>
              </span>
            </div>
            <div class="comment-content">Well, if you&#39;d be running Cumulus Linux (or any other routing-over-Linux product) it would be a simple matter of writing a Python (or Perl) script.<br /><br />AFAIK there&#39;s no such option in traditional routers.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6040306252259187607">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6040306252259187607" href="#6040306252259187607">12 November 2017 18:23</a>
              </span>
            </div>
            <div class="comment-content">Thanks for this article. This answers my problem: I send only one ping and I get a timeout even after increasing (a lot) the delay before the timeout (like some other articles suggest). In the captures, the ICMP request is not emitted at all after the ARP response.<br /><br />But what is your source? I cannot find any document on Cisco about this.</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="2732268579201038483">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2732268579201038483" href="#2732268579201038483">12 November 2017 19:45</a>
              </span>
            </div>
            <div class="comment-content">What is my source? Packet traces, debugging printouts, and familiarity with how things are done ;)... slowly gained while studying real-life networking operating systems for 30 years.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1537465075152400996">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1537465075152400996" href="#1537465075152400996">12 November 2017 20:54</a>
              </span>
            </div>
            <div class="comment-content">Hehe, thanks again for the valuable article then. I&#39;m just surprised to find so many answers about increasing the timeout delay whereas this is pointless since the request was dropped.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
