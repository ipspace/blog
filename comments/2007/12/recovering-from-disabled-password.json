{
  "comments": [
    {
      "date": "05 December 2007 13:06",
      "html": "Hello, Ivan!<BR/><BR/>I have also tried recently (last week) to delete the startup-config from a Cisco 837 router who had the \"no service password-recovery\" feature activated, but there was no way whatsoever to send BREAK to the poor thing.<BR/><BR/>Unfortunately the NVRAM is emulated in flash memory (onboard, ofcourse) so i couldn't erase it.<BR/><BR/>I have also tried setting a jumper on all possible positions on the 10 motherboard pair of pins but it still loaded the startup-config from the NVRAM :)<BR/><BR/>Regards,",
      "id": "5103462419087216040",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2007-12-05T13:06:00.000+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "05 December 2007 15:04",
      "html": "I assumed you opened a service request with Cisco for that issue, right Ivan ? :)<BR/>Interesting. I have some devices that should support the \"no service password-recovery\" functionality. I'll give it a try and report back the results.",
      "id": "458524090773338964",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2007-12-05T15:04:00.000+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "06 December 2007 07:21",
      "html": "@Bluedemon: Absolutely :*) Come on ...",
      "id": "8921579591277596333",
      "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
      "name": "Ivan Pepelnjak",
      "profile": "https://www.blogger.com/profile/13457151406311272386",
      "pub": "2007-12-06T07:21:00.000+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "06 December 2007 19:04",
      "html": "I am too scare to try...it's because I don't have a spare router to lose in case I screw up.<BR/><BR/>:^)",
      "id": "9053424053899668831",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2007-12-06T19:04:00.000+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "07 December 2007 19:42",
      "html": "the bug (break being ignored after IOS is booted) seems to manifest because IOS checks for the break only in the first 5 seconds when the IOS is initialized.<BR/><BR/>it seems that this process (ios init) takes more than 5 seconds on some platforms/images (roughly 6 seconds on 837 ;-) and the break arrives too late.<BR/><BR/>the cisco workaround was to increase this interval to 10 seconds in newer images.<BR/><BR/>i guess you just need to RMA the affected router, if you have no access to enable...",
      "id": "3991935516982587212",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2007-12-07T19:42:00.000+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "13 December 2007 19:55",
      "html": "This is something that I ran into with a router I bough on ebay ... I solved my issue by removing the NVRAM chip from the router which forces it to boot in ROM MON, then changed the confreg, then put the NVRAM chip back in, and not only did I have a password recovery, I was able to pull the entire config from the previous Co-Lo that was on the router.",
      "id": "7194551623187047716",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2007-12-13T19:55:00.000+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "12 January 2008 22:20",
      "html": "Ivan, have you got any useful answer from Cisco TAC?",
      "id": "252804857200779533",
      "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
      "name": "Jozef Janitor",
      "profile": "https://www.blogger.com/profile/07308153695533497191",
      "pub": "2008-01-12T22:20:00.000+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "14 January 2008 09:42",
      "html": "I haven't opened a case (the whole TAC thread was a joke ;). In my case, it would have been a theoretical question (I didn't have a locked-up router) and I would not want to waste TAC engineers' time, I guess there are plenty of other people doing that already.",
      "id": "540202787995229315",
      "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
      "name": "Ivan Pepelnjak",
      "profile": "https://www.blogger.com/profile/13457151406311272386",
      "pub": "2008-01-14T09:42:00.000+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "31 January 2008 14:50",
      "html": "Hi Ivan,<BR/><BR/>Actually we has this feature in our routers long before 12.3 or 12.4 it was simply a 'hidden' command. In fact it date's back to before 11.2 code ;-) ... email me a show tech so that I can emulate is the hardware....btw...here's an old 2620 with 12.0(7) with the feature enable from a write-up I did back in 2001:<BR/><BR/>Cisco Internetwork Operating System Software <BR/>IOS (tm) C2600 Software (C2600-JO3S56I-M), Version 12.0(7)T, RELEASE SOFTWARE (fc2)<BR/>Copyright (c) 1986-1999 by cisco Systems, Inc.<BR/>Compiled Tue 07-Dec-99 07:11 by phanguye<BR/>Image text-base: 0x80008088, data-base: 0x8107A5D0 <BR/><BR/>PASSWORD RECOVERY IS DISABLED.<BR/><BR/>Do you want to reset the router to factory default configuration and proceed [y/n] ? y<BR/><BR/>Reset router configuration to factory default.",
      "id": "8983448229647787355",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2008-01-31T14:50:00.000+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "05 July 2008 09:32",
      "html": "I have a Cisco 1841 and nothing I can do will reset the password.<BR/><BR/>All the breaks in the world, right after the image loads, before it every other time you can imagine.<BR/><BR/>I am going down two avenues:<BR/><BR/>1. Find out which chip on the mother board is the NVRAM and physically unsolder it.<BR/><BR/>2. Write my own IOS that when loaded erases the NVRAM.<BR/><BR/>Both options will probably result in the box being a doorstop for the rest of eternity :-)",
      "id": "4721296108577704355",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2008-07-05T09:32:00.000+02:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "13 March 2009 21:12",
      "html": "There's a procedure used to \"unbrick\" some Linksys routers running Linux.<BR/><BR/>It involves shorting a couple of pins of the onboard flash, rendering it unusable.  The router can then be accessed via its recovery mechanism.<BR/><BR/>I wonder if something similar couldn't be tried here?  Ground a pin that's critical for reading NVRAM?<BR/><BR/>Obviously there is some risk, but if you're starting with an unusable router anyway...<BR/><BR/>And it's certainly preferable to unsoldering!<BR/><BR/>The Linksys procedure can be found by googling: wrt \"pin 15 and 16\"",
      "id": "4327208681809536846",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2009-03-13T21:12:00.000+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "05 March 2010 12:56",
      "html": "i  have 1 2811 router i forgeted my password.it show error &quot;password recovery functionality is disabled&quot;please tell me how to rectify this error",
      "id": "7774913724014300056",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "sahebpeer",
      "profile": null,
      "pub": "2010-03-05T12:56:01.000+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "26 March 2010 06:00",
      "html": "Ok guy... This is a old old post but my friend is google and it told me that the friend of is friend of is friend... that is cisco I think??? told that since some age... &quot; http://www.ict-partner.net/en/US/docs/ios/12_3/12_3y/12_3ya8/gtnsvpwd.html &quot;... I don&#39;t know but that work...",
      "id": "981508565675894136",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "testo",
      "profile": null,
      "pub": "2010-03-26T06:00:44.000+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "26 March 2010 15:24",
      "html": "The point of the post is quite simple: Sometimes specific ROMMON versions do not work as described by Cisco&#39;s documentation, so it&#39;s best to check whether the recovery really works before disabling password recovery and forgetting the password ;)",
      "id": "7708204493860041497",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Ivan Pepelnjak",
      "profile": null,
      "pub": "2010-03-26T15:24:21.000+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "22 February 2011 14:11",
      "html": "http://www.cisco.com/en/US/docs/ios/12_3/12_3y/12_3ya8/gtnsvpwd.html#wp1062060<br />this works",
      "id": "7591339327444224031",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2011-02-22T14:11:00.666+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "04 March 2012 17:52",
      "html": "i had this issue with an 1841, and i couldn&#39;t seem to time the Break correctly, so it wasn&#39;t give me the option to clear the config.<br />So i alternately pressed &lt;break&gt;, then &lt;ctrl-break&gt; every second, as soon as the router powered on.<br />Crude, but it worked.&lt;/ctrl-break&gt;&lt;/break&gt;",
      "id": "8202390370132121807",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "SB",
      "profile": null,
      "pub": "2012-03-04T17:52:00.576+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "14 May 2012 01:48",
      "html": "thank SD!!! pressed ctrl+break every second and working",
      "id": "6048568642996502488",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2012-05-14T01:48:06.345+02:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "29 September 2012 22:06",
      "html": "CTRL+BREAK worked on my 887 router, just needed to be very quick, was only 1-2second time window after boot to send the  command. THANKS!",
      "id": "1769776836309762587",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2012-09-29T22:06:03.051+02:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "19 October 2012 17:11",
      "html": "If you are using a USB-&gt;serial adapter and can&#39;t get a break to work, more than likely the adapter is not sending it correctly. I spend over an hour trying it with one adapter and failing, changed to another brand&#39;s adapter and it worked first try.<br />",
      "id": "1381078574960683849",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2012-10-19T17:11:55.443+02:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "comments": [
        {
          "date": "05 January 2013 03:15",
          "html": "Also, it did not erase the config. I was able to see the old config, that the previous owner left on the device. You should always erase the nvram before excessing as this command does not really secure it.",
          "id": "6981528215915559248",
          "image": "https://resources.blogblog.com/img/blank.gif",
          "name": "Anonymous",
          "profile": null,
          "pub": "2013-01-05T03:15:21.176+01:00",
          "ref": "2734751251513900016",
          "type": "comment"
        }
      ],
      "date": "05 January 2013 03:08",
      "html": "ctrl-break worked for me on a 1721, answer yes then no then reboot. You should be able to get into rommon like normal.<br /><br />I think you need ctrl-break depending on your serial port/console client setup.",
      "id": "2734751251513900016",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2013-01-05T03:08:12.516+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "30 January 2013 00:06",
      "html": "I had a similar problem with a Cisco 1803 today. It had IOS 12.3 on it. There was no way to get into ROMMON-mode (break did not work). I started it with another flash card with IOS 15.1 for 1800-series on it. The nvram was apparently unreadable for this IOS version, so it &quot;reformatted&quot; it for me. Booting again with the original flash-card showed me that the NVRAM was indeed reset to empty, and I rescued my eBay bargain... ;-)",
      "id": "1288777736849822347",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "NicoD",
      "profile": null,
      "pub": "2013-01-30T00:06:05.824+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "25 June 2013 13:28",
      "html": "I have a 12.4(15)T8 running CISCO2811 here that was locked too.. i have pressed CTRL BREAK every second also and it worked :<br /><br />Cisco IOS Software, 2800 Software (C2800NM-ADVENTERPRISEK9-M), Version 12.4(15)T8, RELEASE SOFTWARE (fc3)<br />Technical Support: http://www.cisco.com/techsupport<br />Copyright (c) 1986-2008 by Cisco Systems, Inc.<br />Compiled Mon 01-Dec-08 15:27 by prod_rel_team<br />Image text-base: 0x400AA4B0, data-base: 0x439C1670<br /><br /><br />PASSWORD RECOVERY IS DISABLED.<br />Do you want to reset the router to factory default<br />configuration and proceed [y/n] ?<br />Reset router configuration to factory default.<br /><br />This product contains cryptographic features and is subject to United",
      "id": "3969613793662735669",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Tim Teenstra",
      "profile": "http://www.aliternetworks.nl/over-ons/",
      "pub": "2013-06-25T13:28:32.987+02:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "17 July 2013 19:42",
      "html": "Hi to all,<br />I have a Cisco 1921, with Version 15.1(4)M2, adn it doesn&#39;t work.<br />Please help ME.<br /><br />Alessandro",
      "id": "4936827583530443957",
      "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
      "name": "Unknown",
      "profile": "https://www.blogger.com/profile/15910495823798163711",
      "pub": "2013-07-17T19:42:33.135+02:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "20 December 2013 10:04",
      "html": "Same problem with a c1803 running IOS 12.3(8).<br /><br />Booted with a CF with IOS 15.1<br />Entered erase /all nvram:<br /><br />And now OK !",
      "id": "2742274840925741395",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2013-12-20T10:04:14.342+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "15 April 2014 15:56",
      "html": "If you press multiple times control break at start-up, eventually the rommon&gt; prompt will appear. I tried this with more 28xx routers. ",
      "id": "4875848235702625354",
      "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
      "name": "Unknown",
      "profile": "https://www.blogger.com/profile/16013978962138911406",
      "pub": "2014-04-15T15:56:41.101+02:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "24 October 2014 22:16",
      "html": "Getting into rommon is Easy on my 2811.  However if I change the confreg and reset, the router just boots over and over, I can never get past that.  Getting into rommon is easy, but changing the register results in a total failure to boot.  The password recovery procedure does not work for me at all...  I&#39;ve had to recover hundreds of ciscos for the last 20 years, but this is the first time I have failed.",
      "id": "2365610816071053937",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2014-10-24T22:16:25.000+02:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "16 January 2015 00:20",
      "html": "Here&#39;s how I had success with several 1841&#39;s running ADVSECURITY version 12.4(15)T6.<br /><br />Send break sequences in this section of the boot.<br />----------------------------------------------------------------------------<br />Self decompressing the image :  #################################################################################################################################### [OK]<br />                                           <br />IOMEM  (..output suppressed..)<br />PMEM allocated:(..output suppressed..)<br />---------------------------------------------------------------------<br /><br />Begin sending the break sequences about once per second, right before the &quot;[OK]&quot; appears, and keep doing it until the line with &quot;PMEM allocated:&quot; appears. <br /><br /><br />Also, today we broke a 1921 with same problem, by sending the break on or near the  &#39;[OK]&#39;  as the image finishes decompressing.<br /><br /><br />Nathan O.<br /><br />",
      "id": "6079217516177011836",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2015-01-16T00:20:09.866+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "20 January 2015 23:58",
      "html": "I had to break 1921&#39;s today. The break window is smaller than for the 1841.<br />My teraterm macro (or my finger) waits to send ONLY one break sequence about 1/10 of a second after the line containing: &quot;Rounded IOMEM&quot; appears on the console.<br /><br />This string appears a fraction of a second before the &quot;Restricted Rights Legend&quot; boiler-plate text appears.<br /><br />My timing (even using the macro) still fails about half the time. Good luck! <br /><br />Nathan O.",
      "id": "3801303360155408246",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2015-01-20T23:58:44.061+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "16 September 2015 08:24",
      "html": "Hi,<br />I have a Cisco Router 1751v with the same issue: &quot;PASSWORD RECOVERY FUNCTIONALITY IS DISABLED&quot;.<br /><br />The Ctrl/Break does not work neither when using HyperTerminal or Putty. I&#39;ve tried it also with MobaXTerm, same issue.<br /><br />Does anyone know what else could I try to reset the router to the default settings?<br /><br />Thank you in advance!",
      "id": "893619801738542865",
      "image": "https://3.bp.blogspot.com/-ZDOYBvjvGZ4/TdYRsS_J3aI/AAAAAAAAAB8/R0o_p1ba6G0/s32/DSCN5427.JPG",
      "name": "Raul",
      "profile": "https://www.blogger.com/profile/07935153041267273401",
      "pub": "2015-09-16T08:24:52.087+02:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "08 March 2016 21:04",
      "html": "It&#39;s all to do with your Console connectivity. Using a USB-Serial converter didn&#39;t work for me. I had to dig out an old PC from the basement and use the cisco console cable direct to the com port. Worked first time then. When logged in (no pwd), I ran the service password-recovery command and rebooted my C2811. All fixed.",
      "id": "2647691271975471202",
      "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
      "name": "Unknown",
      "profile": "https://www.blogger.com/profile/09665508641377035667",
      "pub": "2016-03-08T21:04:20.975+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "10 October 2018 09:19",
      "html": "This works only if you use some old IOS (for example: c1841-advipservicesk9-mz.124-24.T4.bin)<br />It doesnt work when I had 15.1 IOS in FLASH",
      "id": "3750796580846048287",
      "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
      "name": "Unknown",
      "profile": "https://www.blogger.com/profile/01897533826973211932",
      "pub": "2018-10-10T09:19:02.375+02:00",
      "ref": "712202510930872561",
      "type": "comment"
    },
    {
      "date": "27 February 2019 19:37",
      "html": "I was just doing this on a 1901 with IOS  Version 15.0(1)M3.  Hope this helps someone.<br /><br />Wait for the following to be displayed:<br /><br />Rounded IOMEM up to: 40Mb.<br />Using 7 percent iomem. [40Mb/512Mb]<br /><br />[BREAK HERE]<br />Ctrl+Break<br /><br />PASSWORD RECOVERY IS DISABLED.<br />Do you want to reset the router to factory default<br />configuration and proceed [y/n] ?<br /><br />[PRESS Y HERE TO CONFIRM]<br /><br />Let boot<br /><br />Router&gt;en<br />Router#write erase<br />Erasing the nvram filesystem will remove all configuration files! Continue? [confirm]<br />[OK]<br />Router#conf t<br />Router(config)#service password-recovery<br />Router(config)#end<br />Router#reload<br />System configuration has been modified. Save? [yes/no]: y<br />Building configuration...<br />[OK]<br />Proceed with reload? [confirm]<br /><br />",
      "id": "4769180912776324242",
      "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
      "name": "jhayton",
      "profile": "https://www.blogger.com/profile/14112331348866727474",
      "pub": "2019-02-27T19:37:51.097+01:00",
      "ref": "712202510930872561",
      "type": "comment"
    }
  ],
  "count": 33,
  "id": "712202510930872561",
  "type": "post",
  "url": "2007/12/recovering-from-disabled-password.html"
}