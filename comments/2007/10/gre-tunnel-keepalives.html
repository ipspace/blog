<div class="comments post" id="comments">
  <h4>12 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="5475921626464272383">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5475921626464272383" href="#5475921626464272383">23 October 2007 21:03</a>
              </span>
            </div>
            <div class="comment-content">A good use of GRE keepalive is to monitor a metro ethernet link between two routers. You setup a GRE tunnel with keepalive between two Ethernet endpoints to monitor true end-to-end connectivity over the metro Ethernet link. Keep in mind though you are not sending user traffic through the GRE tunnel, merely you are using the GRE keepalive as a health indicator of the metro Ethernet connection. Of course this will not be needed once Ethernet OAM, E-LMI, etc, have become widely available, but for the time being I find the GRE keepalive has other good uses besides tunneling traffic.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7730092725481903514">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7730092725481903514" href="#7730092725481903514">24 October 2007 08:16</a>
              </span>
            </div>
            <div class="comment-content">That's definitely an interesting suggestion. But when you know that the end-to-end link is down, what do you do with that information? I have a few crazy ideas, but would like to hear from you first.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="4306989179499086904">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4306989179499086904" href="#4306989179499086904">24 October 2007 17:18</a>
              </span>
            </div>
            <div class="comment-content">We use standard NMS (HP Opeview, CA Spectrum, etc) to monitor customer devices. GRE Tunnel itself is just an other interface to these NMS systems, therefore if the tunnel went down the interface would become RED and an alarm will be triggered. Without this "indicator" tunnel interface we will have no way of knowing that the end-to-end path was actually down somewhere along the path. We have thought about using traps or monitoring routing neighbors logging, etc, but nothing beats the reliable tunnel interface Up/Down. This method has allowed us to open ticket proactively with the Metro Ethernet provider to resolve the issue. Keep in mind that the physical Ethernet interface itself could be UP/UP on the customer router, which isn't a reliable indicator.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5168974524759582579">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5168974524759582579" href="#5168974524759582579">10 March 2008 03:06</a>
              </span>
            </div>
            <div class="comment-content">Hi ... very nice point. But, how to identify where's the problem path, when we find the Tunnel is flap, but all interface along the circuit is up (never down). Thanks !</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5534584703971208934">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5534584703971208934" href="#5534584703971208934">10 March 2008 08:46</a>
              </span>
            </div>
            <div class="comment-content">The only tool that comes to my mind is the "traceroute" command.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5917842601126485010">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5917842601126485010" href="#5917842601126485010">10 March 2008 10:37</a>
              </span>
            </div>
            <div class="comment-content">Hi Ivan. The problem is the circuit is L2 based, and this circuit consist  of many physical hop. I have checked all log and there's no problem with physical log. Thks.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1065104434939992731">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1065104434939992731" href="#1065104434939992731">10 March 2008 11:54</a>
              </span>
            </div>
            <div class="comment-content">If you have L2 devices in the path that you don't control, there's no way to figure out where the problem is (in a few years, you might be able to use Ethernet OAM :).</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="511536506980515811">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c511536506980515811" href="#511536506980515811">31 December 2008 19:18</a>
              </span>
            </div>
            <div class="comment-content">Not to mention VRFs where the keepalive is inside the VRF and not in the transit VRF (or default table if that be the case)</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="321254412095374351">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c321254412095374351" href="#321254412095374351">11 May 2010 02:40</a>
              </span>
            </div>
            <div class="comment-content">:)</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2031990719178940738">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2031990719178940738" href="#2031990719178940738">27 June 2012 22:19</a>
              </span>
            </div>
            <div class="comment-content">Thanks, Ivan, for the good explanation. Using an inbound ACL on the tunnel interface can defeat the keepalive if the tunneled packet is GRE and you only allow IP. Also, troubleshooting is more difficult since the tunnel interface is up/up with the ACL.  For example ...  <br />  <br />Side A with keepalives and ACL    ... up/up.  <br />Side B with keepalives and no ACL ... up/down.  <br />  <br />Neither side can ping the remote end. Remove the keepalives and everything works.  <br />  <br />In response to William using GRE to monitor Metro Ethernet, you could use BFD which will take down the Ethernet interface if the end-to-end connectivity fails.  Thanks, Tom.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="62811370874105361">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/00216640657800878346" rel="nofollow">superdan</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c62811370874105361" href="#62811370874105361">17 January 2013 23:52</a>
              </span>
            </div>
            <div class="comment-content">i have a similar problem. the GRE tunnel was working fine until the internet link failed. when it came back the GRE tunnel does not established. what could be the problem</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="913614136766373218">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/09393715773708636069" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c913614136766373218" href="#913614136766373218">03 June 2014 09:04</a>
              </span>
            </div>
            <div class="comment-content">And along came IOS XE 3.1.0S which says in the release notes:<br /><br />http://www.cisco.com/c/en/us/td/docs/ios/ios_xe/3/release/notes/asr1k_rn_3s_rel_notes/asr1k_rn_3s_restrictions.html#wp3021511<br /><br />&quot;GRE Keepalive with Tunnel Protection <br /><br />The Cisco ASR 1000 Series Router supports GRE keepalive with tunnel protection. However, the keepalive packet that is returned is not encrypted. &quot;<br /><br />A friendly TAC engineer undug this from the ASR1K release notes, when I opened a case for a pair of ISR 4451-X (3.10.01S) which surprisingly worked very well with GRE keepalives on a protected GRE-o-IPSec tunnel.</div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
