{
  "comments": [
    {
      "date": "24 August 2009 20:31",
      "html": "very nice! This is what I was looking for",
      "id": "4750900562998202783",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Guest",
      "profile": null,
      "pub": "2009-08-24T20:31:38.000+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "20 October 2009 03:19",
      "html": "G&#39;day,<br /><br />May I know what is the signinficance of the &quot;10&quot; in route-map prepend permit 10? Thanks!<br /><br />Cheers!",
      "id": "4782651455777465223",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "AL IPBB",
      "profile": null,
      "pub": "2009-10-20T03:19:39.000+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "10 November 2009 03:11",
      "html": "Perfectly what I was looking for!",
      "id": "914003511858552649",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "VzW Data Engineer",
      "profile": null,
      "pub": "2009-11-10T03:11:42.000+01:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "17 November 2009 16:29",
      "html": "AL IPBB:<br /> This is the sequence for the route map rules.<br /> You can have multiple route map entries with a single name.<br /> route-map blah permit 10<br />   match whatever<br />   set anything<br />route-map blah permit 20<br />  match otherthings<br />  set otherstuff<br /><br />and so on..<br />The lookup stops when a matching rule is found. <br /><br />cheers",
      "id": "7410033091004176407",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "roshko",
      "profile": null,
      "pub": "2009-11-17T16:29:45.000+01:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "16 March 2010 16:44",
      "html": "Brilliant and striaght to the point!",
      "id": "406466810824796496",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2010-03-16T16:44:30.000+01:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "25 May 2010 15:30",
      "html": "@Ivan, the config u have shown is to be applied on customers router or ISP router??? and i didnot completely understand about using local preference.. can u pls explain?",
      "id": "6928829437836149595",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Khan",
      "profile": null,
      "pub": "2010-05-25T15:30:11.000+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "25 May 2010 20:05",
      "html": "The config would be applied on the customer router.",
      "id": "2169889814709752350",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Ivan Pepelnjak",
      "profile": null,
      "pub": "2010-05-25T20:05:00.000+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "26 August 2010 13:14",
      "html": "Please who knows what prepending on internet is all about? Please i need help on this.",
      "id": "2712464349194637050",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "UBADIRE",
      "profile": null,
      "pub": "2010-08-26T13:14:23.000+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "25 November 2010 10:01",
      "html": "Thanks, really useful howto! <br /><br />PS - you should also include the part about prioritising upload using bgp neighbour weight",
      "id": "3001009229061961409",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "jekader",
      "profile": null,
      "pub": "2010-11-25T10:01:17.000+01:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "30 November 2010 12:21",
      "html": "This might help you: http://www.youtube.com/watch?v=zFliAojRi2E",
      "id": "3918188756174976837",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Ivan Pepelnjak",
      "profile": null,
      "pub": "2010-11-30T12:21:23.000+01:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "28 December 2010 16:59",
      "html": "Doesn&#39;t this only influence inbound connections (towards the customer)? The route-map out is telling the remote peer that the particular will take longer.",
      "id": "1011516798574475461",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Mike",
      "profile": null,
      "pub": "2010-12-28T16:59:41.000+01:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "29 December 2010 09:01",
      "html": "You&#39;re right: AS path prepending influences only the inbound traffic flow (not connections). Influencing outbound traffic flow is usually very easy (use local preference or weight for pure primary/backup scenario).",
      "id": "8391694936141277938",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Ivan Pepelnjak",
      "profile": null,
      "pub": "2010-12-29T09:01:15.000+01:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "04 March 2011 00:57",
      "html": "Hi <br /><br />If we have two subnet &amp; we want one subnet to take primary ISP &amp; second to secondary ISP for incoming traffic. How to configure? <br /><br />will set as-path will affect both the subnet incoming path?",
      "id": "74534879171042577",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "jignesh",
      "profile": null,
      "pub": "2011-03-04T00:57:16.931+01:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "04 March 2011 18:53",
      "html": "Advertise to ISP-P: S1 with short path, S2 with long path<br />Advertise to ISP-B: S1 with long path, S2 with short path",
      "id": "4988887456592687565",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Ivan Pepelnjak",
      "profile": null,
      "pub": "2011-03-04T18:53:54.375+01:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "04 May 2011 19:32",
      "html": "why we use AS 65501 three times in &quot;set as-path prepend 65001 65001 65001&quot;",
      "id": "6776660206543728197",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "neeraj",
      "profile": null,
      "pub": "2011-05-04T19:32:20.357+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "04 May 2011 19:38",
      "html": "how to check if i set primary/secodary isp path at customer router.is any command to show on router? :)",
      "id": "8218029900913958385",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "neeraj",
      "profile": null,
      "pub": "2011-05-04T19:38:09.745+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "13 September 2011 08:21",
      "html": "Ivan always have good articles.<br /><br /><br />Why there is no &quot;match local preference&quot; for route-map used in BGP?<br /><br />% &quot;SET-LOCAL-PREFERENCE-103&quot; used as BGP inbound route-map, local preference match not supported",
      "id": "4906084763208133166",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Keane",
      "profile": null,
      "pub": "2011-09-13T08:21:42.369+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "13 September 2011 18:15",
      "html": "Local preference is an intra-AS attribute, so it makes no sense to match on it on EBGP sessions (where it would never be used anyway).",
      "id": "7021768209750150416",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Ivan Pepelnjak",
      "profile": null,
      "pub": "2011-09-13T18:15:11.486+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "comments": [
        {
          "date": "03 June 2012 09:13",
          "html": "Use local preference, set it with an outbound route map on IBGP session.",
          "id": "7247621089573450939",
          "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
          "name": "Ivan Pepelnjak",
          "profile": "https://www.blogger.com/profile/13457151406311272386",
          "pub": "2012-06-03T09:13:29.572+02:00",
          "ref": "4078971147254938174",
          "type": "comment"
        }
      ],
      "date": "03 June 2012 02:43",
      "html": "Ivan,  prepending does not work for iBGP.  How can I accomplish the same thing with iBGP(without prepending)?  I want to be able to prefer the backup path in some cases. Thanks, Steve Thomas",
      "id": "4078971147254938174",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2012-06-03T02:43:07.684+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "comments": [
        {
          "date": "29 June 2012 07:45",
          "html": "Yes you can, but since LP works only within an autonomous system, that would work only on an IBGP session. <br /><br />Anyhow, I wouldn&#39;t recommend it, I would strongly suggest that all routers in an autonomous system should have the same local preference for the same prefix (otherwise you might get interesting problems that would be hard to troubleshoot).",
          "id": "3773662473964035528",
          "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
          "name": "Ivan Pepelnjak",
          "profile": "https://www.blogger.com/profile/13457151406311272386",
          "pub": "2012-06-29T07:45:40.606+02:00",
          "ref": "451628686311557901",
          "type": "comment"
        }
      ],
      "date": "28 June 2012 11:21",
      "html": "But Local preference influences the outgoing traffic and is always applied on incoming routing updats. Can we set LP in an outbound route-map?",
      "id": "451628686311557901",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2012-06-28T11:21:34.728+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "comments": [
        {
          "date": "05 October 2012 09:31",
          "html": "* Not announcing transit prefixes<br />* Inbound ACLs limiting destinations to your address space.",
          "id": "3261901082570575382",
          "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
          "name": "Ivan Pepelnjak",
          "profile": "https://www.blogger.com/profile/13457151406311272386",
          "pub": "2012-10-05T09:31:47.573+02:00",
          "ref": "9109930899772080970",
          "type": "comment"
        },
        {
          "date": "05 October 2012 17:19",
          "html": "Normally your upstreams will filter your prefixes anyway, so this can&#39;t happen. Otherwise you&#39;d be part of the DFZ, usually have more than two ISPs as uplinks and be an ISP yourself. ;-)",
          "id": "3490645664220609945",
          "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
          "name": "Philipp Kern",
          "profile": "https://www.blogger.com/profile/12612857680528965620",
          "pub": "2012-10-05T17:19:02.324+02:00",
          "ref": "9109930899772080970",
          "type": "comment"
        },
        {
          "date": "05 October 2012 17:36",
          "html": "&quot;Normally your upstreams will filter your prefixes anyway&quot; ... apart from the one that allowed Pakistan to hose YouTube. Some upstreams are more normal than the others ;)",
          "id": "4950226926086003144",
          "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
          "name": "Ivan Pepelnjak",
          "profile": "https://www.blogger.com/profile/13457151406311272386",
          "pub": "2012-10-05T17:36:51.350+02:00",
          "ref": "9109930899772080970",
          "type": "comment"
        }
      ],
      "date": "05 October 2012 04:16",
      "html": "How do you prevent your router from being a transit for others since you have dual ISPs and you are part of the Internet ring.",
      "id": "9109930899772080970",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2012-10-05T04:16:30.488+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "comments": [
        {
          "date": "24 July 2013 06:06",
          "html": "Inbound ACL would drop TCP traffic, so those sessions would stall, but some UDP senders might not care. Depends on your traffic profile.",
          "id": "6027466976540012914",
          "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
          "name": "Ivan Pepelnjak",
          "profile": "https://www.blogger.com/profile/13457151406311272386",
          "pub": "2013-07-24T06:06:46.820+02:00",
          "ref": "6517259181725206551",
          "type": "comment"
        }
      ],
      "date": "23 July 2013 16:33",
      "html": "Hi Ivan,<br /><br />What about a case when you have dual CE, one providing a 50 Mbps connection and the other being a Wireless HSPA+ just for backup? <br /><br />Do you know a way to actually filter the traffic in the Wireless connection so that the pipe is not saturated when switching over?<br /><br />ACLs would do the job for outbound traffic, but for inbound we are screwed...<br /><br />Any ideas?<br /><br />Thanks in advance.",
      "id": "6517259181725206551",
      "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
      "name": "mparrad",
      "profile": "https://www.blogger.com/profile/01785777179144360023",
      "pub": "2013-07-23T16:33:40.365+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "comments": [
        {
          "date": "12 August 2013 22:39",
          "html": "Because we want to create longer as path, thus &quot;spoiling&quot; one link over other, so primary/better link is preferred, till it&#39;s down and BGP converges to backup/worse link.",
          "id": "6813245963262555544",
          "image": "https://resources.blogblog.com/img/blank.gif",
          "name": "Anonymous",
          "profile": null,
          "pub": "2013-08-12T22:39:43.547+02:00",
          "ref": "2404716535334649896",
          "type": "comment"
        }
      ],
      "date": "25 July 2013 12:07",
      "html": "why we use AS 65501 three times in &quot;set as-path prepend 65001 65001 65001&quot;",
      "id": "2404716535334649896",
      "image": "https://resources.blogblog.com/img/blank.gif",
      "name": "Anonymous",
      "profile": null,
      "pub": "2013-07-25T12:07:58.005+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    },
    {
      "date": "06 June 2018 00:55",
      "html": "if i set longer path( &quot;set as-path prepend 65001 65001 65001&quot;)  for both primary and secondary path which path <br />will be chosen from customer site. please explain i see traffic drop.",
      "id": "2084307411881774527",
      "image": "https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35",
      "name": "Unknown",
      "profile": "https://www.blogger.com/profile/11260582090741677359",
      "pub": "2018-06-06T00:55:49.270+02:00",
      "ref": "778976180121403635",
      "type": "comment"
    }
  ],
  "count": 31,
  "id": "778976180121403635",
  "type": "post",
  "url": "2008/02/bgp-essentials-as-path-prepending.html"
}