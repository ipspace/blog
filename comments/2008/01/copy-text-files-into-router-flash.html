<div class="comments post" id="comments">
  <h4>21 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="8556995037285187058">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8556995037285187058" href="#8556995037285187058">23 September 2008 04:00</a>
              </span>
            </div>
            <div class="comment-content">Hello everyone,I am working with a tcl script on cisco ios. <BR/>This command has been very helpful puts [open "flash:filename" w+] {. <BR/>however how do I use this repeatedly to append more strings into the same file without losing the previous data from the file?<BR/><BR/>Secondly, teh command at the end says input is from a file however can I need to use a tcl variable as the input to the command. How can I do this?<BR/>All suggestions are welcomed. Thank you in advance for all teh help.<BR/><BR/>You can reply back to me at maiyart@msn.com</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5736793849439715319">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5736793849439715319" href="#5736793849439715319">23 September 2008 09:37</a>
              </span>
            </div>
            <div class="comment-content">If you want to reopen the file and append more data to it, use a+ instead of w+. <BR/><BR/>See http://tmml.sourceforge.net/doc/tcl/open.html for details.<BR/><BR/>If you want to use more than one "puts" statement, store the channel# into a variable and use that variable in puts. For example,<BR/><BR/>set fl [open ...]<BR/>puts $fl "string"<BR/>puts $fl {string}<BR/>close $fl<BR/><BR/>See also http://tmml.sourceforge.net/doc/tcl/puts.html (examples)</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3239488759620517047">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3239488759620517047" href="#3239488759620517047">24 September 2008 00:01</a>
              </span>
            </div>
            <div class="comment-content">Thank you :)<BR/>That was very helpfull.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1550084399663441485">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1550084399663441485" href="#1550084399663441485">07 October 2008 21:29</a>
              </span>
            </div>
            <div class="comment-content">Hello,<BR/><BR/>I´m doing a script as well. Every time that my script run, it add some data to the flash file that I define.<BR/>I would like to copy the file to tftp server.<BR/><BR/>Well, the question is, I know how to copy it, the problem is when the file already exists in TFTP, ios says that the file already exists... I doesnt know how to overwrite the file in tftp with the new data.<BR/><BR/>Anyone knows if there are any command to do that? or any way to do that?<BR/><BR/>Thanks in advance</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2185516307996116900">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2185516307996116900" href="#2185516307996116900">08 October 2008 10:07</a>
              </span>
            </div>
            <div class="comment-content">I'm just guessing ... Storing configurations on a TFTP server is something I do on a regular basis, and I usually overwrite existing files.<BR/><BR/>The problem is probably in the configuration of the TFTP server, which rejects an attempt to overwrite existing files.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5054009577197447632">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5054009577197447632" href="#5054009577197447632">18 October 2008 07:34</a>
              </span>
            </div>
            <div class="comment-content">Thank you :)<BR/>I´m using ftp and the configuration is ok.<BR/><BR/>Actually, my script is running. But, by the end I would like to copy a file from flash to ftp server and here is the BIG problem of my script.<BR/><BR/>I use this command to do that:<BR/><BR/>if [catch {cli_exec $cli1(fd) "copy flash:test ftp://10.0.0.1"} result] {<BR/>   error $result $errorInfo<BR/>}<BR/><BR/>Well, it runs without any kind of error, but in ftp server the file doesn't appear.<BR/>My question is: is it possible to copy from flash to ftp, while inside tcl script running as a policy?<BR/>Should this command works fine, no ? <BR/><BR/>If anyone knows how I can do that copy, please help me.<BR/><BR/>Thanks in advance</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="129376932455964880">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c129376932455964880" href="#129376932455964880">18 October 2008 07:58</a>
              </span>
            </div>
            <div class="comment-content">Try executing the same command manually from the CLI to test if it works. It should not generate any prompts, you might have to use <A HREF="http://blog.ioshints.info/2006/11/reduce-noise-generated-by-cisco-ios.html" REL="nofollow">file prompt quiet</A>.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="4552683769963706604">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4552683769963706604" href="#4552683769963706604">20 May 2009 13:54</a>
              </span>
            </div>
            <div class="comment-content">Hello, <br />I am trying to create a tcl script in flash  by using this method but it does not work, <br />it does actually try to execute the tcl script instead of writing it to a file, the output I get is the following :<br /><br />Switch(tcl)#puts [open &quot;flash:script&quot; w+]{<br />file2{<br /><br />Switch(tcl)#proc_trust_state {} {<br />+&gt;set sisb ....................<br />+&gt;........<br />+&gt;}}<br />wrong # args: should be &quot;proc name args body&quot;<br />Switch(tcl)#<br /><br /><br />do you think there is actually a way to do it, am I missing something in the script ? <br />Let me know. Thanks a lot !<br /><br />Ju</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2615318720840462012">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">DcUK</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2615318720840462012" href="#2615318720840462012">22 July 2009 10:47</a>
              </span>
            </div>
            <div class="comment-content">In response to the Anonymous user above, you need to leave a space between the closing &#39;]&#39; and the &#39;{&#39; to avoid the error you&#39;re seeing.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6964941049060745243">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">corcunda</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6964941049060745243" href="#6964941049060745243">03 January 2010 19:52</a>
              </span>
            </div>
            <div class="comment-content">Hello,<br /><br />If im using tclsh, I know there is a command to read a .txt file that is storage in flash: (I mean, with that command, the flash:filename.txt file appear line by line in IOS screen. So I dont need to upload the txt file to my computer to see what is inside...)<br /><br />I can&#39;t remmember what command is it, can u help me?<br /><br />Thanks in advance,<br />Corcunda</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3937258997409253486">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">corcunda</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3937258997409253486" href="#3937258997409253486">03 January 2010 19:58</a>
              </span>
            </div>
            <div class="comment-content">sorry for the post above, I already find how to do that =)</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6323198124196542088">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Nguyen Su Tam</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6323198124196542088" href="#6323198124196542088">18 March 2010 11:21</a>
              </span>
            </div>
            <div class="comment-content">Hello,<br /><br />I want to get the running config of a remote router by using tcl. Could you please show me how since I am new to TCL.<br /><br />Any help will be highly appreciated !<br /><br />Nguyen Su Tam</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="9016235928740546365">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c9016235928740546365" href="#9016235928740546365">12 May 2010 08:00</a>
              </span>
            </div>
            <div class="comment-content">:-D</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1344422095027718680">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1344422095027718680" href="#1344422095027718680">19 May 2010 02:57</a>
              </span>
            </div>
            <div class="comment-content">Brilliant sir, brilliant.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7112600869946814461">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/04780043879187651038" rel="nofollow">Serafim</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7112600869946814461" href="#7112600869946814461">06 March 2013 21:57</a>
              </span>
            </div>
            <div class="comment-content">Hello, I am wrote a TCL script on notepad and I am trying to copy and paste it on a router (GNS3) but shows this:<br /><br />R3(tcl)#<br />R3(tcl)#R3(tcl)#and name &quot;address&quot;         ^<br />invalid command name &quot;R3(tcl)#and&quot;         ^<br />% Invalid input detected at &#39;^&#39; marker.<br /><br />If anyone can help I would appreciate</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="985792554473690840">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/01884692874470563342" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c985792554473690840" href="#985792554473690840">28 May 2013 17:10</a>
              </span>
            </div>
            <div class="comment-content">This will not work NX-OS due to the removal of command &quot;put&quot; from TCLSH (unfortunately) :(</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="347962057444073231">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/14473029106176988688" rel="nofollow">Rob</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c347962057444073231" href="#347962057444073231">17 September 2013 12:39</a>
              </span>
            </div>
            <div class="comment-content">Hello, i know this is an old topic. i have done these but when i try to display the txt file that i just created using &quot;more flash:filename.txt&quot; it returns with a command authorization failed.<br /><br />this does work with multi lined text files right? as long as the matching curly bracket is supplied at the very end of the file?<br /></div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2924901174894686991">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2924901174894686991" href="#2924901174894686991">28 March 2014 05:05</a>
              </span>
            </div>
            <div class="comment-content">Is it possible to send an ios image to multiples routers with a TCL script?</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="9168203989687304200">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/16396426798189772519" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c9168203989687304200" href="#9168203989687304200">20 September 2015 16:04</a>
              </span>
            </div>
            <div class="comment-content">Hey, great article, but do you know if something like that can be used on NX-OS too?</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="4043345351394674754">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4043345351394674754" href="#4043345351394674754">06 January 2016 13:15</a>
              </span>
            </div>
            <div class="comment-content">Ditto... How can we do this on NX-OS? </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="8853546038461058257">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8853546038461058257" href="#8853546038461058257">06 January 2016 17:55</a>
              </span>
            </div>
            <div class="comment-content">The following is working for me on NX-OS 7.0(6)N1(1):<br />tclsh<br />set MyFile [open &quot;/bootflash/x.txt&quot; w+]<br />puts $MyFile {Line2<br />Line3}<br />flush $MyFile<br />close $MyFile</div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
