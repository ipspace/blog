{
   "comments": [
      {
         "date": "06 December 2021 01:59",
         "html": "<p>&quot;Spine switches are also BGP route reflectors&quot; &lt;&lt;&lt; There&#39;s only one spine switch in your example.</p>\n\n<p>&quot;Ideal end result: three equal-cost paths toward the anycast prefix on L1 and S*<em>2</em>*.&quot; &lt;&lt;&lt; should be S1</p>\n\n<p>In the output &quot;Routing table for the anycast prefix on the spine node (S1)&quot; I think the next-hop &quot;10.1.0.21&quot; is wrong as you haven&#39;t disabled next-hop-self on leaf switches at that stage. It should be &quot;10.0.0.3&quot;.</p>\n\n<p>Maybe implicit next-hop-self and BGP Add-Path is an optimization mechanism because there&#39;s only one exit point (L2 in that example) anyway. Kinda like a summarization.</p>\n\n<p>For the one minute/60 seconds delay after bootup maybe &quot;bgp update-delay&quot; will solve it. Found something from Petr: https://blog.ine.com/2010/11/22/understanding-bgp-convergence\nOtherwise I suggest to debug BGP.</p>\n",
         "id": "910",
         "name": "Anonymous",
         "pub": "2021-12-06T13:59:19",
         "type": "comment"
      }
   ],
   "count": 1,
   "type": "post",
   "url": "2021/12/bgp-anycast-lab.html"
}
