<div class="comments post" id="comments">
  <h4>5 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="6505654794346669753">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="http://3.3.3.3" rel="nofollow">nosx</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6505654794346669753" href="#6505654794346669753">21 July 2012 15:52</a>
              </span>
            </div>
            <div class="comment-content">If you plan to ever support multipath load sharing or fast failover for your customers networks, the per-PE-per-VRF unique RD approach, usually in the formation ipv4.loop.back.address:vpnid, will be very important. It also aids in the identification of prefix origin during troubleshoots of large complex networks with tiered hierarchical design.<br /><br />The ability to ensure that multiple or alternate paths via different originating PE&#39;s in the same VPN are made available to the far end PE is beneficial enough to outweigh the need for additional memory. Its not as if we cant always add hundreds of gigs of ram to route reflectors, the biggest limitation in most modern carrier networks is the size of the average devices hardware forwarding table (TCAM in most devices)</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="7224653901814233709">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7224653901814233709" href="#7224653901814233709">24 July 2012 21:11</a>
              </span>
            </div>
            <div class="comment-content">Thank you. Updated the blog post.<br /><br />BTW, per-PE-per-VRF RDs won&#39;t cause a memory hit on route reflectors (they have to store all prefixes anyway, unless you use a RR hierarchy), but on the PE-routers, where the BGP memory consumption will probably increase by around 80%.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2774332871848263321">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13723752226050334751" rel="nofollow">Internetwork Expert</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2774332871848263321" href="#2774332871848263321">20 June 2013 16:22</a>
              </span>
            </div>
            <div class="comment-content">Hi, <br /><br />One thing is not clear to me regarding actual import of route from BGP VPNv4 RIB to VRF RIB. If RT import statement is removed from VRF config than we can not see any more particular route in VRF RIB ant that is clear, because there is no matching RT inside of VRF and we can not import VPNv4 route. But in my simulation when RT import is removed from config also i cant see that same route in BGP VPNv4 RIB. Why? Is this VPNv4 route rejected by BGP VPNv4 as well? I tought that VPNv4 route is maintained in BGP VPNv4 RIB and after RT import is applied then moves to VRF RIB, but it looks aparently that BGP VPNv4 table is discarding this route without RT as well?!<br /><br />Thanks for comments<br /></div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="8402139615598508060">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8402139615598508060" href="#8402139615598508060">16 June 2014 06:00</a>
              </span>
            </div>
            <div class="comment-content">Pretty sure by default on Cisco if no VRF contains the import statement for a particular RT, then the VPNv4 containing the &quot;missing&quot; RT is rejected and does not even make it to the RIB.  This behaviour can be changed by command.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1599">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Christian Hitchcock</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1599" href="#1599">16 January 2023 09:39</a>
              </span>
            </div>
            <div class="comment-content"><p>Pretty sure this is 100% accurate. We also experience no imports even if the VRF has an RT import statement, but no interfaces are assigned to that VRF. </p>

<p>That may be default behavior or it may be that we use RTC as well, I could be wrong!</p>
</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="44781089992367220">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c44781089992367220" href="#44781089992367220">08 October 2015 18:01</a>
              </span>
            </div>
            <div class="comment-content">How about &quot;bgp additional-paths send receive&quot; now ?</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="3090191567432671111">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3090191567432671111" href="#3090191567432671111">08 October 2015 18:05</a>
              </span>
            </div>
            <div class="comment-content">Yeah, that should work.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1600">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Christian Hitchcock</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1600" href="#1600">16 January 2023 09:42</a>
              </span>
            </div>
            <div class="comment-content"><p>I know this is an old thread but I wanna say a huge thank you to the site owner for these explanations. You&#39;ve made understanding MPVPN nuances <em>soooo</em> much easier and I can&#39;t thank you enough!</p>
</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="1603">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1603" href="#1603">18 January 2023 09:12</a>
              </span>
            </div>
            <div class="comment-content"><p>Thanks a million! Made my day ;)</p>
</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2704">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Rich Botham</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2704" href="#2704">18 July 2025 05:27</a>
              </span>
            </div>
            <div class="comment-content"><p>Ivan,
As per Christian&rsquo;s comments, and having read this &ldquo;a few times&rdquo; &#x1F603;- it&rsquo;s wonderfully informative and makes sense - thanks again 
Rich</p>
</div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
