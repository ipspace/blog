<div class="comments post" id="comments">
  <h4>15 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="8264047289516075398">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8264047289516075398" href="#8264047289516075398">31 May 2012 09:02</a>
              </span>
            </div>
            <div class="comment-content">One question: is it possible to have a 30gbps TCP flow? (not unidirectionally generated with a packet generator, but an actual flow). Wouldn&#39;t RTT/Windowsize limitations kick in, even with minimal delay between hosts?</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="994278485489008901">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c994278485489008901" href="#994278485489008901">02 June 2012 21:00</a>
              </span>
            </div>
            <div class="comment-content">With 5msec RTT and almost no loss, the theoretical TCP throughput is above 200 GBps. http://www.switch.ch/network/tools/tcp_throughput/index.html<br /><br />I had 15 Gbps iperf flow between two VMs in the same hypervisor host, and the limit was the CPU/vSwitch, not the TCP performance.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3396614571522013469">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/03014282355010119539" rel="nofollow">Michael67</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3396614571522013469" href="#3396614571522013469">31 May 2012 19:58</a>
              </span>
            </div>
            <div class="comment-content">Well, just raise the costs between A-C-D, so it will take the route A-B-D...? ThereÂ´s nothing special about this ECMP behavior with Brocade,too.</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="3866413214956546336">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3866413214956546336" href="#3866413214956546336">02 June 2012 21:01</a>
              </span>
            </div>
            <div class="comment-content">There&#39;s absolutely nothing special (apart from the secret-sauce load balancing on a single port group), the point of the second half of the post is that you can&#39;t win against a broken design no matter what you do.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="719878750354843289">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Will</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c719878750354843289" href="#719878750354843289">01 June 2012 01:29</a>
              </span>
            </div>
            <div class="comment-content">&quot;You need a server with multiple NICs configured in round-robin bonding mode to generate a TCP flow larger than 10Gbps.&quot;<br /><br />You may have just blown my mind....Even if the server has a 10Gb uplink?</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="716405022861014844">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c716405022861014844" href="#716405022861014844">02 June 2012 20:46</a>
              </span>
            </div>
            <div class="comment-content">According to Linux documentation, you should be able to get more than 10 Gbps over a pair of 10 Gbps uplinks. Not tested by yours truly though.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5751725432966214212">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="http://jedelman.com" rel="nofollow">Jason Edelman (@jedelman8)</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5751725432966214212" href="#5751725432966214212">01 June 2012 03:09</a>
              </span>
            </div>
            <div class="comment-content">I&#39;m with Will.  Mind blown.  Need to think about this one.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5527058897654538497">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5527058897654538497" href="#5527058897654538497">01 June 2012 15:25</a>
              </span>
            </div>
            <div class="comment-content">If you configure the three links in round-robin mode, wouldn&#39;t you run the risk of packet re-ordering issues (see http://kb.pert.geant.net/PERTKB/PacketReordering)</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="8371023605413450720">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8371023605413450720" href="#8371023605413450720">02 June 2012 20:47</a>
              </span>
            </div>
            <div class="comment-content">Brocade has solved that problem. See the &quot;proprietary perfect load balancing&quot; link in the article.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="8630691396096194284">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8630691396096194284" href="#8630691396096194284">03 June 2012 06:13</a>
              </span>
            </div>
            <div class="comment-content">Thanks for the pointer. I hope that&#39;s not a new trend -- having to read patents for documentation :-) The described solution of measuring link skew to do perfect transmit scheduling and thereby avoiding the need for receiver-side re-ordering seems almost too good to be true. Kudos to them if they really pulled than one off.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="4056492448296018261">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="http://www.twitter.com/jtarrioBRCD" rel="nofollow">Juan Tarrio BROCADE</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4056492448296018261" href="#4056492448296018261">04 June 2012 16:02</a>
              </span>
            </div>
            <div class="comment-content">Anonymous, we&#39;ve been doing it for over 10 years in the Fibre Channel space, there&#39;s really no new revolutionary technology in the way we do frame-based load balancing in VCS... :)</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="8622077699231176439">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8622077699231176439" href="#8622077699231176439">03 June 2012 18:23</a>
              </span>
            </div>
            <div class="comment-content">Does anyone have something like that &quot;ethernet frame load sharing&quot;? H3C talks about &quot;per-packet&quot; load sharing, but seems something else: http://www.h3c.com/portal/download.do?id=1274015</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="7808359526746143019">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7808359526746143019" href="#7808359526746143019">03 June 2012 19:57</a>
              </span>
            </div>
            <div class="comment-content">Funny ... the documentation is mentioning &quot;per-packet&quot; load sharing, but no command to configure it. I would guess it&#39;s another mismatch between marketing and reality.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="448277983047408184">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/03014282355010119539" rel="nofollow">Michael67</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c448277983047408184" href="#448277983047408184">04 June 2012 21:04</a>
              </span>
            </div>
            <div class="comment-content">Seems to be a copy and paste typo. The higher ones support this: http://bizsupport2.austin.hp.com/bc/docs/support/SupportManual/c02767753/c02767753.pdf<br /><br />&quot;per-packet: Performs load sharing in load-sharing link aggregation groups for each packet.&quot;</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3703192292683965440">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/01605944565710444887" rel="nofollow">Fred Hsu</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3703192292683965440" href="#3703192292683965440">08 June 2012 07:09</a>
              </span>
            </div>
            <div class="comment-content">Perhaps this could also be solved using OpenFlow and a different algorithm?</div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
