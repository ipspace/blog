<div class="comments post" id="comments">
  <h4>10 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="9015094200707080395">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/18433992102893508928" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c9015094200707080395" href="#9015094200707080395">17 September 2012 20:21</a>
              </span>
            </div>
            <div class="comment-content">Yes, some of us care very much and are very happy to see continued progress in the level of IPv6 support in our gear, and in the continued progress in actual-deployment.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="725952522311961367">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="http://networkstatic.net" rel="nofollow">Brent Salisbury</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c725952522311961367" href="#725952522311961367">17 September 2012 21:36</a>
              </span>
            </div>
            <div class="comment-content">Good to hear it is happening in some places, shameful in the others. I guess it just reflects the reaction to demand but you would have thought this could be forecasted since IANA posts nice graphs on a linear race to zero. Missing protocol support for basics like PE-CE ISIS &amp; OSPF still baffles me too. LDPv4 will be a welcome addition if it ever gets out of the IETF.<br />For what its worth I learned most of what I know regarding v6 from your videos. That makes you a borg Ivan :)</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7174033382020099328">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7174033382020099328" href="#7174033382020099328">17 September 2012 21:59</a>
              </span>
            </div>
            <div class="comment-content">We had a public tender over one year ago for a huge wireless controller based wifi solution. A lot of vendors took part. One requirement was not only a dual stack on wifi controller and access points but also carrying IPv6 packets over the tunnel between access points and controller.<br /><br />Well one vendor was quit inexpensive with its products. Of course we asked him about the requested IPv6 support, because IPv6 was not mentioned it its manuals or datasheets.<br /><br />Of course he exceused himself, the responsible employee must have overseen that topic, but he promised that IPv6 will be implemented soon.<br /><br />Fortunately, that one was thrown out. (There were other topics, i.e. no active directory integration,...) Looking at its datasheets he is now advertising IPv6 for its wireless controllers. Looking at the manual you can find that the controller itself can now be given an IPv6 adress for management, but no dual stack for its access points, no IPv6 traffic being transfered over tunnel.<br />(side note: If you let such a vendor win the public tender, he is no longer commmitted to fulfill those requirements, as he admited those ones, although he promised to do so. Strange? No, public tenders in my country...)<br /><br />Lessons learned:<br />- check &quot;IPv6 support&quot;<br />- vendors will you tell a lot, only to sell you its products<br />- never do a public tender</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2774029380351042297">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Ryan Malayter</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2774029380351042297" href="#2774029380351042297">18 September 2012 03:01</a>
              </span>
            </div>
            <div class="comment-content">Dell SonicWall has an ancient &quot;feature release&quot; with limited IPv6 support, but no way to upgrade or downgrade to it from a recent release. So a full rebuild of all firewall rules would be necessary.<br />For two years support had been saying IPv6 in v5.8 or newer was coming soon, but still nothing. Major fail.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="9001815196929787208">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Cameron F</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c9001815196929787208" href="#9001815196929787208">18 September 2012 15:07</a>
              </span>
            </div>
            <div class="comment-content">Hi Ivan,<br /><br />Enjoy the site! You may have forgotten about 100.64.0.0/10 defined in RFC6598 while not as large as a /8 this space is guaranteed not to overlap. Not solving the problem with lack of v6 support but making transitional mechanisms... easier</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3347487605779821561">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="http://www.amilabs.com" rel="nofollow">Jsicuran</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3347487605779821561" href="#3347487605779821561">18 September 2012 16:27</a>
              </span>
            </div>
            <div class="comment-content">Check IPv6 support but also kick the tires in a lab. You would be surprised how many products say IPv6 supported but are not fully baked. Critical RFC items not supported. You have to flush them out first before even thinking of production deployment. <br />For security devices I used a tool to craft custom IPv6 packets to beat up on devices to see how the protocol behaved and used this to test ACL processing and logging too. <br /><br />Some examples from last spring:<br />Infoblox DNS appliance stated IPv6 support but didn&#39;t support some important RFCs. Also, if you changed the IPv6 address it bounced the IPv4 services too, not good for production. We were basically debugging their product in the lab and they corrected some of the items in the 6.4 code.<br />Mcafee 8.x firewall code. Certain EH passed through when chained and important alerts were not logged or mislogged giving false information. Discovered a fragment reassembly FSM time exceed exploit etc.<br />Clunky rules for FTP and DNS handling, host and router mode limitations.<br /></div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3789717688818842832">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="http://www.amilabs.com" rel="nofollow">Jsicuran</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3789717688818842832" href="#3789717688818842832">18 September 2012 16:28</a>
              </span>
            </div>
            <div class="comment-content">Also, here is a Cisco example just to share with the gang:<br />Cisco ASR IOS XE. 3.0.2 IPv6 ACL and TCAM bug I included to share with the gang.<br /> One is the ACL with IPV6 and the second issue is the side effect that caused the crash.   The crash happened after adding ipv6 ACL failed and it tried to restore the old ACL which it’s not suppose to do. In attempting to restore the old ACL, it triggered a crash.  Thus, I’ve filed a bug against the crash.  the bug id is CSCua03521.  It’s been assigned to a DE already.  There is no ETA on the fix.  You can view the bug with bugtool http://www.cisco.com/cgi-bin/Support/Bugtool/home.pl <br />As for the ACL’s, there is a workaround by re-arrange the ACE’s so that it won’t trigger the failure.  Would you please send me the current (new) running-config that you want to run?  The contents of new ACE’s that you want to add IPV6 ACL’s is important. <br />From the show tech output on May 2nd, 2012, the ACE with sequence number 440 was causing the problem. If you remove this ACE then you won’t see the error tracebacks or crash problem.   From show run output, not sure if ACE sequence 440 is needed since you already have the following ACE in the ACL - deny ipv6 any any log routing sequence 430. <br />ASR1K processes ACL in TCAM (hardware). The width of largest TCAM entry is 320 bits. The IPV6 ACL src &amp; dst address alone takes 256 bits of these 320. So there will not be enough space in the entry to add all possible other acl matching fields. In order to accommodate all ACL fields we compress IPV6 src &amp; dst address into 64 bits and program these compressed values in TCAM. This compression algorithm has some known limitations.  Sometimes compression of  address fails. This dependents upon the ipv6 address pattern, address prefix length, order in which these ACEs are configured etc., To avoid this problem for most commonly used  ACL fields, we program TCAM without compressing the address. If you uses only following fields in your ACLs, then you never run into this problem. <br />   - IPV6 src address <br />   - IPV6 dest address <br />   - protocol field (ipv6, icmp, igmp, tcp, udp, ipinip, ipv6inip, gre, nigrp, ospf, nos, pim, pcp, sctp) <br />   - (tos, dscp) or TCP flags  (not both in the same ACL) <br />   - l4 src &amp; dest ports &amp; port ranges (TCP, UDP  src &amp; dst ports) <br />   - ipv6 icmp header types (like pkt too big, echo req etc.,) <br />   - ipv6  routing header presence <br />   - ipv6 destination header presence (later versions code we replaced this with HBH). <br />   - fragments <br />  <br />Original ACL has fields only from above list. So ASR1k used uncompressed address in TCAM. During edit you added ACE with “routing-type”. This is not part of this list. So this change forced ASR1K to use compressed ipv6 addresses in TCAM. During address compression we ran into this problem. <br />Following are some options to avoid this problem <br />  <br />1.    Use ACL fields given in the above list only. That means you have to remove ACE with routing-type field.  As I mentioned before you do not need this as long as you have “deny ipv6 any any routing” ACE in the ACL. <br />  <br />2.   Re-arrange the ACEs in the following way. This solves the problem but if you add new ACEs this ACL then they may run into this problem again. <br />IPv6 access list Internet-Inbound <br />3.   Remove the ACE “deny ipv6 any any routing-type 0 log sequence 440” from this ACL and create a separate ACL with this ACE and apply it in outbound direction (if possible) <br />  <br />4.   Remove the ACE “deny ipv6 any any routing-type 0 log sequence 440” and create a separate ACL. Create a QoS policy using this ACL. Use police actopm to drop all these packets. Apply this to the interface in ingress dir along with ACL. <br /><br />Regards..</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7974662633202150496">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/07518487332337493042" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7974662633202150496" href="#7974662633202150496">19 September 2012 07:46</a>
              </span>
            </div>
            <div class="comment-content">Just to let you know, here at Arista we shipped our first releases with IPv6 routing support this summer.  I&#39;m sorry if this was a bit hard to find in the documentation.  As of 4.10.1, we have hardware routing support for the 7500 and 7050 switches along with MP-BGP and OSPFv3 protocol support.  The 7050s even got IPv6 ACL support.  We&#39;ll be fleshing out the protocol features and adding first hop router features like VRRPv3 for IPv6 and DHCPv6 relay in our upcoming releases.  <br /><br />Thanks,<br /><br />Adam Sweeney<br /></div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="8409172785409543618">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Michael Maier</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8409172785409543618" href="#8409172785409543618">06 December 2012 12:24</a>
              </span>
            </div>
            <div class="comment-content">Too bad that sFlow v9 doesn&#39;t seem to be supported at all at Arista 7050s</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5646086837412531632">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="http://www.amilabs.com" rel="nofollow">jsicuran</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5646086837412531632" href="#5646086837412531632">19 September 2012 20:27</a>
              </span>
            </div>
            <div class="comment-content">Just one more <br />On the Cisco ASR IOS XE rev above reflective ACLs were not supported for IPv6. Could have come in handy.</div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
