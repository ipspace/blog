<div class="comments post" id="comments">
  <h4>20 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="3693759090935477553">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Runar</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3693759090935477553" href="#3693759090935477553">16 July 2009 08:14</a>
              </span>
            </div>
            <div class="comment-content">Hi!<br /><br />I Think you should take a look on Cisco GET ( Group Encrypted Transport VPN ) <br />:)<br />http://www.cisco.com/en/US/products/ps7180/index.html</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="154477919676502577">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c154477919676502577" href="#154477919676502577">16 July 2009 08:20</a>
              </span>
            </div>
            <div class="comment-content">GETVPN is a CE-to-CE solution. We&#39;re looking for a PE-to-PE solution for a single VRF.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5928124587366215143">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Drb999</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5928124587366215143" href="#5928124587366215143">16 July 2009 09:09</a>
              </span>
            </div>
            <div class="comment-content">What about VRF aware IPsec feature? So create VRF B on both PEs as transit VRF and then run a VRF aware IP sec through it. Or some variation along those lines.  :)</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1414066136329406030">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Dirk-Jan</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1414066136329406030" href="#1414066136329406030">16 July 2009 09:17</a>
              </span>
            </div>
            <div class="comment-content">If you don&#39;t trust the MPLS VPN of your provider, why would you trust his PE routers?</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="4965499752934353314">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4965499752934353314" href="#4965499752934353314">16 July 2009 09:21</a>
              </span>
            </div>
            <div class="comment-content">I don&#39;t know the full background, but it could be site-deployed PE routers ... or someone trying to offload the burden of regulatory-enforced encryption to the SP.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6315657127764591298">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Ofer</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6315657127764591298" href="#6315657127764591298">16 July 2009 09:22</a>
              </span>
            </div>
            <div class="comment-content">You can indeed use IPSEC in a VRF mode.<br />2 options:<br />you can use the IGP core as tunnel endpoints, you will use global (not VRF!) loopbacks as the source and destination of the tunnel and just use the &quot;ip vrf forwarding&quot; under the tunnel (this is a very nice security feature that will make every successfully(!) decrypted packet enter the VRF specified in the &quot;ip vrf forwad&quot; command).<br />If you want the tunnel to initiate from within the VRF itself, you can ADD the &quot; tunnel vrf&quot; command to the tunnel - then, the source and destination will have to belong to the VRF context.<br /><br />Hope this helps!</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2114083818276496882">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2114083818276496882" href="#2114083818276496882">16 July 2009 09:27</a>
              </span>
            </div>
            <div class="comment-content">Thanks for the idea. Much better than mine ... but it destroys all the scalability of MPLS VPN, as you have to build per-VRF tunnels between the PE-routers (not to mention the routing mess you could make).</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1285217324148107958">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">chris</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1285217324148107958" href="#1285217324148107958">16 July 2009 09:28</a>
              </span>
            </div>
            <div class="comment-content">Hmmm, what about running MPLS/VPN over DMVPN between the PE ?</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2540767552188971319">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2540767552188971319" href="#2540767552188971319">16 July 2009 09:31</a>
              </span>
            </div>
            <div class="comment-content">You&#39;re making my hallucinations scalable 8-) If nothing better comes along, we can always use this.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3086199939524569902">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Ofer</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3086199939524569902" href="#3086199939524569902">16 July 2009 10:46</a>
              </span>
            </div>
            <div class="comment-content">I agree MPLSoDMVPN is your friend if you&#39;re looking for  pure scalability, but MIGRATING from MPLS core to IP core and running mpls on tunnels is quite a change...certainty not feasible for SP (if that&#39;s the case)</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1278226393420912766">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Christoph</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1278226393420912766" href="#1278226393420912766">16 July 2009 16:37</a>
              </span>
            </div>
            <div class="comment-content">What about binding a crypto-map on the customer-facing interface(s) of the PE, so incoming traffic should be encrypted,  forwarded into the VRF and routed thru the VPN.<br />Don&#39;t know if this is possible but it may work...?</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7485191983606598978">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">chris</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7485191983606598978" href="#7485191983606598978">16 July 2009 17:38</a>
              </span>
            </div>
            <div class="comment-content">Because the crypto map works in the output direction.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2200961689488042910">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">chris</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2200961689488042910" href="#2200961689488042910">16 July 2009 23:43</a>
              </span>
            </div>
            <div class="comment-content">So I tried, it seems to work (if I didn&#39;t make any mistake) with a basic config (ie DMVPN without crypto):<br /><br />http://www.ipflow.utc.fr/configs/DMVPN_PE/<br /><br />(Sorry I don&#39;t have any drawing at this time)<br /><br />The &quot;mpls bgp forwarding&quot; command on the tunnel interface did the trick.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="432252452326704560">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">shivlu jain</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c432252452326704560" href="#432252452326704560">17 July 2009 07:06</a>
              </span>
            </div>
            <div class="comment-content">Well Explained about the requirement of PE-PE Ip Sec Security<br /><br />http://etutorials.org/Networking/MPLS+VPN+security/Part+III+Practical+Guidelines+to+MPLS+VPN+Security/Chapter+6.+How+IPsec+Complements+MPLS/Location+of+the+IPsec+Termination+Points/</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="4723516329145488540">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4723516329145488540" href="#4723516329145488540">17 July 2009 09:09</a>
              </span>
            </div>
            <div class="comment-content">Great job. Thanks! Can I use the configs in my other articles?<br /><br />BTW, using &quot;mpls ip&quot; on the tunnel interface should also work.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2960145358222419542">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2960145358222419542" href="#2960145358222419542">17 July 2009 09:10</a>
              </span>
            </div>
            <div class="comment-content">Thanks. Great document (I wonder where it came from, it&#39;s too well written for a &quot;free tutorials&quot; web site).</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7533927158552210951">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">chris</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7533927158552210951" href="#7533927158552210951">17 July 2009 09:19</a>
              </span>
            </div>
            <div class="comment-content">Yes, of course, no problem.<br /><br />About using LDP, I read in http://www.cisco.com/en/US/docs/solutions/Enterprise/WAN_and_MAN/ngwanempls.html that direct spoke-to-spoke communication is not possible except via the hub acting as a P router (I guess the PE cannot form a LDP adjacency ?)</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6243137383689335452">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">chris</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6243137383689335452" href="#6243137383689335452">17 July 2009 12:06</a>
              </span>
            </div>
            <div class="comment-content">Hi think I missed your point, I guess the idea was to have &quot;mpls ip&quot; on the interface only to allow MPLS packets, not to establish LDP adjacencies.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="9046635080165809402">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">xls</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c9046635080165809402" href="#9046635080165809402">17 July 2009 14:11</a>
              </span>
            </div>
            <div class="comment-content">google gives the answer ...<br /><br />http://my.safaribooksonline.com/1587051834/part01<br />MPLS VPN Security, by Michael H. Behringer; Monique J. Morrow<br /><br />Back to the topic, for me it&#39;s crazy idea <br />to have the SP encrypt the traffic of it&#39;s customers. <br />Possible ? Maybe, but who would like <br />to have such a network ?</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1497448334263911956">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">mayurgai</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1497448334263911956" href="#1497448334263911956">18 July 2009 03:18</a>
              </span>
            </div>
            <div class="comment-content">Its not about the SP encrypting traffic for its users as a &quot;service&quot; , but more about maintaining security when using a carrier of carriers model . That means the SP is using the internet as the core between PEs. Happens frequently with VNOs.</div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
