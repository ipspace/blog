<div class="comments post" id="comments">
  <h4>2 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="2436">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">AW</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2436" href="#2436">09 October 2024 05:11</a>
              </span>
            </div>
            <div class="comment-content"><p>Lab is great! I&#39;m confused by the iBGP peer between the spines. Is this just an artifact of config generation? I can&#39;t think of why it would be necessary or useful in this design but could be missing something.</p>
</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="2437">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2437" href="#2437">09 October 2024 07:36</a>
              </span>
            </div>
            <div class="comment-content"><p>The IBGP session is the side effect of how netlab sets up BGP sessions. It assumes there should be an IBGP session between routers in the same AS (which is usually correct).</p>

<p>Will fix the lab topology and the blog post. Thank you!</p>
</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2438">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> SM</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2438" href="#2438">13 October 2024 03:43</a>
              </span>
            </div>
            <div class="comment-content"><p>For ebgp only evpn, I assume frr and arista eos uses single ebgp process for overlay and underlay from your explanation. Do you ever encountered vendors that spawn different bgp process for underlay  and overlay for ebgp only evpn that makes it a concern ?</p>

<p>Also for spine config for arista I assume the difference with ibgp overlay is just next-hop-unchanged, in your opinion is it better than other vendors like nxos or srlinux? Or the &quot;nerd knob&quot; that we need for this ebgp only fabric to work, is mostly on the leaf side? </p>
</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="2439">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2439" href="#2439">14 October 2024 05:55</a>
              </span>
            </div>
            <div class="comment-content"><p>Arista is one of those vendors that realized you SHOULD NOT change the BGP next hop on EBGP sessions BY DEFAULT. It does not need <strong>next-hop-unchanged</strong> (start the lab and check it out).</p>

<p>As for the rest: https://blog.ipspace.net/2021/11/multi-threaded-routing-daemons/</p>

<p>Hope this helps, Ivan</p>
</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
