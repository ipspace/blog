{
   "comments": [
      {
         "comments": [
            {
               "date": "18 April 2023 07:45",
               "html": "<p>Thank you! Have to make a blog post out of that one of these days ;)</p>\n",
               "id": "1764",
               "name": "Ivan Pepelnjak",
               "pub": "2023-04-18T19:45:11",
               "ref": "1760",
               "type": "comment"
            }
         ],
         "date": "18 April 2023 09:40",
         "html": "<p>History can give some insight...</p>\n\n<p>IPv6 was actually seen by some people as IPXv2, with some influence from DECnet. You can get rid of explicit interface addressing and move to node addressing. You could get rid of ARP/ND all together. This is why we have /64 even for point-to-point links, getting rid of ARP/ND. You can easily map IPv6 addresses with MAC addresses. Just embed it. The other functions should be done by some successor of ES-IS. </p>\n\n<p>Then came some other people and destroyed the original clean design. Pity for this...</p>\n",
         "id": "1760",
         "name": " Bela Varkonyi",
         "pub": "2023-04-18T09:40:26",
         "type": "comment"
      },
      {
         "comments": [
            {
               "date": "18 April 2023 07:46",
               "html": "<p>You should use /127 only for numbered router-to-router links, so you don&#39;t need DHCPv6 in that case.</p>\n\n<p>Although DHCPv6 SHOULD work on prefix sizes other than /64, I wouldn&#39;t push my luck unless absolutely necessary.</p>\n",
               "id": "1765",
               "name": "Ivan Pepelnjak",
               "pub": "2023-04-18T19:46:16",
               "ref": "1761",
               "type": "comment"
            }
         ],
         "date": "18 April 2023 09:47",
         "html": "<p>There might be another issue with prefixes like /127: DHCP-based auto provisioning mechanisms\nI&#39;m not sure if it&#39;s possible make it work with in IPv6 somehow (never tried that...), but at least with IPv4 /31 it&#39;s impossible to setup such a scope on Windows or ISC DHCP server, to my knowledge.</p>\n",
         "id": "1761",
         "name": " Christoph",
         "pub": "2023-04-18T09:47:53",
         "type": "comment"
      },
      {
         "comments": [
            {
               "date": "18 April 2023 04:49",
               "html": "<p>The main reason I use /126 rather than /127 in places is that there are some devices that do not understand how to /127 properly (and for that matter, how to /31 in IPvLegacy space,) so the 126 provides maximum compatibility while keeping the attack surface small.  I have used /124&#39;s before for small transit networks, but never a /112.  </p>\n",
               "id": "1763",
               "name": " Sean",
               "pub": "2023-04-18T16:49:58",
               "ref": "1762",
               "type": "comment"
            },
            {
               "date": "18 April 2023 07:46",
               "html": "<p>@Sean: Thank you, will add.</p>\n",
               "id": "1766",
               "name": "Ivan Pepelnjak",
               "pub": "2023-04-18T19:46:48",
               "ref": "1763",
               "type": "comment"
            }
         ],
         "date": "18 April 2023 10:19",
         "html": "<p>My personal preference is to reserve a /64 per point-to-point link, and configure a /127. Because xxx::/127 and xxx::1/127 looks ugly, I usually use xxx::a/127 and xxx::b/127 for aesthetics. It also makes it easier in discussions to refer to the A side or the B side.</p>\n\n<p>And for the /112, talk to Iljitsch &#x1F609;</p>\n",
         "id": "1762",
         "name": "Sander Steffann",
         "pub": "2023-04-18T10:19:43",
         "type": "comment"
      },
      {
         "comments": [
            {
               "date": "19 April 2023 08:21",
               "html": "<p>As you&#39;d be dealing with static or DHCPv6 address assignment anyway, it doesn&#39;t matter what the prefix size is -- just zero out all the other quibbles if that&#39;s what you&#39;d like to have.</p>\n",
               "id": "1768",
               "name": "Ivan Pepelnjak",
               "pub": "2023-04-19T08:21:26",
               "ref": "1767",
               "type": "comment"
            }
         ],
         "date": "18 April 2023 08:16",
         "html": "<p>The /112 prefix length makes the last quibble the host part. This might seem more pleasing to people not using a proper IPAM ;-) </p>\n",
         "id": "1767",
         "name": " Arne",
         "pub": "2023-04-18T20:16:55",
         "type": "comment"
      },
      {
         "date": "19 April 2023 10:07",
         "html": "<p>Not actually point-to-point case but very close to it, and I know here are skillful people to shoot me down, so here we go, my thoughts:</p>\n\n<p>Routers-to-firewalls link networks that need space for HSRP/VRRP/clustering addresses are configured as /116:</p>\n\n<ul>\n<li>Our-side devices are addressed:\n    ::a = virtual IP\n    ::a1 = first device in the group/cluster\n    ::a2 = second device in the group/cluster</li>\n<li>The other side devices are addressed:\n    ::b = virtual IP\n    ::b1 = first device in the group/cluster\n    ::b2 = second device in the group/cluster</li>\n<li>Reasoning for using /116 instead of /64: It limits the possibility of NCE (Neighbor cache exhaustion) in the routers-to-firewalls link networks. It is unclear if NCE is still practical in 2023 but a smaller subnet was nevertheless selected as a precaution. SLAAC is never used in these subnets so there is no technical reason to stick with /64.</li>\n<li>Reasoning for using /116 instead of /120: RFC 2526 (Reserved IPv6 Subnet Anycast Addresses): &quot;Within each subnet, the highest 128 interface identifier values are reserved for assignment as subnet anycast addresses.&quot; If using /120 for routers-to-firewalls subnets it is not possible to use the ::a1, ::a2, ::b1 and ::b2 addresses that are illustrative when using ::a and ::b for the VIPs. Using /116 enables using them for &quot;a-side and b-side&quot; consistency with point-to-point subnets. /116 is the next-shorter netmask from /120 when sticking with nibble-boundaries.</li>\n</ul>\n",
         "id": "1769",
         "name": " Markku Leini√∂",
         "pub": "2023-04-19T10:07:43",
         "type": "comment"
      }
   ],
   "count": 5,
   "type": "post",
   "url": "2023/04/ipv6-p2p-addressing.html"
}
