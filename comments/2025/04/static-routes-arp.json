{
   "comments": [
      {
         "comments": [
            {
               "date": "23 April 2025 01:51",
               "html": "<p>Thanks a million! Will add these settings to Linux/FRR initial configuration templates.</p>\n\n<p>On a tangential topic: a pointer to a list of recommended sysctl settings would be highly appreciated.</p>\n",
               "id": "2609",
               "name": "Ivan Pepelnjak",
               "pub": "2025-04-23T13:51:34",
               "ref": "2608",
               "type": "comment"
            }
         ],
         "date": "23 April 2025 07:29",
         "html": "<p>This is a long term &quot;issue&quot; with Linux that cannot be changed because of the &quot;never break userspace&quot; promise. Most Linux-based NOS will change arp_announce to 2, arp_notify to 1 and arp_ignore to 1 to match the behavior f most commercial NOS.</p>\n\n<p>Cumulus does that:\nnet.ipv4.conf.default.arp_announce = 2\nnet.ipv4.conf.all.arp_notify = 1\nnet.ipv4.conf.default.arp_notify = 1\nnet.ipv4.conf.default.arp_ignore=1</p>\n\n<p>(source: https://docs.nvidia.com/networking-ethernet-software/cumulus-linux-512/Layer-3/Address-Resolution-Protocol-ARP/)</p>\n",
         "id": "2608",
         "name": " Vincent Bernat",
         "pub": "2025-04-23T07:29:03",
         "type": "comment"
      },
      {
         "date": "27 April 2025 04:09",
         "html": "<p>RFC 1122 describes &raquo;two different conceptual models for multihoming&laquo;, the strong ES model (addresses belong to specific interfaces) and the weak ES model (addresses belong to whole host). Linux&#39; default settings follow weak ES model.</p>\n\n<p>Another example of a very dangerous setting (which is often enabled by default) is Large Receive Offloading (LRO). For end hosts this optimization can be useful, but it is should never be used when forwarding packets.</p>\n",
         "id": "2612",
         "name": "Sebastian Schrader",
         "pub": "2025-04-27T16:09:45",
         "type": "comment"
      }
   ],
   "count": 2,
   "type": "post",
   "url": "2025/04/static-routes-arp.html"
}
