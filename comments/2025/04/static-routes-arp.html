<div class="comments post" id="comments">
  <h4>2 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="2608">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Vincent Bernat</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2608" href="#2608">23 April 2025 07:29</a>
              </span>
            </div>
            <div class="comment-content"><p>This is a long term &quot;issue&quot; with Linux that cannot be changed because of the &quot;never break userspace&quot; promise. Most Linux-based NOS will change arp_announce to 2, arp_notify to 1 and arp_ignore to 1 to match the behavior f most commercial NOS.</p>

<p>Cumulus does that:
net.ipv4.conf.default.arp_announce = 2
net.ipv4.conf.all.arp_notify = 1
net.ipv4.conf.default.arp_notify = 1
net.ipv4.conf.default.arp_ignore=1</p>

<p>(source: https://docs.nvidia.com/networking-ethernet-software/cumulus-linux-512/Layer-3/Address-Resolution-Protocol-ARP/)</p>
</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="2609">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2609" href="#2609">23 April 2025 01:51</a>
              </span>
            </div>
            <div class="comment-content"><p>Thanks a million! Will add these settings to Linux/FRR initial configuration templates.</p>

<p>On a tangential topic: a pointer to a list of recommended sysctl settings would be highly appreciated.</p>
</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2612">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Sebastian Schrader</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2612" href="#2612">27 April 2025 04:09</a>
              </span>
            </div>
            <div class="comment-content"><p>RFC 1122 describes &raquo;two different conceptual models for multihoming&laquo;, the strong ES model (addresses belong to specific interfaces) and the weak ES model (addresses belong to whole host). Linux&#39; default settings follow weak ES model.</p>

<p>Another example of a very dangerous setting (which is often enabled by default) is Large Receive Offloading (LRO). For end hosts this optimization can be useful, but it is should never be used when forwarding packets.</p>
</div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
