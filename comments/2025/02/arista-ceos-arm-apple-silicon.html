<div class="comments post" id="comments">
  <h4>2 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="2517">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Mtai</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2517" href="#2517">10 February 2025 06:27</a>
              </span>
            </div>
            <div class="comment-content"><p>Great to see that ARM-based cEOS has finally been released! I&#39;m running it on my Mac with Apple Silicon, but it seems to have limited support for routing protocols at the moment.</p>

<p>ceos01(config)#router bgp
  bgp  not supported on this hardware platform</p>

<p>ceos01(config)#router ?
  adaptive-virtual-topology  Configure adaptive virtual topology
  bfd                        Bidirectional Forwarding Detection
  general                    Protocol independent routing configuration
  internet-exit              Configure Internet exit
  kernel                     Routes installed by kernel
  l2-vpn                     l2-vpn configuration
  ospfv3                     OSPF Version 3
  service-insertion          Configure network services inserted to data forwarding
  traffic-engineering        Traffic-engineering global config</p>

<p>ceos01(config)#show version
Arista cEOSLab
Hardware version:
Serial number:
Hardware MAC address: 0242.ac20.996c
System MAC address: 0242.ac20.996c</p>

<p>Software image version: 4.33.1F-39308076.liffeyceoslabarm (engineering build)
Architecture: aarch64
Internal build version: 4.33.1F-39308076.liffeyceoslabarm
Internal build ID: 98fc6c22-9c8e-4226-9f9f-083a36d0bcb3
Image format version: 1.0
Image optimization: None</p>

<p>Kernel version: 6.10.14-linuxkit</p>

<p>Uptime: 2 minutes
Total memory: 8025636 kB
Free memory: 6454428 kB</p>
</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="2518">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2518" href="#2518">10 February 2025 09:05</a>
              </span>
            </div>
            <div class="comment-content"><p>Interestingly, I started the lab with netlab/containerlab and BGP works just fine for me using the same engineering build (or at least &quot;show version&quot; claims it&#39;s the same build).</p>
</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2519">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Mtai</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2519" href="#2519">10 February 2025 04:52</a>
              </span>
            </div>
            <div class="comment-content"><p>I didn&#39;t use the netlab to bring up the container, I use the &quot;docker create&quot; command, wondering if any parameters I&#39;m missing? </p>

<p>here is the docker create command I used</p>

<p>docker create --name=ceos01 --hostname=ceos01 -v /root/ceos01/startup-config:/mnt/flash/startup-config --privileged -e INTFTYPE=eth -e ETBA=4 -e SKIP_ZEROTOUCH_BARRIER_IN_SYSDBINIT=1 -e CEOS=1 -e EOS_PLATFORM=ceoslab -e container=docker -i -t ceosimage:4.33.1 /sbin/init systemd.setenv=INTFTYPE=eth systemd.setenv=ETBA=4 systemd.setenv=SKIP_ZEROTOUCH_BARRIER_IN_SYSDBINIT=1 systemd.setenv=CEOS=1 systemd.setenv=EOS_PLATFORM=ceoslab systemd.setenv=container=docker systemd.setenv=MAPETH0=1 systemd.setenv=MGMT_INTF=eth0</p>
</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2520">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Mtai</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2520" href="#2520">10 February 2025 04:59</a>
              </span>
            </div>
            <div class="comment-content"><p>Hi @Ivan Pepelnjak,</p>

<p>On a different note, have you tried running FRR Docker on Apple Silicon? If so, have you had any success with MPLS? It seems that the label forwarding path isn&#39;t working as expected, and I&#39;d appreciate any insights or experiences you could share.</p>

<p>Thanks!</p>
</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="2527">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2527" href="#2527">12 February 2025 09:02</a>
              </span>
            </div>
            <div class="comment-content"><p>&gt; Have you tried running FRR Docker on Apple Silicon?</p>

<p>Yes. It works.</p>

<p>&gt; If so, have you had any success with MPLS?</p>

<p>Yes, the simple <a href="https://github.com/ipspace/netlab/blob/dev/tests/integration/mpls/10-vpn-connected.yml">MPLS/VPN integration test</a> works with FRR 10.0.1 and 10.2.1, meaning that LDP, L3VPN and MPLS data plane all work correctly.</p>

<p>&gt; I&#39;d appreciate any insights or experiences you could share.</p>

<p>Use netlab? Or reverse-engineer how we configure the container ;) It&#39;s all open-source.</p>
</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
