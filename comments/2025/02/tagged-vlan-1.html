<div class="comments post" id="comments">
  <h4>2 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="2522">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> bjo</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2522" href="#2522">11 February 2025 03:19</a>
              </span>
            </div>
            <div class="comment-content"><p>In IOS-XE (and IIRC in classic IOS, don&#39;t know for IOSv) you can configure a subinterface with vlan 1 tagging <em>if</em> there is already another subinterface with another vlan configured as native :</p>

<p>interface GigabitEthernet0/0/1.700
 encapsulation dot1q 700 native
interface GigabitEthernet0/0/1.1
 encapsulation dot1q 1</p>

<p>If you delete the Gi0/0/1.700, the native keyword is automagically added back on the Gi0/0/1.1 (and brokes whatever you tried to achieve) ... there should always be one native ! :-)</p>
</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="2525">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2525" href="#2525">11 February 2025 06:42</a>
              </span>
            </div>
            <div class="comment-content"><p>Thank you. That &quot;sort of&quot; makes sense in the same way that I had to lie to many other devices that they should use a fake native VLAN, it&#39;s just that you have to create an extra fake subinterface on IOSv.</p>
</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2523">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Erik Auerswald</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2523" href="#2523">11 February 2025 04:39</a>
              </span>
            </div>
            <div class="comment-content"><p>Other vendor devices have no problem tagging VLAN 1, e.g., the old Enterasys switches, Extreme EXOS, HPE COMWARE (with hybrid ports), and Huawei VRP. Even Broadcom FASTPATH (found on some Quanta switches, for example) supports this.</p>

<p>A VLAN interface on Linux always means &quot;tagged&quot;, including for VLAN ID 1 (that is probably the reason for the Cumulus behavior).</p>
</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="2524">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2524" href="#2524">11 February 2025 06:41</a>
              </span>
            </div>
            <div class="comment-content"><p>Well, TBH, most of the devices I tried to persuade to tag VLAN 1 had no <em>problems</em> tagging it, it was just that I had to try really hard to convince them to do so ;)</p>
</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2526">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Erik Auerswald</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2526" href="#2526">11 February 2025 07:04</a>
              </span>
            </div>
            <div class="comment-content"><p>For the mentioned examples VLAN 1 is special in that it already exists in the factory defaults. But, VLAN ID 1 is not so special that tagging or not would be handled differently to other VLAN IDs (COMWARE and VRP also support <em>trunk</em> ports with a native VLAN, but the <em>hybrid</em> configuration does away with this idea).</p>

<p>A configuration examples for the obsolete Enterasys switches would be: <code>set vlan egress 1 ge.2.2 tagged</code></p>

<p>For EXOS this would be: <code>configure vlan 1 add ports 2 tagged</code></p>

<p>For any other VLAN ID, just replace the &quot;1&quot; with the other ID, the command is the same.</p>

<p>On those switches, I never use(d) <em>any</em> untagged VLAN on an inter switch link (aka &quot;trunk&quot;). L2 protocol data units without VLAN tag work just fine on such links.</p>

<p>In practice, I usually remove(d) VLAN 1 from every port, i.e., <code>clear vlan egress 1 *.*.*</code> on Enterasys and <code>configure vlan 1 delete ports all</code> on EXOS. (Yes, from factory defaults this removes all VLANs from all ports. One then adds what is really intended for static use.)</p>
</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
