<div class="comments post" id="comments">
  <h4>2 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="2575">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Erik Auerswald</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2575" href="#2575">24 March 2025 11:11</a>
              </span>
            </div>
            <div class="comment-content"><p>Most switches I have seen through the years, <em>when they do not have a configuration</em>, start with all ports active and in the same VLAN (the <em>default</em> VLAN with ID 1). Notable exceptions were Dell OS9 and Cisco Catalyst 6500 starting with all ports disabled and in L3 mode.</p>
</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="2576">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2576" href="#2576">24 March 2025 11:50</a>
              </span>
            </div>
            <div class="comment-content"><p>Thank you! I was hoping for something better, though &#x1F926;&zwj;&#x2642;&#xFE0F;</p>
</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2580">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Christoph</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2580" href="#2580">24 March 2025 03:34</a>
              </span>
            </div>
            <div class="comment-content"><p>... this might even be the case as a transient state during boot until the configuration has been applied, depending on specific the implementation of course.
And it&#39;s not limited to switches per-se, also routers, firewalls or any other devices with &quot;switchports&quot; <em>could</em> behave like this. I remember of a situation where a customer had 2 Cisco 881 routers from its ISP connected to its LAN &amp; additionally with a direct cross-link between each other. A restart of <em>both routers at the same time</em> would cause a L2 loop (BPDU guard kicked in, fortunately...) because the router&#39;s switchports would act as stupid L2 switch until the config was fully applied.</p>
</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2577">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Keanu L</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2577" href="#2577">24 March 2025 12:03</a>
              </span>
            </div>
            <div class="comment-content"><p>HI Ivan,</p>

<p>Thanks for the article, as always!</p>

<p>For your information, on Arista EOS, if no startup-config is found on the switch during boot, the switch enters ZTP mode. By default, this mode sets all ports as &quot;routed&quot; ports to prevent the disaster you mentioned in your article.</p>

<p>This also applies to cEOS: when you boot a container without a startup-config or with an empty startup-config, ZTP mode will be activated.</p>

<p>Thank you.</p>
</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="2578">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Keanu L</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2578" href="#2578">24 March 2025 12:14</a>
              </span>
            </div>
            <div class="comment-content"><p>To add to my previous answer, you could also consider including the following configuration knob in your Arista cEOS containers&#39; startup-config to ensure that all ports are set as routed ports by default:</p>

<p>switchport default mode routed</p>

<p>And if you need a switch port, you can configure it directly by setting the desired port as a switchport:</p>

<p>interface Ethernet1
  switchport</p>
</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2579">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2579" href="#2579">24 March 2025 12:20</a>
              </span>
            </div>
            <div class="comment-content"><p>Thanks a million for the feedback. I (probably) know what went wrong, will fix the blog post accordingly.</p>
</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
