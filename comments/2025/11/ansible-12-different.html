<div class="comments post" id="comments">
  <h4>1 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="2792">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Ewen McNeill</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2792" href="#2792">03 November 2025 11:26</a>
              </span>
            </div>
            <div class="comment-content"><p>For your &ldquo;macro returns None&rdquo; situation, in some (most?) cases you can probably get back to one line by using the <a href="https://jinja.palletsprojects.com/en/stable/templates/#jinja-filters.default">optional argument on the &ldquo;default&rdquo; filter</a>, which if set to True will also replace falsey values with the default (None should be a falsey value).</p>

<p>Ewen</p>
</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="2801">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2801" href="#2801">21 November 2025 11:33</a>
              </span>
            </div>
            <div class="comment-content"><p>Thank you, you&#39;re absolutely correct (at the danger of turning Jinja2 into PERL &#x1F61C;)</p>

<p>Anyway, since I have to check whether the parameters are set anyway (either in the macro or elsewhere), I just decided to move the checks to the parent template (although that does admittedly generate duplicate code).</p>
</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
