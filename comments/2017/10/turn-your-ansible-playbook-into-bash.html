<div class="comments post" id="comments">
  <h4>5 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="743350873115541975">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/09828405685139931123" rel="nofollow">privateip</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c743350873115541975" href="#743350873115541975">12 October 2017 14:02</a>
              </span>
            </div>
            <div class="comment-content">export ANSIBLE_STDOUT_CALLBACK=dense; ansible-playbook  [options]</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="249714100607194810">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c249714100607194810" href="#249714100607194810">12 October 2017 14:17</a>
              </span>
            </div>
            <div class="comment-content">Yeah, sure... have you tried adding that to the #! line? Did it work? If it did, under which shell?</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="413061235396444665">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/11405076238992238912" rel="nofollow">rwrz</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c413061235396444665" href="#413061235396444665">12 October 2017 15:15</a>
              </span>
            </div>
            <div class="comment-content">I&#39;d actually preffer making aliases in bashrc. Makes it easier to manage and move around instead of creating loads of symlinks.<br />Just add this:<br />alias get-ssh-keys=&quot;/vagrant/tools/ssh-keys/get-keys.yml&quot;<br />inside ~./bashrc<br />Reload bash by typing source ~./bashrc<br /><br />You could also be creative and make a functions and such</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1805430402279859767">
          <!--
          <div class="avatar-image-container">
            <img src="https://3.bp.blogspot.com/_72yM2Ossrws/SiSMewEN3FI/AAAAAAAAAKo/jKktz6qHCeY/S220-s32/twitter-pict.png">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/07549850819912423153" rel="nofollow">Netfortius</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1805430402279859767" href="#1805430402279859767">12 October 2017 19:09</a>
              </span>
            </div>
            <div class="comment-content">Ivan - aren&#39;t we now moving the &quot;CLI&quot;[-like] approach, upstream (the one we are just trying to depart, via the more structured and robust approach of RESTAPI), to the Bash shell, by maintaining more complex scripts? <br /><br />Who is / how are we going to fix the portability of Bash vs other shells (e.g. ksh, zsh) when taking scripts and move them across *nix platforms, or with diff path(s) and env, troubleshoot shell exit codes, etc.? Or am I misunderstanding the intent here?</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="3663810875746966994">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3663810875746966994" href="#3663810875746966994">12 October 2017 20:23</a>
              </span>
            </div>
            <div class="comment-content">I would recommend anyone believing in the magic of whatever replacing CLI to read this (in particular #2):<br /><br />http://queue.acm.org/detail.cfm?id=1921361<br /><br />As for portability of shells, sysadmins might be yammering about many things, but the good ones seem to be doing a decent job:<br /><br />http://highscalability.com/blog/2013/11/19/we-finally-cracked-the-10k-problem-this-time-for-managing-se.html<br /><br />Obviously people who meet the requirements of RFC 1925 Rule #4 will tell you CLI is dead. Let&#39;s revisit this in 10 years ;)<br /><br /></div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3826322045766997680">
          <!--
          <div class="avatar-image-container">
            <img src="https://3.bp.blogspot.com/_72yM2Ossrws/SiSMewEN3FI/AAAAAAAAAKo/jKktz6qHCeY/S220-s32/twitter-pict.png">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/07549850819912423153" rel="nofollow">Netfortius</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3826322045766997680" href="#3826322045766997680">12 October 2017 23:10</a>
              </span>
            </div>
            <div class="comment-content">Didn&#39;t mean to deviate from the main topic too much, but when looking at some of the CLIs just front-ending RESTAPIs, I wonder if &quot;survival&quot; of CLI isn&#39;t just in the eyes of the beholder.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1941003067653797818">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/14615081241229714383" rel="nofollow">Antonio Ojea</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1941003067653797818" href="#1941003067653797818">13 October 2017 10:50</a>
              </span>
            </div>
            <div class="comment-content">This link explains the reason why the environment variable doesn&#39;t work in the shebang:<br /><br />https://stackoverflow.com/a/10217307<br /><br />Anyway, you can add that variable permanently to your shell http://www.linuxfromscratch.org/blfs/view/8.0/postlfs/profile.html:<br /><br />export ANSIBLE_STDOUT_CALLBACK=dense <br /><br />or run the script with the env variable in the same line:<br /><br />$ ANSIBLE_STDOUT_CALLBACK=dense ~/bin/get-ssh-keys<br /></div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="7101156362095222836">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7101156362095222836" href="#7101156362095222836">13 October 2017 11:34</a>
              </span>
            </div>
            <div class="comment-content">Thanks a million! Your Google-Fu is stronger than mine ;)</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="904155765689629724">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/14615081241229714383" rel="nofollow">Antonio Ojea</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c904155765689629724" href="#904155765689629724">29 November 2017 11:38</a>
              </span>
            </div>
            <div class="comment-content">:)</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1026">
          <!--
          <div class="avatar-image-container">
            <img src="">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow"> Brian Coca</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1026" href="#1026">17 February 2022 07:39</a>
              </span>
            </div>
            <div class="comment-content"><p><code>#!/usr/bin/env -S ANSIBLE_STDOUT_CALLBACK=dense ansible-playbook</code></p>

<p>&#39;env&#39; is MEANT to execute a command under a specific environment, many of those SO comments are dead wrong. While most people misuse env as they think it does some path magic .. .no, shell does that, env just uses it and we normalized on it since &#39;shebang&#39; requires a full path.</p>

<p>note: i have found systems with <code>env</code> outside /usr/bin/ but they are the exception, 99.99% of the time it is there</p>
</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="1030">
          <!--
          <div class="avatar-image-container">
            <img src="">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1030" href="#1030">17 February 2022 05:14</a>
              </span>
            </div>
            <div class="comment-content"><p>Thanks a million for the pointer. It sent me on a more focused search trip resulting in...</p>

<p>https://en.wikipedia.org/wiki/Shebang_(Unix)#Character_interpretation</p>

<p>... which totally explains the challenge and why -S solves it -- because a string starting with -S is split into argv components. Checked the https://github.com/coreutils/coreutils/blob/master/src/env.c code just to be on the safe side ;)</p>
</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
