<div class="comments post" id="comments">
  <h4>14 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="8009682929799228030">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/00114319744878591828" rel="nofollow">Michal Nehasil</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8009682929799228030" href="#8009682929799228030">11 April 2013 12:51</a>
              </span>
            </div>
            <div class="comment-content">I&#39;m facing similar problem but I&#39;m still not sure if I want to load-balance across the different providers because it will inevitably led to antisymmetric routing. There can be significant differences in latency (I can see up to 100ms difference between continents), jitter,... Anyone has experience what can be impact of this asymmetry to VoIP, Video, SQL, or any other sensitive traffic?</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="3998298787673193306">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/02508480154886953212" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3998298787673193306" href="#3998298787673193306">31 December 2013 11:29</a>
              </span>
            </div>
            <div class="comment-content">Hi Michal - Let me know how you achieved this. I am looking for similar solution. Please share how you are able to achieve the load balancing across the different service provider.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="851557968664991445">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">kamesh</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c851557968664991445" href="#851557968664991445">21 July 2015 18:30</a>
              </span>
            </div>
            <div class="comment-content">Hi Michal and Rajeev,<br /><br />can you please explain how to achieve load sharing. i am using the same kind of network. but we are using both the links as &quot; Primary - secondary&quot; . Please help us to use both the links efficiently to get better throughput<br /></div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1371175631218008977">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ofer</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1371175631218008977" href="#1371175631218008977">11 April 2013 15:30</a>
              </span>
            </div>
            <div class="comment-content">regarding the last bullet, one comment if i may. In order to have a path diversity in the RR in the first place you would usually need something like &quot;best external&quot; on the regional office peering routers </div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="6171457397556996446">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6171457397556996446" href="#6171457397556996446">11 April 2013 17:04</a>
              </span>
            </div>
            <div class="comment-content">&quot;Best external&quot; would speed up the convergence @ RR (because the alternate path would already be available), but even if you configure &quot;additional paths&quot; the RR would not advertise the backup path (advertised by one of the edge routers) to its clients, because the backup path would be significantly different from the best one (or the edge router would not prefer the iBGP path and you wouldn&#39;t need the best external).<br /><br />Hmm ... maybe I should do a short video explaining these concepts ;)</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5948978660105550590">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ofer</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5948978660105550590" href="#5948978660105550590">11 April 2013 20:03</a>
              </span>
            </div>
            <div class="comment-content">Actually, i was referring solely to the AddPath feature and not to this or any particular scenario ;) just meant to note that AddPath and &quot;best external&quot; are usually tightly coupled - and they truly are!<br /><br />sorry if the context of my comment wasn&#39;t clear</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="4907256617005113051">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4907256617005113051" href="#4907256617005113051">12 April 2013 08:52</a>
              </span>
            </div>
            <div class="comment-content">Humm, depend on how you have configured your MPLS cloud. If you use the same RD, you have to tweak the RR to let it advertise more than one path. However, if you are using uniq RD and melting the routes with RT import/export, the RR will advertise all routes and not only the best ones. I that case advertise best-external will work.<br /><br />Moreover, you may achieve load-blancing on the Regional Office providing a back to back link between the CE and using multipath eibgp in a VRF lite context on the VRRP/HSRP master CE.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3391051364437796721">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3391051364437796721" href="#3391051364437796721">12 April 2013 09:23</a>
              </span>
            </div>
            <div class="comment-content">The RD trick works great in MPLS/VPN environments (and yes, best external would definitely be propagated to all PE routers in that scenario), but not in pure IP forwarding or IP-in-global-table ones.<br /><br />Also, for EIBGP multipath you need MPLS forwarding toward IBGP next hop and MPLS label attached to the IBGP route (that&#39;s the only way to prevent forwarding loops), so I don&#39;t think VRF lite context is enough; you&#39;d probably need full-blown MPLS/VPN.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7603080761223256171">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/00644047219121501105" rel="nofollow">Conor F</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7603080761223256171" href="#7603080761223256171">11 April 2013 16:18</a>
              </span>
            </div>
            <div class="comment-content">assuming the requirement to use both paths is to increase the available bandwidth between the ROBO &amp; HQ / DC locations this poses a challenge in the event of the loss of one of the paths as you would immediately loose ~ 50% of your capacity which could adversely impact up on users / applications (though QoS may reduce this for key functions).<br /><br />A potential alternate may be to use Traffic Engineering to move certain traffic patterns to the second provider such as backups, bulk transfers, email, internet access, etc. <br /><br />additionally depending on the mpls carriers service offering the use of scavenger class for this traffic in the event of a link failure as part of a QoS policy may provide a more robust if admittedly more complex solution</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6926178498478774869">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">kwenzel</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6926178498478774869" href="#6926178498478774869">11 April 2013 17:39</a>
              </span>
            </div>
            <div class="comment-content">Another way to solve the AS-path issue: run a dual DMVPN mesh (one over each carrier), run BGP over the tunnels (and if he desires, stop running BGP with the carrier, leaving nothing but the transit links in the carrier&#39;s VPN table).  Then he also really gets to reap the benefits of using two carriers, since he&#39;ll stop relying on the carriers&#39; ability to withdraw prefixes when they should (and he&#39;ll control his own fate wrt choosing which network is blackhole-free at any given time). :)<br /><br />(or if he&#39;s using a platform with multi-hop BFD, use that along with multi-hop BGP from spoke to hub, advertise prefixes to carriers with no-export.  Either way, solve the AS-path problem and actually gain the resilience you thought you were buying with two carriers, in return for some possibly-annoying complexity)</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="4378975515129320285">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4378975515129320285" href="#4378975515129320285">11 April 2013 18:51</a>
              </span>
            </div>
            <div class="comment-content">http://blog.ioshints.info/2010/12/where-would-you-need-gre.html ;)<br /><br />Also read http://www.cs.washington.edu/education/courses/csep521/07wi/prj/matthew.pdf for &quot;more&quot; details.<br /></div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="611873652562062545">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">kwenzel</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c611873652562062545" href="#611873652562062545">11 April 2013 20:21</a>
              </span>
            </div>
            <div class="comment-content">I&#39;ve seen the first link - where do you think I got the idea but from this blog (although we started running things that way at my previous $dayjob circa 2008; I have the feeling it was an earlier post that I intellectually pirated)? :)  Next I&#39;ll start suggesting he run IPSLA/EEM from the spokes over those same tunnels...<br /><br />I&#39;ve not seen the second (although I have seen the first of his referenced papers), but I like very much a default position of assuming all L3VPN products are essentially Byzantine, if you care enough about your packet delivery.<br /></div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5985471461201343319">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/08907668209537904346" rel="nofollow">Mao</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5985471461201343319" href="#5985471461201343319">12 April 2013 00:08</a>
              </span>
            </div>
            <div class="comment-content">Sounds like a job best suited for Performance Routing (aka Optimized Edge Routing).  Can also solve some of Michal&#39;s concerns around jitter and latency by keeping traffic balanced based on destination prefix and by monitoring for deterioration in latency conditions while also aiming to keep utilization roughly equivalent between the two links.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6307352428535806343">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="http://jedelman.com" rel="nofollow">Jason Edelman (@jedelman8)</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6307352428535806343" href="#6307352428535806343">12 April 2013 01:00</a>
              </span>
            </div>
            <div class="comment-content">How about using something like FatPipe?</div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
