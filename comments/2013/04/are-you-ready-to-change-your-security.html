<div class="comments post" id="comments">
  <h4>21 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="4430010103514269864">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/04707560608698340062" rel="nofollow">Andras Dosztal</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4430010103514269864" href="#4430010103514269864">09 April 2013 08:26</a>
              </span>
            </div>
            <div class="comment-content">What about traditional defense at the perimeter to control outside access, and VM FWs to control inter-server traffic? This way you don&#39;t have to apply the same global rules to every VM FW, and you don&#39;t need traditional FWs between server tiers.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="8066373972604312511">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Francesco</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8066373972604312511" href="#8066373972604312511">09 April 2013 11:25</a>
              </span>
            </div>
            <div class="comment-content">This is a &quot;centralization of the de-cetralization&quot;... I don&#39;t like it so much...</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6605294041842319586">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/03213116724562513633" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6605294041842319586" href="#6605294041842319586">09 April 2013 14:17</a>
              </span>
            </div>
            <div class="comment-content">Honestly I don&#39;t see the difference between the VM NIC firewalls and the host based firewalls. The basic premise for both being the protection of individual vm&#39;s or physical servers yet the host based fw is half the cost.</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="3996905077549270279">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/05126109194470665675" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3996905077549270279" href="#3996905077549270279">09 April 2013 15:13</a>
              </span>
            </div>
            <div class="comment-content">I am entirely on board here. I was reading through this and thinking, &quot;why not just use a host based firewall&quot;, how is this any better?</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="8295316503004967703">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="http://twitter.com/routelastresort" rel="nofollow">John Deatherage</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8295316503004967703" href="#8295316503004967703">09 April 2013 15:26</a>
              </span>
            </div>
            <div class="comment-content">Well, also per-port ACLs doing the same thing.  Let the DevOps guys do whatever VM stuff they want, but I wouldn&#39;t rely on this as the sole method of protection, when ACLs are wire-speed.  Perimeter ACLs, port ACLs, host firewalls (of direct iptables, VM, or any sort).  If you keep management traffic on a different network, it&#39;s very easy to tell if a system is compromised, because it&#39;s almost impossible to not trip an anomaly-centric detection strategy.  You only have to worry about protocol tunneling at that point, but that&#39;s something you can look for as well. Well, and MITM attacks, but there are ways to detect someone playing around before they can do damage.<br /><br />1. Someone is going to compromise your system through a web app.  It&#39;s inevitable.<br />2. This is your chance to detect it at the zone where it was compromised , so the real issue here is not where you run your firewalls, but how you detect these attacks.<br /><br />side note - decentralization with centralized management is good for scalability (think 10s or 100s of gigabits), so it&#39;s here to stay...</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2513294432261831446">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2513294432261831446" href="#2513294432261831446">09 April 2013 16:17</a>
              </span>
            </div>
            <div class="comment-content">The viability of host-based firewall depends on whether your security team or your auditor trust the VM administrator to do the proper thing.<br /><br />Also, if someone breaks into the VM, he can disable the host-based firewall (whether you care at that point is a different story).</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1239183521060677438">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="http://packetlife.net/" rel="nofollow">stretch</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1239183521060677438" href="#1239183521060677438">09 April 2013 17:35</a>
              </span>
            </div>
            <div class="comment-content">I can definitely see some advantages of this versus traditional host-based firewalls. First, as Ivan mentioned, an intruder within a VM cannot (practically speaking, at least) disable or modify the policy of the local firewall as it exists outside the VM.<br /><br />Second, and perhaps more importantly, it provides a uniform approach to firewalling individual hosts. Where you might have a mix of Windows, Linux, and even miscellaneous 3rd party-managed servers to protect, a VM-based firewall would be implemented using the exact same configuration across all hosts to achieve far superior scalability. As far as protecting hosts which share a common security zone, this seems like an excellent augmentation of traditional zone-based controls.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="4075118451344890291">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4075118451344890291" href="#4075118451344890291">09 April 2013 14:47</a>
              </span>
            </div>
            <div class="comment-content">This is the future. I have been advocating this architecture for 5 years. I am excited to see it gaining traction.<br /><br />As virtualization empowers mobility and dynamic services, the securing of those services must become more finite and flexible. A policy director will need to be established, but the policy will be applied per VM object, rather than by IP address only. Combined with SDN, we will soon be able to create a VM(s), apply policy, and have the orchestration establish network segments, firewall policy, IDS/IPS integration, and logging/reporting. <br /><br />Another opportunity is that most host based or virtualization based firewalls process up to layer 7. The added visibility can increase filter accuracy and provide greater post intrusion indicators in the logged events.<br /><br />I believe we will most likely retain the border firewall as a loose gatekeeper (or maybe ACLs on routers), but the true guardian will move the individual systems within the datacenter.<br /><br />-Donny </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5592226521777636860">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="http://www.network-janitor.net" rel="nofollow">Kurt Bales (@networkjanitor)</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5592226521777636860" href="#5592226521777636860">09 April 2013 15:10</a>
              </span>
            </div>
            <div class="comment-content">Brian: One of the key differences between Host Based firewalls and vNIC/hypervisor filters is the ability for separation of duties. This is even more important in Multi-tenant environments where the provider wishes to enforce policies that the tenant cannot change.<br /><br />Visibility and integration between the hypervisor, guest VMs and the physical infrastructure as offered by some vendors hypervisor security solution greatly increases the security model while allowing for flexible policy control.</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="6291494580182739008">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/05126109194470665675" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6291494580182739008" href="#6291494580182739008">09 April 2013 15:16</a>
              </span>
            </div>
            <div class="comment-content">ok, that makes some sense. Multi-tenant environments would have a definite use-case for this. A traditional single tenant / corporate DC, I just don&#39;t see it still.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6280698854054939500">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ant</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6280698854054939500" href="#6280698854054939500">09 April 2013 17:23</a>
              </span>
            </div>
            <div class="comment-content">If I&#39;m an intruder that can own a server and have access to the hypervisor, I&#39;m sure a can easily disable a vm nic firewall. Seems to me host to host access rules need to be independent from hypervisor, done in hardware, but that is not very efficient. </div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="6619240151517191665">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/12937427737767187890" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6619240151517191665" href="#6619240151517191665">09 April 2013 23:36</a>
              </span>
            </div>
            <div class="comment-content">1. You can&#39;t get from a VM guest into the hypervisor.  Period.<br />2. Hypervisor access should have much tighter controls than VM guests.  We cannot get to the hypervisor level without using two-factor VPN, even if we&#39;re within the data center.  I wish an attacker good luck at getting to our hypervisors.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6187768984034889616">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Ant</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6187768984034889616" href="#6187768984034889616">10 April 2013 00:13</a>
              </span>
            </div>
            <div class="comment-content">Search escape to hypervisor.. yes it has been mitigated. There is still a risk, virtual host fw are a crutch and not a solution. </div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="4928291957226648062">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/11188436669640308127" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4928291957226648062" href="#4928291957226648062">09 April 2013 20:15</a>
              </span>
            </div>
            <div class="comment-content">I like this a lot and I&#39;m not even slightly interested in security most of the time. I assume this could be as tight (per guest) or loose (per VM host) as you might want. I wonder if you would also want to do this with IDS and WAF functions and implement/enable features based on the make up of the guests on any one VM. Very interesting. I think you&#39;d definitely want to keep the perimeter defenses in place but simplified somewhat, otherwise you might be carrying a fair deal of invalid or attack traffic far into your networks.<br /><br />With some SDN or orchestration &#39;magic&#39; I&#39;d image you could have your distributed firewall/IDS/WAF functions reporting to a central &#39;controller&#39; which implements simple perimeter controls (i.e. if a guest specific WAF logs attack attempts, the perimeter starts to drop traffic from the source for a specified time).<br /><br />Very interesting.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5636742757262356451">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Will</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5636742757262356451" href="#5636742757262356451">09 April 2013 22:19</a>
              </span>
            </div>
            <div class="comment-content">Ivan,<br /><br />I just wanted to say that I&#39;m grateful for your very increased posting this year.  <br /><br />On this topic, I am skeptical it will work in practice.  If you use the argument that there is not enough security in Web, App, DB DMZ structure and so VMs need their own firewalls - then that means you need rules for the VMs to talk to each other.  How many ports are required for app to app, db to db, and web to web communications with large scale apps like EBS, SAP, Exchange, Lync, etc?  There could be up to 100.  How often do they change?  With every patch it seems.  Who can keep up with that?  Who wants to?  Who&#39;s going to force them to do that?  The Dilbert cartoon posted earlier this week becomes no longer a joke.<br /><br />If the security posture of db, web, app DMZ is no good then I advocate DB, Web, App ---- Per system.  SAP gets its own firewalls, EBS gets its own firewalls, Exchange, Lync, Company Home Page, and so on.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6588101612529621467">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">JC</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6588101612529621467" href="#6588101612529621467">09 April 2013 23:47</a>
              </span>
            </div>
            <div class="comment-content">Hypervisor fw (and other virtualized security services) are most definately something we are interrested in. Advantages as I see them are:<br />- not modifyable from within a compromised guest (unlike a host fw)<br />- don&#39;t represent a bottleneck (unlike a hw fw);<br />- can scale linearly with the rest of the servers (vm hosts/guests)  <br />- allow for seperation of duties<br />- can be provisionned dynamically at very little cost<br />- allow for rules based on vm attributes instead (or in addition) of IPs, thus relieving of the burdon of static IPs (careful addressing and constant acl updating), per server group subnetting (subnets,vlans,acls...), switchport (port assignments,acls);  <br />-combined with overlay as vxlan, allows for statefully firewalled server vmotion without having to exend L2 to physical firewall.<br />-oh and did I say scales linearly with the rest of the datacenter?<br /></div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7200233166126035373">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/12937427737767187890" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7200233166126035373" href="#7200233166126035373">10 April 2013 00:07</a>
              </span>
            </div>
            <div class="comment-content">I disagree that a compromised security zone is game over.  Security is built in layers.  Those host in a compromised security zone should be hardened, have complex authentication requirements to get in them, etc.  Just because a compromised host in a security zone can get at additional ports on the other hosts doesn&#39;t mean an attacker will be more successful.  More often than not an attacker only needs to get to that one port that that firewall is already exposing to get the job done. (such as HTTP on port 80 or HTTPS on port 443)<br /><br />Be very careful in thinking that VM NIC firewalls are the same thing as physical firewalls (including firewall contexts).  These things are really just transparent firewalls.  You&#39;re talking apples and oranges where there is likely a lack of feature parity.  Unless something has recently changed, the Cisco and VMware VM NIC firewalls don&#39;t support IPv6.<br /><br />Also be careful with the difference between a VM NIC firewall (fast path, transparent) and a virtual firewall (slow path, routed).</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2116758680701972310">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/16576726865924052243" rel="nofollow">Dmitri Kalintsev</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2116758680701972310" href="#2116758680701972310">10 April 2013 07:24</a>
              </span>
            </div>
            <div class="comment-content">I have not yet seen redundant VNIC-level firewall implementations (admittedly, I didn&#39;t look too hard), which stopped me from using those we have that have that option. For context - we deal with &quot;traditional&quot; production workloads.<br /><br />One could argue that vSwitches are also non-redundant, but a vSwitch usually has to do stuff much less complex than what a firewall would, meaning chances or things going south are lower. <br /><br />And the question of complexity also brings us to the second issue - of scalability: there&#39;s a non-insubstantial risk of firewall module consuming too much of the host resources, and either slowing down network for collocated VMs, or starving them of CPU (or both). I hope I don&#39;t have to explain why would a firewall all of the sudden might need a lot of grunt.<br /><br />Cheers,<br /><br />-- Dmitri</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7886790153141856305">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/10668580828506823160" rel="nofollow">Matthew Stone</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7886790153141856305" href="#7886790153141856305">11 April 2013 05:37</a>
              </span>
            </div>
            <div class="comment-content">I&#39;d like to have my cake and eat it two, please. Create security zones with traditional firewalls, create VM firewalls per VM, and use host based firewalls.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3981300341671502923">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/10939581110701056032" rel="nofollow">James Harr</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3981300341671502923" href="#3981300341671502923">11 April 2013 16:31</a>
              </span>
            </div>
            <div class="comment-content">Assuming there&#39;s a decent centralized console, the management and auditing capabilities would almost be worth it alone.<br /><br />I&#39;d like to imagine a world where you can logically group machines into security zones independent of their IP/subnet. Restructuring zones to adapt to the changing a security/business landscape becomes much easier to implement with fewer resources. It could decouple the IP+security tie just like virtualization decoupled the OS+hardware upgrades &amp; maintenance.<br /><br />That said, I can still see one set of hardware firewalls for drawing a line in the sand to the outside world. Mostly for managing externally visible services and mitigating things that a virtual firewall can&#39;t cope with.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="6590432821725210711">
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6590432821725210711" href="#6590432821725210711">06 May 2013 23:40</a>
              </span>
            </div>
            <div class="comment-content">The idea is appealing, but it is very much centred around VMWare. In real life, all sorts of systems live on the network: Solaris, IBM P7 and even mainframes. This means that this new type of firewall has only a limited value.<br />Even for systems that run on VMware it is not always a good option. Applications span multiple systems and often the communication between the parts of the applications is not well documented.<br />Finally, the management of the rule-sets will be labour intensive. A centralized console would be an absolute minimum requirement, but even then having more than a couple of hundreds of systems would make the management quite challenging. <br /></div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
