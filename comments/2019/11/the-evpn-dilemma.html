<div class="comments post" id="comments">
  <h4>13 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="1273467682766462660">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/15478719711562892717" rel="nofollow">Iben Rodriguez</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1273467682766462660" href="#1273467682766462660">26 November 2019 14:26</a>
              </span>
            </div>
            <div class="comment-content">And of course the issues with MTU mismatch when doing any sort of tunneling. All the VMs will need changes to communicate efficiently.  </div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="8494802754233133659">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8494802754233133659" href="#8494802754233133659">26 November 2019 14:49</a>
              </span>
            </div>
            <div class="comment-content">Nobody sane goes down that rabbit hole. The only realistic option is to increase the underlay (transport) MTU.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3794085103687251230">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/12912702162710760711" rel="nofollow">Bogdan Golab</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3794085103687251230" href="#3794085103687251230">26 November 2019 19:06</a>
              </span>
            </div>
            <div class="comment-content">Not sure if you meant jumbo frames:<br />https://netcraftsmen.com/just-say-no-to-jumbo-frames/</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="4434463992062436843">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4434463992062436843" href="#4434463992062436843">26 November 2019 19:35</a>
              </span>
            </div>
            <div class="comment-content">There are two reasons for jumbo frames:<br /><br />* Because some people believe they increase TCP/IP throughput (usually not true unless you&#39;re dealing with suboptimal TCP stacks)<br />* Because you don&#39;t want to deal with client MTU size in tunneling environments.<br /><br />And yes, I completely agree with everything Peter wrote, but sometimes you have to choose the lesser of two evils.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="4521119680442695623">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/12912702162710760711" rel="nofollow">Bogdan Golab</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4521119680442695623" href="#4521119680442695623">26 November 2019 19:46</a>
              </span>
            </div>
            <div class="comment-content">Yes, sure. It is much better than other tricks like aligning hosts with smaller mtu, pmtud, mss adjustment, and so on. Like every other tool has its good &amp; bad sides.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="8696615977093470572">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/17266719222478374259" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8696615977093470572" href="#8696615977093470572">26 November 2019 16:42</a>
              </span>
            </div>
            <div class="comment-content">Honestly the future looks to be running some IGP on the servers themselves so they can keep their IP and can move anywhere without issue. Of course if your stupid app needs L2 to another host you are always going to be screwed.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5106119441133196189">
          <!--
          <div class="avatar-image-container">
            <img src="https://4.bp.blogspot.com/-Jm8onWGyM0M/WoYk1lJ1zuI/AAAAAAAAAy8/aU73FTiTCFUgsnYdYVJ8cf3PRUZqGlKOACK4BGAYYCw/s32/jeff_tantsura.jpg">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/17193851449183304827" rel="nofollow">Jeff Tantsura</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5106119441133196189" href="#5106119441133196189">27 November 2019 02:50</a>
              </span>
            </div>
            <div class="comment-content">Disagree, you are just changing a default value, and it doesn’t harm toy in any way...if you can’t keep your configs in sync with your intent (larger but consistent MTU on EVERY link) you have got bigger problems... </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="8126335437232032719">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/18036723516613666410" rel="nofollow">Heiden Stevens</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8126335437232032719" href="#8126335437232032719">27 November 2019 17:47</a>
              </span>
            </div>
            <div class="comment-content">This is where routing protocols like IS-IS can shine. Leveraging it for link discovery, link mtu validation, etc... can be advantageous. I like having choices for IGP&#39;s, but if we build solutions that only converge on one routing protocol isn&#39;t that harmful?</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="2869163733740783435">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/08517209064574010376" rel="nofollow">Randall Greer</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2869163733740783435" href="#2869163733740783435">07 December 2019 08:21</a>
              </span>
            </div>
            <div class="comment-content">That&#39;s probably why it was used in Fabricpath, unfortunately the best tech isn&#39;t always the prevailing candidate. </div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="831176054126186737">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/15493370358037866116" rel="nofollow">Aldrin</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c831176054126186737" href="#831176054126186737">01 December 2019 15:52</a>
              </span>
            </div>
            <div class="comment-content">Pretty much all EVPN implementations support multiple routing protocols.  Including IS-IS, OSPF and EBGP as IGP.  There’s a difference between a reference design and feature support.  Also, with all due respect, there are statements here that are hearsay, or at best very old news, and so do unnecessary harm.  This stuff is mostly software and software is not static.</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="1567447238868454492">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1567447238868454492" href="#1567447238868454492">01 December 2019 16:05</a>
              </span>
            </div>
            <div class="comment-content">Hi Aldrin,<br /><br />&quot;Pretty much all EVPN implementations support multiple routing protocols.&quot; &lt;&lt; Correct. That&#39;s not necessarily what the vendor SEs are telling the customers.<br /><br />&quot;There’s a difference between a reference design and feature support.&quot; &lt;&lt; Agree. One of the differences is how many bugs you&#39;ll encounter when using a supported feature that is rarely used.<br /><br />&quot;there are statements here that are hearsay&quot; &lt;&lt; OK, tell me more. Would love to hear what you consider hearsay (is it hearsay if a customer tells me how badly he was burned?) and very old news.<br /><br />I&#39;m guessing you know how to contact me directly if you want to take the discussion offline ;)<br /><br />Kind regards, Ivan</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3854070778949161857">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/15493370358037866116" rel="nofollow">Aldrin</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3854070778949161857" href="#3854070778949161857">09 December 2019 04:14</a>
              </span>
            </div>
            <div class="comment-content">Hi Ivan, <br /><br />Following blogger captures in detail EVPN over EBGP using Junos dating back to 2016.  <br />https://blog.noc.grnet.gr/2016/09/28/lab-on-evpn-vxlan-on-juniper-qfx5100-switches-3/<br />You can see the multi-hop EBGP sessions for EVPN required to set the loopback as the VTEP IP (i.e. BGP protocol next-hop).  <br /><br />If you want to set the BGP protocol next-hop to a physical port address you could share session with underlay EBGP.  However, with IP-based overlays like VXLAN, having more than one uplink IP interface can be a problem for implementing EVPN-native active-active multi-homing which requires the source IP of a VXLAN tunnel from a PE to match the VTEP IP used on its EVPN ES routes to perform split-horizon filtering (as opposed to MLAG with anycast VTEP IP).  Having more than one VTEP IP per PE makes EVPN-native multi-homing more complex to implement and requires more state to do the SH filtering.  <br /><br />Hopefully folks also know that when using EBGP with EVPN, it&#39;s important that intermediate EBGP hops do not rewrite the protocol next-hop set by the egress PE since we need the VXLAN tunnels to be addressed to the correct egress PE and not somewhere short of that.  <br /><br />All considered, IMO it&#39;s more straight-forward to use IBGP with RRs for EVPN, rather than to force-fit EVPN into hop-by-hop EBGP route propagation.  Anyway it has been a long-standing convention to use IBGP for overlays within an instance of a transport domain.  Messing with that means operators have to really understand what they are doing and why, and to me that isn&#39;t worth the fewer lines of configuration.<br /><br />FYI, Junos leans toward being explicit about configuration leaving it to automation to simplify management of network.  We think it is best for operators to know their network.<br /><br />I&#39;m told there was an issue with EVPN using EBGP prior to 14.x, but we&#39;re at 19.x now.  We can take it offline from here if the discussion is not helpful for the community.<br /><br />Hopefully this sets the record straight.<br /><br />Cheers,<br />Aldrin</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="8613292425029230908">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8613292425029230908" href="#8613292425029230908">09 December 2019 17:41</a>
              </span>
            </div>
            <div class="comment-content">Thank you for the extensive reply!<br /><br />While I agree with many of your arguments, I think it doesn&#39;t make sense to use the same default behavior for EVPN address family as we did for IPv4 address family. Even in VPNv4 address family some vendors have an option of specifying the BGP next hop on route origination, having a sane default (loopback VTEP) in VXLAN environment should be a no-brainer.<br /><br />More in a blog post sometime in January 2020 - too many other things to publish before Christmas break.<br /><br />Enjoy the holidays and wish you all the best in 2020!<br />Ivan</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
