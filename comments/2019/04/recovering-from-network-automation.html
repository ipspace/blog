<div class="comments post" id="comments">
  <h4>1 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="6836144456223949371">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/04847257511165693348" rel="nofollow">Albert Siersema</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6836144456223949371" href="#6836144456223949371">10 April 2019 17:02</a>
              </span>
            </div>
            <div class="comment-content">This question pops up at every presentation I&#39;ve given on automation.<br />Unattended automation runs over 100s or more devices tends to scare some people :)<br /><br />Automation runs should be idempotent, aborting on a failure and retrying until the desires state has been reached could be an approach. And if you&#39;re not using an out of band management network for your automation runs, start doing so. Please don&#39;t route your OOB traffic over the production network. At least now you can actually rollback or retry your change, even if you&#39;ve e.g. borked a critical ACL. To some people building a parallel network sounds like a useless investment, until someone brings down the network. But unless you&#39;re really running at scale, you will notice a rack or SER going down for a longer period of time (and 15+ mins is a long time, but not nearly enough for you to fix things.) And regarding &#39;useless investments&#39;: a virtual/physical lab doesn&#39;t hurt reliability either.<br /><br />I would even add a 3rd phase: after executing the change on (one) device, verify the actual running state and possibly bail out if this compliance check fails to avoid a cascading failure (Ansible&#39;s serial:1 / any_errors_fatal:true comes to mind).<br /><br />Try to write your automation scripts for both desired states: &#39;present&#39; and &#39;absent&#39;.<br />(you&#39;ll soon realize that this is not always easy, sometimes the order of steps is important. Some automation tools fare better than others.)<br /><br />Unless you&#39;re storing state it makes sense to be able to reconstruct/calculate related objects/values based on a naming convention. This kinda assumes you&#39;re not intertwining or reusing objects. If you&#39;re not running into performance or scalability issues give it some thought. A machine doesn&#39;t care about &#39;cluttered&#39; lists. It won&#39;t even use a list if it can deduce the object (name). Try to think like a machine :)<br /> <br />Of course, these aren&#39;t golden rules that should be adhered to. But it will help to put your mind in a slightly different gear to tackle issues smarter.</div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
