<div class="comments post" id="comments">
  <h4>26 comments:</h4>
  <div class="comments-content">
    <div class="comment-thread">
        <ol>
      <div>
        <li class="comment" id="8981704119905451460">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="http://www.linkedin.com/in/gigahiertz" rel="nofollow">Guido R. Hiertz</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8981704119905451460" href="#8981704119905451460">28 July 2014 11:29</a>
              </span>
            </div>
            <div class="comment-content">Technology has its legacies. Technology has a history. Technology makes history. It’s important to understand history to understand the kludges, as you call them. It all began with the Yellow cable. The original, coaxial Yellow cable is the first medium for IEEE 802.3, Ethernet. It’s a shared medium. Any station attached to the medium can communicate with each other. With stations directly attached to a single, common medium no extra device, no layer-2 bridge (switch) is needed for communication. Initially it was expected that each LAN segment would have its own router to interconnect to another LAN segment. Radia Perlman worked at DEC, the company that together with Intel and Xerox defined the 10 Mb/s DIX standard. In http://www.networkworld.com/article/2202492/lan-wan/living-legends--radia-perlman--layer-3-wizard.html Radia Perlman explains: “‘Routing between links was Layer 3&#39;s job. When I tried to argue that we may need to forward packets from one Ethernet link to another, the reply was &#39;Our customers would never want to do that&#39;. Their perception was Layer 3 was just unnecessary bytes on the wire.’ But it didn&#39;t take long for that shortsightedness to become obvious. Customers did, after all, want to talk from one Ethernet to another.”<br />So Radia Perlman invented STP constrained by several requirements. For a station it should not matter if it communicates to a station on the same LAN segment or via a bridge to a station on another LAN segment. Since Ethernet has no TTL value, however, frames could loop forever on a ring. Thus, STP needs to maintain the illusion of a single shared medium. This is why STP builds a tree.<br />Later on with the introduction of twisted pairs as the wired medium, Ethernet’s physical bus topology converged to a physical star topology requiring a central hub that would create the illusion of a shared medium. After all a hub forwards any incoming frames to all ports but the port a frame was received from. With the introduction of learning bridges (switches) Ethernet could have transformed into something even more powerful. However, with a huge installed basis compatibility becomes a key issue and revolution turns into evolution.<br />We all know that STP and large L2 domains have their (severe) limitations. However, without understanding the past it’s very easy to complain about how things have developed.<br />One of the disadvantages of STP that you didn’t mention is the waste of capacity. Because of the tree structure redundant paths cannot be used. Thus, frames might travel much farther than the physical topology would require. Shortest Path Bridging (SPB, 802.1aq) solves all of (R/M)STP’s problems boosting Ethernet into another dimension. At its core SPB runs IS-IS – another protocol invented by Radia Perlman …<br /></div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="8163548352876485621">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8163548352876485621" href="#8163548352876485621">28 July 2014 15:57</a>
              </span>
            </div>
            <div class="comment-content">You must be new to my blog ;) Welcome!<br /><br />See also:<br /><br />http://blog.ipspace.net/2010/07/bridges-kludge-that-shouldnt-exist.html<br />http://blog.ipspace.net/2010/07/bridging-and-routing-is-there.html<br />http://blog.ipspace.net/2010/07/bridging-and-routing-part-ii.html<br /><br />... and a few others.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="1235817987490058023">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c1235817987490058023" href="#1235817987490058023">02 March 2016 18:31</a>
              </span>
            </div>
            <div class="comment-content">Ivan, keep up the work. Reading the comments to your posts always makes me happy.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7721711690981806005">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">John Senkiw</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7721711690981806005" href="#7721711690981806005">28 July 2014 11:42</a>
              </span>
            </div>
            <div class="comment-content">Ivan<br /><br />you write, STP’s fundamental problem is that it’s a fail-close, not a fail-open protocol.<br /><br />Should this read, STP’s fundamental problem is that it’s a fail-open, not a fail-close protocol? </div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="6882427803236286852">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c6882427803236286852" href="#6882427803236286852">28 July 2014 15:10</a>
              </span>
            </div>
            <div class="comment-content">Fail-Close like an electrical circuit. A closed circuit means it&#39;s a completed one and electrons pass. An open circuit is incomplete and as such electrons don&#39;t pass. Fail-Open would mean no traffic if forwarded until something closes the circuit.</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5762215085171724129">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">John Senkiw</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5762215085171724129" href="#5762215085171724129">28 July 2014 18:09</a>
              </span>
            </div>
            <div class="comment-content">Thanks, I now get it!</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="3976434053584115863">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Frank</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c3976434053584115863" href="#3976434053584115863">28 July 2014 12:48</a>
              </span>
            </div>
            <div class="comment-content">My impression is that SPB is intended to be a replacement for STP (along with other things as well).  Too bad hardly anyone seems interested in implementing it, or anything else new outside of the data center...</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2771359952933920034">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2771359952933920034" href="#2771359952933920034">28 July 2014 12:50</a>
              </span>
            </div>
            <div class="comment-content">Ivan,<br /><br />&quot;Fail-open nature of STP isn&#39;t its only drawback...&quot; should instead read &quot;Fail-closed nature of STP isn&#39;t its only drawback...&quot;. It leads to confusion.</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="8443486392215095657">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8443486392215095657" href="#8443486392215095657">28 July 2014 15:57</a>
              </span>
            </div>
            <div class="comment-content">Thank you! Fixed.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2896132102812803822">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/07345674420526592526" rel="nofollow">vPackets</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2896132102812803822" href="#2896132102812803822">28 July 2014 15:35</a>
              </span>
            </div>
            <div class="comment-content">Let&#39;s imagine for a second that we create a networking containing Cisco devices only.<br /><br />Bridge Assurance works nice in a pure STP topology (802.1w and 802.1s only, 802.1d does not support BA) since it has blocked ports by definitions and these ports prohibit L2 loop creation. That&#39;s fine for a campus environment (if your hardware/software supports it as well :) )<br /><br />But in a pure DC environment where you deployed Nexus 5k/2k with the vPC feature, Cisco definitely does not recommend to enable Bridge Assurance other than on the vPC peer link. <br /><br />:)<br /><br />Nicolas<br /></div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5532051174772147063">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/06646973209424821070" rel="nofollow">chris marget</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5532051174772147063" href="#5532051174772147063">28 July 2014 16:03</a>
              </span>
            </div>
            <div class="comment-content">Bridging with STP sure beats bridging *without* STP! :)<br /><br />The biggest problem with STP in my opinion is that it&#39;s a dangerous combination of &quot;just works&quot;, &quot;difficult to diagnose&quot; and &quot;somewhat fragile&quot;, making it easy to screw up in ways that are hard to understand while it&#39;s broken.<br /><br />There have been some wonderfully documented cases of folks who should know better pushing STP beyond its breaking point. The STP process didn&#39;t stop responding, but it couldn&#39;t do its job anymore.<br /><br />No mention of loopguard? It&#39;s a bit like bridge assurance (in one direction, anyway), and quite a bit more commonly available.<br /><br />Fail open/closed is clunky language that begets confusion. It&#39;s worse in the case of bump-in-the-wire devices with bypass relays, but the confusion has already appeared here in the comments.<br /><br />I tend to view the close/open question from the electrical (switch) perspective, but a quick google of &quot;ethernet tap fail open&quot; demonstrates that folks marketing and using network devices sometimes mean exactly the opposite.</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="738516554290490895">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c738516554290490895" href="#738516554290490895">28 July 2014 16:06</a>
              </span>
            </div>
            <div class="comment-content">&quot;Fail open/closed is clunky language that begets confusion&quot; - OK, got the point (= marketing destroyed another perfectly good term ;). What would you call STP then? Forwarding-when-confused? ;))</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2177220663144131540">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/06561337352111323073" rel="nofollow">jerry.bonner</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2177220663144131540" href="#2177220663144131540">30 July 2014 18:23</a>
              </span>
            </div>
            <div class="comment-content">I&#39;ve always thought of STP as controlling a flood (broadcast), and a &quot;flood gate&quot; controls that. So a fail-open means the gate is open, allowing floods....</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="7815895876013335840">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/03395587678662145289" rel="nofollow">Mauricio Andres Bustamante Viveros</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7815895876013335840" href="#7815895876013335840">20 July 2017 17:08</a>
              </span>
            </div>
            <div class="comment-content">Ivan wrote: &quot;In the context of this blog post &quot;fail close&quot; means &quot;a failed/confused bridge continues to forward the traffic, and the bridged network will send the traffic across such bridge.&quot; You might have a different opinion on what &quot;open&quot; or &quot;close&quot; means, and it’s as valid as any… but quoting Cisco’s documentation won’t make your point any more valid (it just proves that the writer of that document agrees with your view of what opens or closes on failure). I would however appreciate a pointer to a more authoritative source (although I doubt it exists).&quot;<br /><br />If we are networking engineers or trainee in networking, must remember that the main activity in a digital device is 0 and 5 volts, and because that, the Ivan&#39;s point of open and close is correct, like a elemental electronic circuit.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="2190766158639000100">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2190766158639000100" href="#2190766158639000100">29 July 2014 22:41</a>
              </span>
            </div>
            <div class="comment-content">&quot;STP’s fundamental problem is that it’s a fail-close, not a fail-open protocol&quot;<br /><br />I think you mean:<br /><br />STP’s fundamental problem is that it’s a fail-open, not a fail-closed protocol.</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="9166384192679145067">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c9166384192679145067" href="#9166384192679145067">30 July 2014 09:28</a>
              </span>
            </div>
            <div class="comment-content">Did you read the other comments?</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="8487907536331167795">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c8487907536331167795" href="#8487907536331167795">02 March 2016 18:27</a>
              </span>
            </div>
            <div class="comment-content">The comments section of your posts are the best place to get free smiles in the morning.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="4160135589192960214">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/05906562921468993164" rel="nofollow">ces</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c4160135589192960214" href="#4160135589192960214">30 July 2014 16:55</a>
              </span>
            </div>
            <div class="comment-content">I have used this quote from a Cisco doc in my attempts to get people to understand this concept. From a “Cisco Validated Design” document entitled “Data Center Design – IP Network Infrastructure” (pps 35-36, October 8, 2009):<br /><br />“Transparent bridging is the result of a long technological evolution that was guided by the desire to keep the property of the thick coaxial cable that was the base for the original Ethernet networks. Transparent means that the stations using the service are not aware that the traffic they are sending is bridged; they are not participating in the bridging effort. The technology is similarly transparent to the user, and a high end Ethernet switch running STP is still supposed to be plug-and-play, just like a coaxial cable or a repeater were. As a result, unlike routers, bridges have to discover whether their ports are connected to peer bridges or plain hosts. In particular, in the absence of control message reception on a port, a bridge will assume that it is connected to a host and will provide connectivity. Therefore, the most significant differences between routing and bridging with STP (spanning tree protocol) are as follows:<br />• A routing protocol identifies where to send packets.<br />• STP identifies where not to send frames.<br />The obvious consequence is that if a router fails to receive the appropriate updates, the parts of the network that were relying on this router for communication will not be able to reach each other. This failure tends to be local, as the communication within those distant network parts is not affected. If a bridge misses control information, it will instead open a loop. As it has been observed, this will most likely impact the whole bridging domain.”<br /><br />I summarize this using language that aligns with network security discussions, in which &quot;fail closed&quot; is a safe failure condition vs &quot;fail open&quot;:<br /><br />&quot;To summarize the two major points being made in the quote from Cisco:<br />1. a routed interface will “fail closed” with no impact on any other routed interfaces, while a set of transparently bridged ports defined as a single virtual LAN will “fail open” with an impact on all network components of the VLAN<br />2. the scope of a routed network failure is limited to the ports connected to the routed interface, while the scope of a bridged VLAN failure can impact all networking equipment in the entire bridging domain (entire data center, or multiple data centers in the case of stretched VLANs)<br /></div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="9003109244992985806">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c9003109244992985806" href="#9003109244992985806">30 July 2014 22:02</a>
              </span>
            </div>
            <div class="comment-content">The CVD is right on the money. Routing = fail closed. STP = fail open.<br /><br />If you want STP to fail close you need bridge assurance.<br /><br />It&#39;s a share Ivan&#39;s posts gets mixed up.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5972310975881909198">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="http://www.networkcomputing.com" rel="nofollow">Orhan Ergun</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5972310975881909198" href="#5972310975881909198">03 August 2014 07:38</a>
              </span>
            </div>
            <div class="comment-content">I agree with Ivan almost everything in this post except how I see fail-open/close part but it is okay.<br />For the implicit enablement of bpdu-guard or BA , since they are opposite things, when bpdu-guard says if I see bpdu from here , I will not allowed and take an action , while BA expects bidirectional hello messages , for the switches where the uplink logic applies it might be enabled IMO. But in the data center it may not be an easy since server and switch places may change and when you enable bpdu-guard for the server implicitly, if same port would be changed with switch, port Stp expectation automatically should change as BA. Is this possible, maybe yes. Once switch port see the Ethernet source mac address , from the vendor assigned part of MAC address , switch could act based on it. You might say connected device might be belong to Cisco switch and server since many vendor has switches, servers, firewalls so on in the data center , then for the different product type vendor could assigned MAC addresses hierarchically such as 00-00-01 is our switches , 00-00-02 is servers so on.</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="2334224646772381741">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2334224646772381741" href="#2334224646772381741">04 August 2014 21:48</a>
              </span>
            </div>
            <div class="comment-content">You might have to configure a switch port to be an edge or a fabric port - too much plug-and-pray is never a good thing (although you could use LLDP to figure out which ports are fabric ports).<br /><br />OTOH, if you don&#39;t know whether another switch or a server is connected to a port of a DC switch, you might have bigger problems than STP on your hands ;)</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="544345656587797064">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c544345656587797064" href="#544345656587797064">14 August 2014 17:30</a>
              </span>
            </div>
            <div class="comment-content">&quot;That’s all nice and dandy until a bridge loses its mind, and stops sending BPDUs (control plane activity) while still forwarding traffic (data plane activity). Adjacent bridges think they have hosts plugged into the affected ports (this is the fail close part), and start forwarding traffic through those ports, resulting in a nice forwarding loop (been there, seen that).&quot;<br /><br />If a bridge loses its mind??<br /><br />You are in essence saying you need a configuration variable (such as &quot;bridge assurance&quot;) to make a switch stop forwarding traffic in case it, or an adjacent switch, has a buggy control plane implementation!<br /><br />A better rule might be, just buy well-tested switches.<br /><br />A correctly implemented bridge/switch must guarantee that it processes spanning tree with the highest level of priority, and treats send/receive BPDUs on the network with the highest level of priority.<br /><br />Sorry, but once you implement a control plane protocol in a buggy manner, all bets are off. It&#39;s your fault for buying a switch which does not function as specified.</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="7711035687137260019">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c7711035687137260019" href="#7711035687137260019">14 August 2014 17:39</a>
              </span>
            </div>
            <div class="comment-content">So you believe someone solved the halting problem and buy only switches that have proven bug-free code? Come on...<br /><br />The switch that lost its mind (in my case) came from one of the large vendors, and the loss of control plane was caused by a slow memory leak.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="988562290069247883">
          <!--
          <div class="avatar-image-container">
            <img src="https://resources.blogblog.com/img/blank.gif">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="None" rel="nofollow">Anonymous</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c988562290069247883" href="#988562290069247883">13 April 2015 09:41</a>
              </span>
            </div>
            <div class="comment-content">Thanks GOD Cisco came with fabric path :)</div>
          </div>
        </li>
      </div>
      <div>
        <li class="comment" id="5920126020089091999">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/00133800486985254508" rel="nofollow">Unknown</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c5920126020089091999" href="#5920126020089091999">11 May 2016 17:31</a>
              </span>
            </div>
            <div class="comment-content">Hello Ivan,<br /><br />You have mentioned the comment &quot;because the forwarding entry for the STP multicast address still punts packets to the CPU&quot;.<br /><br />Can you elucidate a bit please?<br />If I am mistaken not a BPDU being punted to CPU is still processed (though any PDU will be punted to CPU irrespective the platform).<br /><br />What&#39;s the correlation you are tying to make here?<br /><br />By the way, your blog is like a new Network Engineer born out of silos.<br /><br />Sincerely,<br />Saeed Ansari</div>
              <div class="comment-replies">
                <div class="comment-thread inline-thread">
                  <span class="thread-count"><a>Replies</a></span>
                    <ol>
      <div>
        <li class="comment" id="2941527093611577498">
          <!--
          <div class="avatar-image-container">
            <img src="https://lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
          </div>
          -->
          <div class="comment-block">
            <div class="comment-header">
              <cite class="user"><a href="https://www.blogger.com/profile/13457151406311272386" rel="nofollow">Ivan Pepelnjak</a></cite>
              <span class="datetime secondary-text">
                <a rel="nofollow" id="c2941527093611577498" href="#2941527093611577498">11 May 2016 17:58</a>
              </span>
            </div>
            <div class="comment-content">The point is that you cannot expect the BPDUs to be flooded across a hung bridge because the HW punts them to the hung CPU, so adjacent bridges cannot discover the loop.</div>
          </div>
        </li>
      </div>
  </ol>

                </div>
              </div>
          </div>
        </li>
      </div>
  </ol>

    </div>
  </div>
</div>
