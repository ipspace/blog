---
url: /2018/02/anti-automation-from-antimatter-universe.html
title: "Anti-Automation from the Antimatter Universe"
date: "2018-02-26T09:08:00.000+01:00"
tags: [ Automation,firewalls ]
---

<p>One of my readers sent me a vivid description of his interactions with one of the so-called next-generation firewall vendors. Enjoy!</p>
<hr/><p>We’re using their highly promoted Next Generation Firewall (NGFW) management solution. New cutting edge software, centralized manager… but no CLI for configuration (besides some initial bootstrap commands). "<em>You don't need that because everything is managed from our centralized manager GUI</em>", says $vendor sales managers.<!--more--></p>
<p>After clicking dozens of settings via manager GUI, reference setup is prepared for NGFW appliance.</p>
<p>Having multiples sites with similar architecture, we would like to replicate setup for another NGFW appliances. A perfect automation case: change a few input parameters, produce rest of the typical configuration.</p>
<p>Ouch. CLI is not supported. Forget Python or Ansible.</p>
<p>Even worse: configuration templates or configuration cloning is not supported in centralized manager GUI. "<em>Good idea, please create enhancements request</em>", says $vendor sales managers. "<em>And by the way we have REST API support in our centralized manager</em>"</p>
<p>OK, sounds acceptable. After wasting hours and opening numerous TAC cases, it appears that:</p>
<ul class="ListParagraph"><li>There’s ~30% feature parity between REST API and GUI configuration options. You still need to tweak majority of the configuration manually in manager GUI.</li>
<li>Even for configurable parameters not all REST API methods are supported. For example, to update an Object List to add a new host, you need to download the whole Object List, parse and modify its JSON structure, and upload the whole list with another REST API call. A single mistake and your list is gone.</li>
</ul>
<p>Here’s the result of a long discussion with $vendor engineers:</p>
<blockquote class="cite">Currently our REST API implementations is very raw. We don't recommend to use it in production. We’re accepting all your observations and will work toward improving the API. Stay tuned and check the next SW releases</blockquote>
<p>Let’s not comment how our team is feeling at this moment…</p>
<h4>Going further</h4><p>So we manually (clicking madness) replicated configuration to other appliances. We’re making progress, everything is fine… until you have your first NGFW appliance hardware failure. </p>
<p>According to the RMA procedure, a new appliance is shipped and replaces the failed one. You set some initial settings to pair it with the centralized manager.</p>
<p>Configuration from the failed appliance is already in the centralized manager. You just need to sync/deploy it… but nothing happens. You get multiple error messages. Documentation is silent.</p>
<p>Then you get this explanation after lengthy investigation by $vendor TAC:</p>
<blockquote class="cite">Currently it is not possible to Sync/Deploy config from centralized manager to replaced appliances due to some internal reasons, which we cannot disclose. As workaround please delete all configuration from manager and implement all from the scratch, as during new implementation. Please don't forget to make dozens of screen shots with existing configuration options</blockquote>
<p>You could guess how our team is feeling after this revelation.</p>
<p>After long discussions with $vendor sales engineers they tell us: "<em>We understand your frustration, we indeed registered some enhancements request. Based on priorities, they will be implemented</em>"</p>
<h4>I couldn’t resist adding…</h4><p>And this is what happens when you buy things based on glitzy PowerPoint without <a href="http://blog.ipspace.net/2016/10/network-automation-rfp-requirements.html">ever considering what you should ask for to make your operations easier</a>.</p>
<p>Next step: CxO (who made the purchasing decision in the first place) will complain how expensive his internal security and networking teams are.</p>
<p>I also sent a draft of this blog post to my friends working in the security industry and one of them replied:</p>
<blockquote class="cite">I don’t understand why some vendors actually believe that CLI’s will die. I think their vision of automation is a monkey trained to click certain sequences of GUI buttons to get to a banana…</blockquote>
<p>As we all know it’s not just the vendors. So-called thought leaders with zero operational experience are no better.</p>
<h4>But wait, that’s not all</h4><p>Finally, the icing on the cake. The same reader sent me this gem a few days after the original email:</p>
<blockquote class="cite"><p>We asked the vendor: “Could you please officially share other customers’ experience with us?”</p>
<p>Their answer: “No, because that would affect our business”</p>
</blockquote>
<p>Now you know how some players in this industry work.</p>
<hr/><p class="update">Got more feedback from another unhappy customer (probably using the same gear). Here it is:</p>
<p><a name="_GoBack"></a>Allow me to add my experiences with $vendor and his $product (I had a look at all releases starting from 6.0 to the first 6.2 releases in the course of about 2015-2017):</p>
<ul class="ListParagraph"><li>Management access is utterly slow, needs an awful lot of resources to run just below an acceptable speed baseline,</li>
<li>The whole thing is a huge pile of bugs in runtime as well as management code,</li>
<li>Numerous TACs, often taking weeks to resolve one issue,</li>
<li>Essentially no help in $vendor forums (often discussions cease with “open a TAC”).</li>
</ul>
<p>$vendor bought $product with the acquisition of $company some years ago and struggles since then to get the whole pile transformed to something I could recommend to customers with good faith.</p>
<p>On the other hand, I had contact with some techs at $vendor and they are competent and know how to diagnose problems.</p>
<p>The best part (for $vendor) is that $vendor charges customers money (via a so called "support contract") for allowing customers to help finding and (hopefully) fixing bugs the software shouldn't have in the first place. At least not in the given amount.</p>
<p>Looking at the base FW (without the shiny NG): it’s mature, has a lot less of features in comparison but is reasonably stable.</p>
<p>Seems to be a good lesson in how to upset customers.</p>

