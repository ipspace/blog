---
title: "What’s the Big Deal with Validation?"
date: "2018-10-25T07:51:00.000+02:00"
tags: [ Automation ]
---

<p><em>This blog post was initially sent to subscribers of my mailing list.&nbsp;</em><a href="http://www.ipspace.net/Subscribe/Five_SDN_Tips"><em>Subscribe here</em></a><em>.</em></p>
<p>In his <a href="https://blog.apstra.com/intent-based-networking-taxonomy">Intent-Based Networking Taxonomy</a> blog post Sa&#x161;a Ratković mentioned <em>real-time change validation</em> as one of the requirements for a true intent-based networking product.</p>
<p>Old-time networkers would instinctively say &ldquo;sure, we need that&rdquo; while most everyone else might be totally flabbergasted. After all, when you create a VM, the VM is there (or you&rsquo;d get an error message), and when you write to a file and sync the file system the data is stored, right?</p>
<p>As is often the case, networking is different.<!--more--></p>
<p>Let&rsquo;s start with the real challenges. A network is a <a href="https://blog.ipspace.net/2013/09/openflow-fabric-controllers-are-light.html">tightly coupled distributed system</a> built from unreliable components (I&rsquo;m talking about links, not software we have to deal with &ndash; that&rsquo;s topic for another time). Validating that all components are still operating as expected makes perfect sense. </p>
<p>At this point it&rsquo;s worth mentioning that most other IT systems ignore the reality of unreliable components (see also: <a href="https://en.wikipedia.org/wiki/Fallacies_of_distributed_computing">fallacies of distributed computing</a>) or at least don&rsquo;t do that well. Servers crash when they lose connectivity to storage or encounter parity error, software crashes when it encounters an exception that might be <a href="https://en.wikipedia.org/wiki/Soft_error">triggered by cosmic rays</a>&hellip;</p>
<p>Then there&rsquo;s the other kind of validation &ndash; the WTF one. In January 2018 I was sitting in a presentation where a major networking vendor explained how their network assurance engine validates that the configuration requests made through their SDN controller are properly implemented on their proprietary closed hardware fabric. The whole thing became so ridiculous that we had to ask the obvious question &ldquo;<em>Are you telling us we</em><em> should buy additional software to check whether your software is bug-free?</em>&rdquo;</p>
<p>Why would we ever have to do something as crazy as that? Ignoring the subpar software quality for the moment the root cause is often the unreliable mechanism we have to use to configure network devices &ndash; from CLI that was designed for hands and eyes of an operator not automation scripts, to NETCONF implementations that don&rsquo;t support candidate configurations or can&rsquo;t even rollback on error. Finally, there are always edge cases where the device software tries to squeeze too much into device hardware and fails without reporting the failure.</p>
<p>As long as customers are not willing to vote with their wallets and buy gear that <a href="https://blog.ipspace.net/2016/10/network-automation-rfp-requirements.html">properly implements mechanisms needed for somewhat-reliable network automation</a> there&rsquo;s little we can do apart from:</p>
<ul class="ListParagraph"><li><strong>Use </strong><strong><em>Trust but Verify</em></strong><strong> approach</strong> &ndash; every time you make a change to a networking device, use <strong>show </strong>commands (not device configuration) to validate that the changes were implemented. Bonus points for using real traffic instead of <strong>show </strong>commands.</li>
<li><strong>Minimize the changes made to networking devices</strong> &ndash; <a href="https://blog.ipspace.net/2013/08/temper-your-macgyver-streak.html">configuring a gazillion features on network edge</a> to solve <a href="https://blog.ipspace.net/2013/04/this-is-what-makes-networking-so-complex.html">higher-level incompetence</a> is a sure recipe for a disaster;</li>
<li><strong>Minimize the blast radius</strong> &ndash; old-time service providers built separate <em>transport </em>and <em>services </em>infrastructure for a good reason. That lesson somehow got lost in various converged crazes. Hardware networking vendors <a href="https://blog.ipspace.net/2013/06/network-virtualization-and-spaghetti.html">fighting nail and tooth to avoid irrelevance</a> don&rsquo;t help either.</li>
</ul>
<p>We covered the first topic in some details in <a href="https://www.ipspace.net/Building_Network_Automation_Solutions">Building Network Automation Solutions</a> online course, and discussed various aspects of the third one in virtualization webinars (all of them available with <a href="https://www.ipspace.net/Subscription">ipSpace.net subscription</a>) and <a href="https://www.ipspace.net/Building_Next-Generation_Data_Center">Building Next-Generation Data Center</a> online course.</p>

