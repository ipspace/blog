---
url: /2010/06/manipulating-eigrp-metrics.html
title: "Manipulating EIGRP metrics"
date: "2010-06-22T06:55:00.005+02:00"
tags: [ EIGRP ]
---

<p>If you want to influence traffic flow in a network, you might want to tweak routing protocol metrics to shift the traffic between paths of almost-equal cost (I would always prefer MPLS Traffic Engineering as it’s so much better, but sometimes changing a metric is faster than rebuilding your network). OSPF and IS-IS are easy: change the interface metric or interface bandwidth. EIGRP and its composite metric are trickier.</p>
<p>As you know, EIGRP vector metric has five components; <a href="https://blog.ipspace.net/2009/06/eigrp-load-and-reliability-metrics.html">two of which are usually ignored</a>  and <a href="https://blog.ipspace.net/2010/06/eigrp-mtu-metric.html">MTU serves only as tie breaker</a>. This leaves us with bandwidth and delay. Every EIGRP reference tells you to adjust interface delay, not bandwidth, and the simplistic explanation is that “bandwidth is used for QoS features, so it’s better left unchanged”. While that’s true, there are other more important reasons to focus on delay:</p>
<!--more--><ul class="ListParagraph"><li>EIGRP vector metric (which is the only information exchanged between the routers) carries <em>minimum </em>of bandwidth and <em>sum </em>of delays between the originating router and the current router. Changing delay will (usually) directly influence RD/FD and thus route selection, while changing bandwidth might not.</li>
<li>EIGRP composite metric (RD/FD) is <em>proportional</em> to delay and <em>inversely proportional</em> to bandwidth (see this <a href="http://www.lastkrell.com/2006/09/13/cisco%E2%80%99s-eigrp-metric-calculations/">pretty precise EIGRP composite metric formula</a>). Even if you manage to change the bandwidth in the composite metric (which assumes that there is now lower bandwidth link on the whole path to the originating router), its influence on RD/FD is slightly harder to grasp.</li>
<li>EIGRP <strong>offset-list</strong> changes delay (admittedly primarily due to our first reason).</li>
</ul>

