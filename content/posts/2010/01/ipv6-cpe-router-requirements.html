---
url: /2010/01/ipv6-cpe-router-requirements.html
title: "IPv6 CPE router requirements"
date: "2010-01-25T06:50:00.004+01:00"
tags: [ IPv6,Workshop,Service Providers ]
---

<p>It’s almost unbelievable: more than 10 years after the IPv6 specs have been completed, someone finally realized it would be a good idea to <a href="http://tools.ietf.org/html/draft-ietf-v6ops-ipv6-cpe-router">specify the minimum requirements for a decent IPv6 CPE router</a>. While this document will not solve the <a href="https://blog.ipspace.net/2009/12/ipv6-is-not-ready-for-residential.html">lack</a> of low-cost <a href="http://www.ipv6ready.org/">IPv6-ready</a> CPE devices, it’s definitely a step in the right direction, more so as it clearly acknowledges the need for DHCPv6 (some people still believe SLAAC is the solution to every problem ever invented).</p>
<p class="more">You will find an overview of the Service Provider-related IPv6 challenges in my <a href="http://www.ioshints.info/Market_trends_in_Service_Provider_networks"><em>Market trends in Service Provider networks</em></a> workshop (<a href="http://spmarkettrends.eventbrite.com/">register for the online webinar</a>). Advanced backbone designs and configurations are explained in the <a href="http://www.ioshints.info/Building_IPv6_Service_Provider_Core"><em>Building IPv6 Service Provider core</em></a> workshop (<a href="http://spipv6.eventbrite.com/">register for the online webinar</a>).</p>
<p>Here are a few highlights from the document:</p>
<!--more--><ul><li>The same mechanisms are used on the WAN side regardless of the physical media. With <a href="http://tools.ietf.org/html/rfc4861">ND</a>, <a href="http://tools.ietf.org/html/rfc4862">SLAAC</a> and <a href="http://tools.ietf.org/html/rfc3315">DHCPv6</a> running on top of IPv6, there’s no need for link-layer-specific procedures (like the IPCP negotiations in IPv4).</li>
<li>The <ins class="corr">IA_PD option of</ins> DHCPv6 must be used to get the IPv6 prefix from the Service Provider.</li>
<li>When no other routing protocols are configured, Router Discovery must be used to find upstream routers and install static default routes.</li>
<li>DHCPv6 server must be supported on LAN interfaces (this is how you propagate DNS information to the end hosts).</li>
<li>The CPE router should support stateless filters (= access lists) and <a href="http://tools.ietf.org/html/bcp38">must filter obviously spoofed source IP addresses</a>.</li>
</ul>
<p>Now that the minimum requirements have been written, all we have to do is to wait for the vendors to implement them. Want to take a guess at when Linksys will support them?</p>

