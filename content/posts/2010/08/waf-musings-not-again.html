---
date: 2010-08-16T06:50:00.000+02:00
tags:
- firewall
- web
title: WAF musings ... not again?
url: /2010/08/waf-musings-not-again.html
---

<p>Following my <a href="/2010/08/rest-in-peace-my-waf-friend.html">obituary for Cisco’s WAF</a>, Packet Pushers did a really great WAF-focused podcast with Raven Alder, appropriately named <a href="http://packetpushers.net/show-15-saving-the-web-with-dinky-putt-putt-firewalls/"><em>Saving the Web with Dinky Putt Putt Firewalls</em></a><em>. </em>If you have more than a fleeting interest in protecting business web applications, you should definitely listen to it. Just as an aside: when they were recording the podcast, I was writing my <a href="/2010/08/to-waf-or-not-to-waf.html">To WAF or not to WAF post</a> ... and it’s nice to see we’re closely aligned on most points.</p>
<p>There’s just a bit I’d like to add to their ponderings. What Raven describes is the “proper” (arduous, time-consuming and labor-intensive) use of WAF that we’re used to from the layer-3/4 firewalls: learning what your web application does (<em>learning </em>because the design specs were never updated to reflect reality) and then applying the knowledge to filter everything else (what I sometimes call <em>the fascist mode </em>– whatever is not explicitly permitted is dropped).</p>
<!--more--><p>You could also use a WAF in a “catch the known exploits” mode, similar to what we do with IDS and virus scanners: most WAF products come preloaded with patterns matching well-known exploits (like SQL injections or XSS attacks). These patterns will stop most of the attacks that use “common knowledge” exploits; they will be (obviously) unable to stop those attacks that are crafted with the knowledge of the business logic of your web application. </p>
<p>Did I just embrace the “quick-and-dirty just good enough” mentality? I must be going nuts.</p>
<p>Last but not least, now that I’ve mentioned IDS: some people think that you can program your IDS to provide functionality similar to WAF. Forget it; as I’ve explained more than a year ago, <a href="/2008/12/why-would-i-need-web-application.html">HTTP+HTML provide too many ways of obfuscating the content you want to sneak past the IDS</a>, or as Raven put it (approximately): “the moment you start writing IDS rules that emulate WAF, you’ve started developing a completely new product”.</p>

