---
url: /2009/10/report-interface-loss-based-on-ospf.html
title: "Report interface loss based on OSPF neighbor loss"
date: "2009-10-21T06:00:00.004+02:00"
tags: [ OSPF,You've asked for it,EEM ]
---

<p><a href="http://wiki.nil.com/"><img class="ImgFLTright" src="http://www.ioshints.info/images/Wiki.png"/></a>Nicolas sent me an interesting problem: he has numerous point-to-point GRE-over-IPSec tunnels on his core router and detects remote site failure with OSPF neighbor loss events. He would like to receive an e-mail when an OSPF neighbor goes down (<a href="http://wiki.nil.com/Send_email_from_EEM_applet">quite easy to do with EEM</a>), but would also like to receive interface description in the e-mail subject to simplify his troubleshooting.</p>
<p>With the <a href="http://wiki.nil.com/Regular_expressions_in_Embedded_Event_Manager_applets">regular expressions available in EEM 3.0</a> you can <a href="http://wiki.nil.com/Report_interface_loss_based_on_OSPF_neighbor_loss">extract interface name from <em>syslog </em>message, execute <strong>show interface </strong>command and extract the interface description from it</a>.</p>
<p style="text-align: right;">The <a href="http://wiki.nil.com/Report_interface_loss_based_on_OSPF_neighbor_loss">EEM applet source code</a> is available in the <a href="http://wiki.nil.com/">CT3 wiki</a></p>
<p class="more">This article is part of <a href="https://blog.ipspace.net/2007/01/youve-asked-for-it-series.html">You've asked for it</a> <a href="https://blog.ipspace.net/tag/youve-asked-for-it.html">series</a>.</p>

