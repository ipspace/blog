---
url: /2017/12/bgp-tragedy-of-commons.html
title: "BGP: the Tragedy of the Commons"
date: "2017-12-18T09:33:00.000+01:00"
tags: [ Internet,BGP ]
series: RPKI
---

<p>Every now and then someone looks at a few recent BGP incidents (from fat fingers to more dubious ones) and says “<a href="https://networkingnerd.net/2017/12/15/should-we-build-a-better-bgp/">we need a better BGP</a>”.</p>
<p>It’s like being unable to cope with your kids or your team members because you don’t have the guts to tell them NO and trying to solve the problem by implementing new procedures and rules.</p>
<p>Like anything designed on a few napkins BGP has its limit. They’re well known, and most of them have to do with trusting your neighbors instead of checking what they tell you.<!--more--></p>
<p>The solutions to the problem are <a href="https://www.manrs.org/manrs/">pretty simple</a> and have been known for decades (<a href="https://tools.ietf.org/html/bcp38">BCP38</a> was published in May 2000). In a nutshell you have to:</p>
<ul class="ListParagraph"><li>Build a global repository of who owns what address space;</li>
<li>Document who connects to whom and what their peering policies are;</li>
<li>Filter the updates received from your customers and peers based on the information from those repositories;</li>
<li>Filter the traffic from addresses that are obviously spoofed.</li>
</ul>
<p>We have most of the tools we need to get the job done; you’ll find them described in <a href="https://tools.ietf.org/html/rfc7454">Best Current Practice (BCP) 194</a>. It’s also not impossible to get the job done from the operational perspective. NTT has been doing it for quite a while; <a href="https://twitter.com/JobSnijders">Job Snijders</a> described their approach to <a href="https://www.youtube.com/watch?v=CSLpWBrHy10&amp;feature=youtu.be">practical BGP filtering</a> in a NANOG67 presentation.</p>
<p>Unfortunately you’ll always find ISPs (including some so-called Tier-1 providers) who couldn’t care less about fixing things and making global Internet a better place, because implementing those rules might impact their sloppy customers, and it’s always easier to give in to your customer’s (or your kid’s) screaming instead of telling them “you can’t have the candy because you haven’t followed the rules”</p>
<p>The “only” problem of getting things done is that like in any dysfunctional family the kids (= customers) could go shopping around for someone more permissive, and they’ll always find another ISP with lower prices, more relaxed rules, and connectivity to a dysfunctional transit provider.</p>
<p>Even worse than individual sloppy ISPs – there are Internet Exchange Points running route servers with no filters. Job Snijders got so sick-and-tired of them that he added a public column-of-shame to his <a href="http://peering.exposed/">IXP overview spreadsheet</a>. Not that it would help much; Geoff Huston has been producing <a href="https://www.cidr-report.org/as2.0/">deaggregation</a> and <a href="http://bgpupdates.potaroo.net/instability/bgpupd.html">excessive BGP updates</a> reports for years with absolutely no visible effect.</p>
<p>Being good engineers who hate confrontations, we’re trying to sneak our way around those problems with various cryptographic tools (like RPKI) instead of fixing the source of the problem: chaotic (or non-existent) operational practices of some major players.</p>
<p>Unfortunately, you can never solve people- or process problems with new technology, you can just make them more convoluted and harder to troubleshoot. What we’d really need to have are driving licenses for ISPs, and some of them should be banned for good due to repetitive drunk driving. Alas, I don’t see that happening in my lifetime.</p>

