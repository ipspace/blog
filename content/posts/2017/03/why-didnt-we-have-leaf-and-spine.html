---
date: 2017-03-20T07:50:00.000+01:00
tags:
- design
- data center
- fabric
title: Why Didn’t We Have Leaf-and-Spine Fabrics a Decade Ago?
url: /2017/03/why-didnt-we-have-leaf-and-spine.html
---

<p>One of my readers watched my <a href="http://www.ipspace.net/Leaf-and-Spine_Fabric_Architectures">Leaf-and-Spine Fabric Architectures</a> webinar and had a follow-up question: </p>
<blockquote class="cite">You mentioned 3-tier architecture was dictated primarily by port count and throughput limits. I can understand that port density was a problem, but can you elaborate why the throughput is also a limitation? Do you mean that core switch like 6500 also not suitable to build a 2-tier network in term of throughput?</blockquote>
<p>As always, the short answer is <em>it depends</em>, in this case on your access port count and bandwidth requirements.<!--more--></p>
<p>I know people who built their whole data center around a single Catalyst 6500, and others who built it around a pair of Catalysts using VSS to behave like a single box (so much for the originality of Arista’s spline concept). Obviously they didn’t need more bandwidth than what a single Catalyst (or a pair of them) could provide in those days.</p>
<p>I know other people who used stackable switched connected to a pair of central Catalyst 6500s. Yet again, the forwarding performance of a single box (or a VSS pair) was all they needed.</p>
<p>I also know people who built 3-tier data center networks even though they didn’t really need them just because they blindly followed vendor guidelines that haven’t changed in over 20 years (I remember the 3-tier network diagrams looking great in PPT slides in early 90s). Sometimes having too much money hurts you.</p>
<p>Finally, there were data centers that couldn’t have been built with a pair of core switches connecting access switches, either due to port density challenges or insufficient forwarding performance that required them to insert an intermediate layer of oversubscription. Those were the only data centers that <em>really </em>needed a 3-tier design from performance/throughput perspective. They also hurt most because the bandwidth between two endpoints depended on where in the data center the endpoints were – connected to the same switch, same distribution layer, same core switches, or across the core.</p>
<p>On the other hand, do keep in mind that a bunch of ToR switches connected to a pair of modular core switches in MLAG cluster is as much a leaf-and-spine fabric as is a fabric of pizza-box-sized whitebox switches, and if you ignore the oversubscription in the core switches, a lot of data centers already have leaf-and-spine fabrics without knowing it.</p>
<h4>Beyond Fabrics</h4><p>The <a href="http://www.ipspace.net/Building_Next-Generation_Data_Center">Building the Next-Generation Data Center</a> online course goes way beyond network fabrics and covers infrastructure topics like storage, compute, and network services, compute, storage and network virtualization, and multi-DC and cloud deployments.</p>
<p>Interested? <a href="http://www.ipspace.net/Building_Next-Generation_Data_Center#register">Register here</a>.</p>

