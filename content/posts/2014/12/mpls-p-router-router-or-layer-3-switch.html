---
url: /2014/12/mpls-p-router-router-or-layer-3-switch.html
title: "MPLS P-Router, Router or Layer-3 Switch?"
date: "2014-12-02T06:31:00.000+01:00"
tags: [ bridging,MPLS,switching,IP routing ]
---

<p>One of my readers is struggling with the <a href="https://blog.ipspace.net/2011/02/how-did-we-ever-get-into-this-switching.html">aftermath of marketing gimmicks</a>:</p>
<blockquote class="cite">We will be implementing a new network soon, and we're discussing P-routers versus regular routers versus switches. I'm looking for arguments to go one way or the other.</blockquote>
<p>TL&amp;DR: <a href="https://blog.ipspace.net/2012/08/is-layer-3-switch-more-than-router.html">there’s no difference between router and L3 switch</a>.<!--more--></p>
<p>The important part is the functionality you need. Based on their intended use, some boxes tend to have low table sizes (you can’t pump a full BGP table into a ToR L3 switch even though it runs BGP, unless you’re David Barroso – more about that in an upcoming <a href="http://www.ipspace.net/Podcast/Software_Gone_Wild">Software Gone Wild</a> podcast), or limited QoS, or no shaping, or…</p>
<p>You should always start with “<a href="https://www.youtube.com/watch?v=ClKEkCRvWTQ"><em>what services do I want to offer</em></a>”, continue with “<a href="https://blog.ipspace.net/2013/08/temper-your-macgyver-streak.html"><em>how would I best implement them with the simplest possible design</em></a>”, go down the path of “<em>which functions do I need to make this design work</em>” and finally “<em>which boxes from which vendors fit my need</em><em>s?</em>”</p>
<p>As for MPLS, do keep in mind that very few L3 switches support MPLS, and even those that do <a href="https://blog.ipspace.net/2014/03/mpls-requires-custom-silicon-really.html">tend to have a very limited number of MPLS labels</a> (although QFX5100 does a very good job squeezing 16K labels out of Trident-II chipset), which might or might not be a problem depending on what the outcome of the previous paragraph is.</p>
<h4>Need to know more about MPLS?</h4><p>Explore my <a href="http://www.ipspace.net/Books#MPLS.2FVPN">MPLS/VPN books</a>, <a href="http://www.ipspace.net/Enterprise_MPLS_VPN_Deployment">MPLS webinar</a>, and <a href="http://demo.ipspace.net/get/TechTalks">MPLS Tech Talks</a>.</p>

