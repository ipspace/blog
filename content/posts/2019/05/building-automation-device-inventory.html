---
title: "Building Automation Device Inventory with Open Source Tools"
date: "2019-05-07T08:33:00.000+02:00"
tags: [ Automation ]
---

<p><em>This blog post was initially sent to subscribers of my SDN and Network Automation mailing list.&nbsp;</em><a href="http://www.ipspace.net/Subscribe/Five_SDN_Tips"><em>Subscribe here</em></a><em>.</em></p>
<p>One of the common questions we get in the <a href="https://www.ipspace.net/Building_Network_Automation_Solutions">Building Network Automation Solutions</a> online course is &ldquo;<em>how do I create device inventory if I don&rsquo;t know (exactly) what devices are in my network?</em>&rdquo;&hellip; prompting one of the guest speakers to reply &ldquo;<em>could it really be that bad?</em>&rdquo; (yes, sometimes it is).</p>
<p>Some of the students tried to solve the challenge with Ansible. While that <em>might </em>eventually work (given enough effort), Ansible definitely isn&rsquo;t the right tool for the job.</p>
<p>What you need to get the job done is a proper toolchain:<!--more--></p>
<ul class="ListParagraph"><li>A tool that is good in doing device discovery &ndash; network management tools usually pretty do a decent job;</li>
<li>A data store (or tool) that will act as your authoritative source-of-truth. Based on the complexity of your network and the desired editing method (text editor versus API/GUI) you could go with text files, a database, or an IPAM tool;</li>
<li>A script that will export the information from the source-of-truth into a format usable by your automation tool (example: dynamic inventory script for Ansible).</li>
</ul>
<p>Next steps:</p>
<ul class="ListParagraph"><li>Selecting the tools;</li>
<li>Building the toolchain.</li>
</ul>
<p>Gian Paolo Boarina <a href="https://www.ifconfig.it/hugo/post/monitoringmvp/">documented an interesting toolchain he built</a>:</p>
<ul class="ListParagraph"><li>Device discovery with LibreNMS;</li>
<li>Inventory and source-of-truth in NetBox;</li>
<li>Export of NetBox inventory into Icinga.</li>
</ul>
<p>All you have to if you want to use the same toolchain with Ansible is to build a dynamic inventory script to export NetBox information into a JSON/YAML blob that Ansible can use.. oh wait, <a href="https://pypi.org/project/ansible-netbox-inventory/">here&rsquo;s one</a> ;)</p>
<p>Happy toolchaining&hellip; and if you want to learn more about network automation watch our <a href="https://www.ipspace.net/Roadmap/Network_Automation_webinars">network automation webinars</a> or register for the <a href="https://www.ipspace.net/Building_Network_Automation_Solutions">Building Network Automation Solutions</a> online course.</p>

