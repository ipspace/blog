---
date: 2019-02-05T08:58:00.000+01:00
tags:
- automation
title: Automating Brownfield Device Configuration
url: /2019/02/automating-brownfield-device.html
---

<p>Numerous network automation deployments happen in brownfield installations: you’re trying to automate parts of existing network deployment and operations processes. If you’re lucky you start automating deployment of new devices… but what if you have to automate parts of existing device configurations?<!--more--></p>
<p>If someone considered <a href="https://blog.ipspace.net/2016/10/network-automation-rfp-requirements.html">network automation requirements</a> when buying the gear for your network you have an easy job. When using devices that support atomic configuration commits (example: Junos, IOS XR, Arista EOS) it’s easy to remove whole configuration sections (for example: <strong>no router bgp 1234</strong>) and replace them with automatically-built equivalents. Guess what happens when you try to pull off the same trick on almost any other network device ;)</p>
<p><a href="https://www.linkedin.com/in/fuchs-josef-16ba3875/">Josef Fuchs</a> decided to solve this problem when creating a network automation solution while attending the Building Network Automation Solutions online course: he wrote an Ansible playbook (and later a Python Jinja2 filter) that merges existing device configuration with template-generated parts and deploys the new configuration with NAPALM <em>configuration replace </em>functionality.</p>
<p>Read the <a href="/kb/ConfigRegex/">overview of his solution</a> (more to come) and <a href="https://github.com/jifox/set_managed_configuration_ios">view his code on GitHub</a>.</p>

