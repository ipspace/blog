---
url: /2019/02/private-vlans-with-vxlan.html
title: "Private VLANs with VXLAN"
date: "2019-02-21T08:29:00.000+01:00"
tags: [ VXLAN,Data Center,EVPN ]
---

<p>Got this remark from a reader after he read the <a href="https://blog.ipspace.net/2019/01/q-in-q-support-in-multi-site-evpn.html">VXLAN and Q-in-Q blog post</a>:</p>
<blockquote class="cite">Another area where there is a feature gap with EVPN VXLAN is Private VLANs with VXLAN. They’re not supported on either Nexus or Juniper switches.</blockquote>
<p>I have one word on using private VLANs in 2019: Don’t. They are messy and hard to maintain (not to mention it gets really interesting when you’re combining virtual and physical switches).<!--more--></p>
<p>Having said that, as EVPN supports Route Distinguishers and Route Targets it should be possible to implement a 2-VRF hub-and-spoke VPN topology (like the one we described in the original <em>MPLS and VPN Architectures</em> book) and even configure inter-VRF routing on the hub device assuming the hardware supports VXLAN-to-VXLAN routing.</p>
<p>Has anyone done that? I hope not. Is anything along these lines supported? I have no idea – if you know more please write a comment.</p>
<p>Nonetheless, as I said it is 2019 and I’d strongly recommend you use microsegmentation (ACLs in front of servers or virtual machines) in data center environments instead of Private VLANs, more so if you’re running a virtualized environment. Hub-and-spoke VPN topologies are obviously a totally different beast.</p>
<hr/><p>Want to know more about VXLAN and EVPN? Why don’t you:</p>
<ul class="ListParagraph"><li>Start with <a href="https://www.ipspace.net/Introduction_to_Virtualized_Networking">Introduction to Virtual Networking</a> if you’re just starting with network virtualization;</li>
<li>Watch <a href="https://www.ipspace.net/Networking_in_Private_and_Public_Clouds">Networking in Private and Public Clouds</a> to understand the challenges we’re trying to solve and explore various approaches to virtual networking;</li>
<li>Continue with a <a href="https://www.ipspace.net/VXLAN_Technical_Deep_Dive">deep dive into VXLAN</a>;</li>
<li>Conclude the journey with <a href="https://www.ipspace.net/EVPN_Technical_Deep_Dive">EVPN deep dive</a>.</li>
</ul>
<p>All these webinars are part of <a href="https://www.ipspace.net/Subscription/Individual">Standard ipSpace.net subscription</a>. Alternatively, buy the <a href="https://www.ipspace.net/Subscription/Individual">Expert ipSpace.net subscription</a> and choose <a href="https://www.ipspace.net/Building_Next-Generation_Data_Center">Building Next-Generation Data Centers</a> as your online course.</p>

