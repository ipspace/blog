---
url: /2019/11/executing-jinja2-loop-for-subset-of.html
title: "Executing a Jinja2 Loop for a Subset of Elements"
date: "2019-11-05T07:07:00.000+01:00"
tags: [ Ansible ]
---

<p>Imagine you want to create a Jinja2 report that includes only a select subset of elements of a data structure… and want to have header, footer, and element count in that report.</p>
<p>Traditionally we’d solve that challenge with an extra variable, but as Jinja2 variables don’t survive loop termination, the code to do that in Jinja2 gets exceedingly convoluted.</p>
<p>Fortunately, Jinja2 provides a better way: <a href="/kb/Ansible/For-If-Jinja2.html">using a conditional expression to select the elements you want to iterate over</a>.</p>
<div class="jump-link" data-markdown="1"><a href="/kb/Ansible/For-If-Jinja2.html">Continue reading</a></div>

