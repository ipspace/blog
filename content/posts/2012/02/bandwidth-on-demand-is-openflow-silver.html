---
url: /2012/02/bandwidth-on-demand-is-openflow-silver.html
title: "Bandwidth-On-Demand: Is OpenFlow the Silver Bullet?"
date: "2012-02-14T07:31:00.000+01:00"
tags: [ SDN,OpenFlow,QoS ]
---

<p>Whenever the networking industry invents a new (somewhat radical) technology, bandwidth-on-demand seems to be one of the much-touted use cases. OpenFlow/SDN is no different – Juniper used its OpenFlow implementation (<a href="https://developer.juniper.net/content/dam/jdn/Programmable%20Networks/OpenFLow_APP_JDN_Overview.pdf">Open vSwitch sitting on top of Junos SDK</a>) to demonstrate <em>Bandwidth Calendaring </em>(see <a href="http://static.techfieldday.com/wp-content/uploads/2011/10/jnpr-dward.pdf">Dave Ward’s presentation @ OpenFlow Symposium</a> for more details), Greg Ferro was talking about the same topic in his fantastic <a href="http://demo.ipspace.net/get/OpenFlow">Introduction to OpenFlow/SDN</a> webinar, and Dmitri Kalintsev <a href="http://telecomoccasionally.wordpress.com/2012/02/11/should-sdn-and-mpls-kiss-and-make-out/">recently blogged</a> “<em>How about an ability for things like Open vSwitch ...  to actually signal the transport network its connectivity requirements ... say desired bandwidth</em>” I have only one problem with these ideas: I’ve seen them before.<!--more--></p>
<div class="separator"><iframe allowfullscreen="" frameborder="0" height="225" mozallowfullscreen="" src="http://player.vimeo.com/video/31205041?title=0&amp;byline=0&amp;portrait=0" webkitallowfullscreen="" width="400"></iframe></div>
<p>In the last 20 years, at least three technologies have been invented to solve the bandwidth-on-demand problem: RSVP, ATM Switched Virtual Circuits (SVC) and MPLS Traffic Engineering (MPLS-TE). None of them was ever widely used to create a ubiquitous bandwidth-on-demand service.</p>
<p class="note">I’m positive very smart network operators (including major CDN and content providers like Google) use MPLS-TE very creatively. I’m also sure there are environments where RSVP is a mission-critical functionality. I’m just saying bandwidth-on-demand is like IP multicast – <a href="http://www.fragmentationneeded.net/2011/12/pricing-and-trading-networks-down-is-up.html">it’s used by 1% of the networks that badly need it</a>.</p>
<p>All three technologies I mentioned above faced the same set of problems:</p>
<ul class="ListParagraph"><li><a href="http://blog.ioshints.info/2011/10/openflow-and-state-explosion.html">Per-flow (or per-granular-FEC) state in the network core never scales</a>. This is what killed RSVP and ATM SVCs.</li>
<li>It’s pretty hard to traffic engineer just the elephant flows. Either you do it properly and traffic engineer all traffic, or you end with a suboptimal network.</li>
<li>Reacting to short-term changes in bandwidth requirements can cause interesting oscillations in the network (I’m positive Petr Lapukhov could point you to a dozen sources analyzing this problem).</li>
<li>Nobody above the network layer really cares – it’s way simpler to blame the network when the <a href="http://en.wikipedia.org/wiki/Fallacies_of_Distributed_Computing">bandwidth fairy fails to deliver</a>.</li>
</ul>
<p>You don’t think the last bullet is real? Then tell me how many off-the-shelf applications have RSVP support ... even though RSVP has been available in Windows and Unix/Linux server for ages. How many applications can mark their packets properly? How many of them allow you to configure DSCP value to use (apart from IP phones)?</p>
<p>Similarly, it’s not hard to implement bandwidth-on-demand for specific elephant flows (inter-DC backup, for example) with a pretty simple combination of MPLS-TE and PBR, potentially configured with Netconf (assuming you have a platform with a decent API). You could even do it with SNMP – pre-instantiate the tunnels and PBR rules and enable tunnel interface by changing <em>ifAdminStatus</em>. When have you last seen it done?</p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://www.amazon.com/gp/product/B001P5M7QE?ie=UTF8&amp;tag=cisioshinandt-20&amp;linkCode=xm2&amp;camp=1789&amp;creativeASIN=B001P5M7QE" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="225" src="/2012/02/s400-HolyGrail.jpg" width="400"/></a><br/>Looking for the Holy Grail?</div>
<p>So, although I’m the first one to admit OpenFlow is an elegant tool to integrate flow classification (previously done with PBR) with traffic engineering (using MPLS-TE or any of the novel technologies proposed by Juniper) using the <a href="http://blog.ioshints.info/2011/11/openflow-deployment-models.html">hybrid deployment model</a>, being a seasoned skeptic, I just don’t believe we’ll reach the holy grail of bandwidth-on-demand during this hype cycle. However, being an eternal optimist, I sincerely hope I’m wrong.</p>
<h4>Need help?</h4><p>If you need technology-focused consulting, evaluation of emerging technologies, second opinion, or a review of your network, check out the <a href="http://www.ipspace.net/ExpertExpress">ExpertExpress service</a>.</p>

