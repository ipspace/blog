---
url: /2012/05/arp-reply-with-multicast-source-mac-is.html
title: "ARP reply with multicast sender MAC address is indeed illegal"
date: "2012-05-30T07:03:00.000+02:00"
tags: [ Data Center,Workshop,load balancing ]
---

<p>A while ago I was writing about the behavior of <a href="https://blog.ipspace.net/2012/02/microsoft-network-load-balancing-behind.html">Microsoft’s Network Load Balancing</a>, the problems it’s causing and how Microsoft tried to hack around them using multicast MAC addresses as the <em>hardware address of sender</em> in ARP replies (which is illegal). A few days ago one of my readers asked me whether I know which RFC prohibits the use of multicast MAC address in ARP replies.</p>
<p>A quick consultation with friendly Google search engine returned <a href="http://fixunix.com/tcp-ip/66685-arp-reply-containing-multicast-mac-ok.html">this web page</a>, which contained the answer: <a href="http://tools.ietf.org/html/rfc1812#section-3.3.2">section 3.3.2 of RFC 1812</a> (Requirements for IP Version 4 Routers):</p>
<blockquote class="cite">A router MUST not believe any ARP reply that claims that the Link Layer address of another host or router is a broadcast or multicast address.</blockquote>
<p>Problem solved – now I know the real reason we have to configure <a href="http://www.cisco.com/en/US/products/hw/switches/ps708/products_configuration_example09186a0080a07203.shtml#mm">static ARP entries on Cisco routers and switches</a>.</p>

