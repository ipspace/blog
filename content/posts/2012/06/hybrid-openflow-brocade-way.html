---
url: /2012/06/hybrid-openflow-brocade-way/
title: "Hybrid OpenFlow, the Brocade Way"
date: "2012-06-19T07:37:00.000+02:00"
tags: [ SDN,OpenFlow ]
---

<p>A few days after <a href="/2012/05/brocade-yet-another-sdn-strategy/">Brocade unveiled its SDN/OpenFlow strategy</a>, Katie Bromley organized a phone call with <a href="http://www.linkedin.com/in/keithrstewart">Keith Stewart</a> who kindly explained to me some of the background behind their current OpenFlow support. Apart from the fact that it runs on the 100GE adapters, the most interesting part is their twist on the hybrid OpenFlow deployment.<!--more--></p>
<p>The “traditional” hybrid OpenFlow model (what Keith called <em>hybrid switch</em>) is well known (and supported by multiple vendors): an OpenFlow-capable switch has two <a href="/2010/09/ribs-and-fibs/">forwarding tables (or FIBs)</a>, a regular one (built from source MAC address gleaning or routing protocol information) and an OpenFlow-controlled one. Some ports of the switch use one of the tables, other ports the other. Effectively, a hardware switch supporting <em>hybrid switch </em>OpenFlow is split into two independent switches that operate in a <a href="/2011/11/openflow-deployment-models/#of_ships"><em>ships-in-the-night </em>fashion</a>.</p>
<p>More interesting is the second hybrid mode Brocade supports: the <em>hybrid port </em>mode, where the OpenFlow FIB augments the traditional FIB. Brocade’s switches using <em>hybrid port </em>approach can operate in <em>protected </em>or <em>unprotected </em>mode:</p>
<ul class="ListParagraph"><li><em>Protected hybrid port </em>mode uses OpenFlow FIB for certain VLANs or packets matching a packet filter (ACL). This mode allows you to run OpenFlow in parallel (ships-in-the-night) with the traditional forwarding <em>over the same port</em> – a major win if you’re not willing to spend money for two 100GE ports (one for OpenFlow traffic, another for regular traffic).</li>
<li><em>Unprotected hybrid port </em>mode performs a lookup in OpenFlow FIB first and uses the traditional FIB as a fallback mechanism (in case there’s no match in the OpenFlow table). This mode can be used to augment the traditional forwarding mechanisms (example: OpenFlow-controlled PBR) or create value-added services on top of (not in parallel with) the traditional network.</li>
</ul>
<p>The set of applications that one can build with the hybrid OpenFlow is well known – from <a href="/2011/11/openflow-enterprise-use-cases/">policy-based routing</a> and <a href="/2012/05/openflow-google-brilliant-but-not/">traffic engineering</a> to <a href="/2012/02/bandwidth-on-demand-is-openflow-silver/">bandwidth-on-demand</a>. However, Brocade MLX has one more trick up its sleeve: it supports packet replication actions that can be used to implement behavior similar to IP Multicast or SPAN port functionality. You can use that feature in <a href="http://www.fragmentationneeded.net/2012/01/dispatches-from-trading-floor-moldudp.html">environments that need reliable packet delivery over UDP</a> to increase the chance that at least a single copy of the packet will reach the destination.</p>
<p>I like the hybrid approach Brocade took (it’s quite similar to what Juniper is doing with its <a href="/2011/11/openflow-deployment-models/#of_integrated">integrated OpenFlow</a>) and the interesting new features (like the packet replication), but the big question remains unanswered: <a href="http://www.networkcomputing.com/next-gen-network-tech-center/240001600">where are the applications (aka OpenFlow controllers)</a>? At the moment, everyone (<a href="http://newsroom.brocade.com/easyir/customrel.do?easyirid=74A6E71C169DEDA9&amp;version=live&amp;prid=890053&amp;releasejsp=custom_184">Brocade included</a>) is <a href="/2012/02/necibm-enterprise-openflow-you-can/">partnering with NEC</a> or <a href="/2012/03/grumpy-monday-hp-and-openflow/">demoing their gear with public-domain controllers</a>. Is this really the best the traditional networking vendors can do? I sincerely hope not.</p>

