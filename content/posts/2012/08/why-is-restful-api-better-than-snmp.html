---
title: "Why is RESTful API better than SNMP?"
date: "2012-08-14T06:23:00.000+02:00"
tags: [ SNMP,SDN,network management ]
---

<p>Brian Christopher Raaen asked a great question in a comment to my <a href="http://blog.ioshints.info/2012/08/openstackquantum-sdn-based-virtual.html"><em>OpenStack/Quantum SDN-Ba</em><em>s</em><em>ed Virtual Networks</em></a> post:<span style="color: B6561F;"> </span></p>
<blockquote class="cite">Other than some syntax difference what do these new HTTP-based APIs add that SNMP couldn't already do?</blockquote>
<p>Short answer: nothing, apart from familiarity and convenient programming libraries.<!--more--></p>
<h4>What is a RESTful service</h4><p>If you’re not familiar with the concept of Representation State Transfer (REST) you might want to <a href="http://en.wikipedia.org/wiki/Representational_state_transfer">read this Wikipedia entry</a> that describes REST as an architectural solution, not a specific protocol or data format. </p>
<p>The most interesting part of the article is the description of the <a href="http://en.wikipedia.org/wiki/Representational_state_transfer#Constraints">REST constraints</a>. A RESTful service should be a stateless client-server service – clearly SNMP fits that role well. It’s harder to shoehorn SNMP into other constraints (cacheable layered system), but these constraints aren’t that important in the network programming space.</p>
<p>Moving forward to the <a href="http://en.wikipedia.org/wiki/Representational_state_transfer#Guiding_principles_of_the_interface">guiding principles of a REST interface</a>, the differences with SNMP become more pronounced. SNMP requires an external schema (MIB) to describe the data model, whereas a REST interface should provide self-descriptive messages.</p>
<p>Finally, while you could (in principle) run a RESTful service over an <a href="http://tools.ietf.org/html/rfc1149">RFC 1149-based infrastructure</a>, most real-life implementations run over HTTP(S), reuse existing Web services authentication/authorization mechanisms (HTTP authentication or cookies), and use JSON or XML as the data transfer format.</p>
<h4>Why is REST better than SNMP?</h4><p>Imagine you’re looking for someone to write detailed technical documentation for your new SDN gizmo. Would it be simpler to find someone fluent in English or in <a href="http://en.wikipedia.org/wiki/Dilbert#Elbonia">Elbonian</a>? </p>
<p>The situation is no different in the programming world – anyone can write a client script that uses HTTP(S) to send form data to a web server and process JSON response (XML-based requests and responses might already represent significant mental challenges to some youngsters). </p>
<p>HTTP(S) client is usually included with modern programming languages and available (at least as a library) in every single language I’ve tried to use in the last decade (before you ask: there was no HTTP client in Turbo Pascal, PL/I or Fortran IV when I was still using them), and a lot more programmers were exposed to HTTP than to SNMP, some of them probably never realizing where the HTTP part of the <a href="http://en.wikipedia.org/wiki/XMLHttpRequest">XMLHttpRequest object</a> comes from.</p>
<p class="info">Amazingly, there’s an <a href="http://php.net/manual/en/book.snmp.php">SNMP library for PHP</a> and <a href="http://snmplib.rubyforge.org">Ruby</a> … or <a href="http://www.erlang.org/doc/apps/snmp/index.html">you could use Erlang</a> (although I still can't figure out whether that's a joke as the manual was published on April 1st).</p>
<p>The situation is no different on the server side. You can implement a RESTful server in any programming language using any open-source web server, from <a href="http://perldancer.org">standalone PERL scripts</a> and <a href="http://www.lighttpd.net">lightweight options</a> to full-blown web servers. SNMPv3 server? Not so easy.</p>
<h4>Summary</h4><p>I can’t see a major functional difference between a RESTful service and SNMP (if I’ve missed something fundamental, please write a comment). Also, I can’t see where SNMP would be better than a RESTful interface now that we’re past the days of <a href="http://en.wikipedia.org/wiki/Zilog_Z80">Z80 processors</a> being used in networking devices.</p>
<p>BTW, don’t tell me most SNMP MIBs are read-only. I’m well aware of that – but that’s not a limitation of the SNMP protocol, but of its implementations in specific network devices. <a href="http://en.wikipedia.org/wiki/Wellfleet_Communications">Wellfleet</a> was more than happy to have their routers fully configurable through SNMP … unfortunately that was the only configuration mechanism they offered, and their SNMP-based CLI was a royal pain.</p>
<p>However, regardless of what our opinions might be, REST is clearly a mainstream solution and SNMP is limited to a very specific field. Which one do you think will be used more?</p>
<p class="update">This post was written more than a week ago (it took me a while to publish it); in the meantime <a href="http://blog.ioshints.info/2012/08/openstackquantum-sdn-based-virtual.html?showComment=1344219890812#c1415977561055230319">John Gruber wrote a great reply to the above question</a>.</p>

