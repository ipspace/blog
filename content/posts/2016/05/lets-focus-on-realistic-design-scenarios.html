---
date: 2016-05-16T09:57:00.000+02:00
tags:
- design
- data center
- fabric
title: Let’s Focus on Realistic Design Scenarios
url: /2016/05/lets-focus-on-realistic-design-scenarios.html
---

<p>An engineer working for a large system integrator sent me this question:</p>
<blockquote class="cite">Since you are running a <a href="http://www.ipspace.net/Leaf-and-Spine_Fabric_Architectures">detailed series on leaf-and-spine fabrics</a> these days, could you please suggest if following design scenarios of Facebook and Linkedin Data centers are also covered?</blockquote>
<p><strong>Short answer</strong>: No.<!--more--></p>
<p>We did cover multistage leaf-and-spine fabrics in the overview part of the webinar and Brad Hedlund provided great examples of <a href="http://content.ipspace.net/get/D3%20-%20Multi-Stage%20Clos%20Fabrics%20With%20Dell%20Force10%20Switches.mp4">building fabrics with up to 24.000 ports</a>, but when I started working on the design part of the webinar, I decided to focus on simple (3-stage) leaf-and-spine fabrics.</p>
<p>Using modern modular spine switches and single leaf- and spine layers you can easily get to at least 10.000 10GE (or 25GE) port fabrics, and people who need larger data centers don’t need my webinars. Also, just because your CxO told you to <a href="https://blog.ipspace.net/2016/03/you-want-your-network-to-be-like.html">build a data center like Google/Facebook/whoever</a> does doesn’t mean that you need it – sometimes you <a href="http://blog.ipspace.net/2016/03/video-all-you-need-are-two-switches.html">don’t need more than two switches</a> ;)</p>
<h4>How did I get 10.000 ports?</h4><p>Let’s do a few simple calculations assuming that the total number of ports in a leaf-and-spine fabric equals <em>server-ports-per-leaf </em>* <em>number-of-leafs </em>and number of leaf switches equals <em>ports-per-spine-switch</em>.</p>
<p class="more">The proof (and figuring out which minor details we ignored) is left as an exercise for the reader, for more details <a href="https://my.ipspace.net/bin/list?id=Clos">watch the Leaf-and-Spine Fabrics webina</a>r… and feel free to write a comment pointing them out.</p>
<p>Using 1:2 oversubscription here’s a gigantic fabric you can build with Nexus 9000 switches:</p>
<ul class="ListParagraph"><li>Leaf switch: Nexus 93108 (48 10GE ports, 6 40 GE uplinks)</li>
<li>Spine switch: Nexus 9516 (576 40GE ports)</li>
<li>Total number of server-facing ports: over 27.000</li>
</ul>
<p>Need something smaller? Use a fixed-configuration spine switch:</p>
<ul class="ListParagraph"><li>Leaf switch: Nexus 93108 (48 10GE ports, 6 GE uplinks)</li>
<li>Spine switch: Nexus 9332PQ (32 40GE ports)</li>
<li>Total number of server-facing ports: over 1.500</li>
</ul>
<p>You can reach similar numbers with data center switches from Arista, Brocade, Dell, HP or Juniper (in alphabetic order).</p>
<p>So maybe the design scenarios I covered in the <a href="https://www.ipspace.net/Leaf-and-Spine_Fabric_Designs">Leaf-and-Spine Designs</a> part of the webinar are good enough for your data center. Want to discuss them? Why don’t you join the <a href="http://www.ipspace.net/Building_Next-Generation_Data_Center">Building the Next Generation Data Center</a> course?</p>

