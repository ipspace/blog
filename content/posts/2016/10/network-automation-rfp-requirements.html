---
date: 2016-10-13T08:47:00.000+02:00
tags:
- automation
title: Network Automation RFP Requirements
url: /2016/10/network-automation-rfp-requirements.html
---

<p><a name="_GoBack"></a>After finishing the network automation part of a recent SDN workshop I told the attendees “<em>Vote with your wallet. If your current vendor doesn’t support the network automation functionality you need, move on.</em>”</p>
<p>Not surprisingly, the next question was “<em>And what shall we ask for?</em>” Here’s a short list of ideas, please add yours in comments.<!--more--></p>
<p class="info">The Pass/Fail information included below was collected to the best of my knowledge with extensive help from Jason Edelman, Nick Buraglio, David Barroso and several Brocade engineers (THANK YOU!). If you feel the information is incorrect, please point me to public documentation that proves me wrong. Also, do provide information on other platforms.</p>
<p class="update">Update 2016-10-27: Cisco IOS structured configuration is almost OK (moved to <em>Pass (mostly)</em>)<br/><br/>Update 2017-03-04: Cisco IOS XE release 16 generates properly-nested configuration elements. Moved to <em>Pass</em>. Also added rollback-on-error capability of IOS XE release 16.</p>
<style>.textsection { margin-left: 2em; }</style><h4>Programmable interface (API)</h4><div class="textsection"><p><em>The device MUST have an </em><strong><em>on-device</em></strong><em> programmable API (NETCONF or REST)</em> that allows an external script to:</p>
<ul class="ListParagraph"><li>Get device configuration</li>
<li>Get operational data</li>
<li>Change device configuration.</li>
</ul>
<p>I don’t want to hear about “solutions” that insert layers of kludges between my script and the device I want to manage. If I can’t access the device itself using NETCONF or REST I’m no longer interested. After all, my calendar is showing 2016.</p>
<p>Pass: Most networking vendors, at least in recent software releases.</p>
<p>Fail: List your grievances in the comments ;)</p>
</div>
<h4>Structured operational data</h4><div class="textsection"><p><em>The device MUST return operational data as structured data (JSON or XML format) not as text printouts wrapped in XML or JSON envelopes.</em></p>
<p>I had enough of screen scraping in the 30 years I had to deal with networking devices. I don’t want to write another Expect script or TextFSM definition. My calendar is still showing 2016.</p>
<p>Pass: Junos, Nexus OS, Arista EOS, Brocade VDX, ALU/Nokia</p>
<p>Fail: Cisco IOS</p>
<p>Nice try: Cisco IOS XE with REST API (it returns a minimalistic set of operational data, see also ''feature parity'' below).</p>
</div>
<p class="more">We’ll cover the importance of structured operational data in <a href="http://automation.ipspace.net/Public:Description#Easy_Wins">Week 2 (Easy Wins)</a> of <a href="http://www.ipspace.net/Building_Network_Automation_Solutions">Building Network Automation Solutions</a> online course.</p>
<h4>Device configuration in structured format</h4><div class="textsection"><p><em>The device SHOULD return its configuration in structured format (JSON or XML) with meaningful structure (for example, ACL lines should be </em><strong><em>within </em></strong><em>the ACL).</em></p>
<p>I don’t know why I should write another configuration scraping program to figure out what BGP neighbors a device has if I could do the same thing with a simple walk down the return object. I had enough <a href="https://xkcd.com/208/">Perl Regexps</a> for one life. </p>
<p>Pass: Junos, Brocade VDX, ALU/Nokia, Cisco IOS XE release 16.</p>
<p>Mostly there: Cisco IOS and IOS-XE (prior to release 16).</p>
</div>
<h4>Atomic configuration changes</h4><div class="textsection"><p><em>Changes to device configuration MUST be </em><strong><em>atomic</em></strong><em>, more so if the device supports NETCONF – either all the submitted changes are accepted or none is.</em></p>
<p>I really don’t care if I can get that done in a NETCONF session with <strong>commit </strong>capability or as a single huge REST call, but I don’t want to be cut off the box once again because the box accepted only half the ACL.</p>
<p>Pass: Junos, IOS XR, probably Arista EOS</p>
<p>Almost: Cisco IOS XE. REST interface is atomic within a single call, as is NETCONF implementation in release 16.x which implements rollback-on-error.</p>
<p>Fail: Cisco IOS, Nexus OS, Brocade VDX</p>
</div>
<h4>Configuration rollback</h4><div class="textsection"><p><em>The device MUST support rollback to a previous configuration.</em></p>
<p>If I made a mistake, I want to be able to go back to a previous configuration without spending hours hand-crafting the differences between the mess I made and the configuration that worked before I started messing it up.</p>
<p>Pass: Junos, IOS XR, Arista EOS, Cisco IOS, Nexus OS, ALU/Nokia</p>
<p>Fail: Brocade VDX</p>
</div>
<h4>Configuration replace</h4><div class="textsection"><p><em>The device MUST support replacing current configuration with a new configuration without a reload.</em></p>
<p>Sometimes I really don’t want to waste my time calculating the differences that have to be made to get the device to do what I want, particularly when I create the whole configuration with a template.</p>
<p>Pass: Junos, IOS XR, Arista EOS, Cisco IOS/XE</p>
<p>Fail: Nexus OS, Brocade VDX</p>
</div>
<p class="more">The importance of <em>configuration replace </em>functionality will be the focus of <a href="http://automation.ipspace.net/Public:Description#Changing_Network_Configurations_or_State">Week 4 (Changing Network Configuration or State)</a> of <a href="http://www.ipspace.net/Building_Network_Automation_Solutions">Building Network Automation Solutions</a> online course.</p>
<h4>Configuration diff</h4><div class="textsection"><p><em>The device SHOULD be able to create a list of configuration commands needed to transform one configuration into another.</em></p>
<p>It’s great if you can point out the differences between two configurations to the engineer who has to approve the change. Oh, and I’m looking for the list of commands to get from A to B. I can run a <strong>diff </strong>on Linux myself.</p>
<p>Pass: Junos, Cisco IOS</p>
<p>Fail: Most everyone else. Many platforms use standard Linux <strong>diff </strong>instead of considering configuration context.</p>
</div>
<p class="note">For example, if I change BGP AS number, I’d like to see <strong>no router bgp A </strong>followed by <strong>router bgp B</strong> followed by whole BGP configuration.</p>
<h4>Support for industry-standard models</h4><div class="textsection"><p><em>The device SHOULD support industry-standard configuration data models (IETF and/or OpenConfig).</em></p>
<p>We waited long enough to get them. I don’t want to wait another decade for the vendors to implement them.</p>
<p>Pass: Junos</p>
<p>Partial: IOS XE (IETF), IOS XR (OpenConfig)</p>
<p>Fail: pretty much everyone else</p>
</div>
<p class="more">The benefits of industry-standard data models will be described in <a href="http://automation.ipspace.net/Public:Description#Data_Models">Week 3 (Data Models)</a> of <a href="http://www.ipspace.net/Building_Network_Automation_Solutions">Building Network Automation Solutions</a> online course.</p>
<h4>Feature parity</h4><div class="textsection"><p>Paraphrasing <a href="http://blog.ipspace.net/2016/07/cutting-through-ipv6-requirements-red.html">Ron Broersma</a>: <em>All functionality requested in the RFP must be fully supported by the device API and meet the above requirements</em>.</p>
</div>
<h4>Anything else?</h4><p>I probably forgot a few critical requirements. Please list them in the comments.</p>
<h4>Want to know more?</h4><p>Check out the <a href="http://www.ipspace.net/Roadmap/Network_Automation_webinars">network automation webinars</a> and my <a href="http://www.ipspace.net/Building_Network_Automation_Solutions">new online course</a>.</p>

