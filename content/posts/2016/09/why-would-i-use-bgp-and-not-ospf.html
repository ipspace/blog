---
date: 2016-09-22T13:59:00.000+02:00
tags:
- design
- OSPF
- data center
- fabric
- BGP
title: Why Would I Use BGP and not OSPF between Servers and the Network?
url: /2016/09/why-would-i-use-bgp-and-not-ospf.html
---

<p><a name="_GoBack"></a>While we were preparing for the Cumulus Networks’ <a href="https://vimeo.com/171631723">Routing on Hosts</a> webinar <a href="https://www.linkedin.com/in/ddutt">Dinesh Dutt</a> sent me a message along these lines:</p>
<blockquote class="cite">You categorically reject the use of OSPF, but we have a couple of customers using it quite happily. I'm sure you have <a href="http://blog.ipspace.net/2013/08/virtual-appliance-routing-network.html">good reasons</a> and the reasons you list [in the presentation] are ones I agree with. OTOH, why not use totally stubby areas with the hosts being in such an area?</blockquote>
<p>How about:<!--more--></p>
<p><strong>Because OSPF stub areas would be a total mess to configure?</strong> Hmm… maybe not really, we could make it reasonably easy, particularly with network automation.</p>
<p><strong>One host going crazy would impact at least all other hosts in the same area</strong>. Definitely not as bad as running servers in backbone area but still. Maybe it’s not so relevant if you’re running the same version of Quagga (for example, Cumulus-enhanced Quagga) on both ends.</p>
<p><strong>Because you couldn’t filter the prefixes announced by the host?</strong> Well, you could control the summarization of prefixes from totally stubby area into backbone area (in theory, not sure many vendors actually implemented that), but within the area you’d still trust everyone. That might not be a problem if you control all the hosts, but would be a huge deal if you don’t… and it would be a nirvana for any intruder trying to move laterally.</p>
<p><strong>Because you can’t implement routing policies (like </strong><strong><em>no transit</em></strong><strong>) in OSPF?</strong> I’ve seen designs where an IBM mainframe was a single link failure away from becoming a transit router.</p>
<p>Finally, server-to-network interface is usually a trust boundary, and <strong>I don’t believe in running OSPF across trust boundaries</strong>. Maybe that’s less of an issue if the same team controls the servers and the network, and runs the same routing software on both, but I definitely wouldn’t run OSPF with just any software that happens to be lying around on a host.</p>
<p>Or maybe it’s just that <strong>I like BGP</strong> and keep inventing reasons why it’s the best tool for the $job.</p>
<p>Want to know more? There’s 8 hours of goodies waiting for you in <a href="http://www.ipspace.net/Leaf-and-Spine_Fabric_Designs">Leaf-and-Spine Fabric Designs webinar</a>.</p>

