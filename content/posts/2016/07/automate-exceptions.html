---
date: 2016-07-12T12:08:00.000+02:00
tags:
- automation
title: Automate the Exceptions
url: /2016/07/automate-exceptions.html
---

<p>Every time I have a network automation presentation (be it a <a href="http://www.ipspace.net/Hands-On_Network_Automation">2-day workshop</a> or a <a href="https://video.arnes.si/portal/asset.zul%3barnesvideo=F73D4DD252DA23E310E0E7C1FD92BBC45BBF6516A4976D30CB9158C93123FF72?id=w1JhPXXB7ZIeLdXWUF355Dzp">45 minute keynote</a>) I get the same question afterwards: “<em>How do we deal with exceptions?</em>”</p>
<p>The correct answer is obvious: “<em>there should be no exceptions, because one-offs usually cost you more than you earn with them</em><em>,</em>” but as always the reality tends to intervene.<!--more--></p>
<p>There’s also the interesting challenge of rolling out pilot services: you don’t want to start modifying your orchestration platform until you’re pretty sure the new service will sell, which means you cannot provision the service, so it will never sell. A perfect Catch-22.</p>
<p>However, <a href="https://www.linkedin.com/in/rokpapez">Rok Papež</a> (a great engineer working on network automation within ARNES – Slovenian academic ISP) described a nice workaround while we chatted after <a href="https://video.arnes.si/portal/asset.zul?id=w1JhPXXB7ZIeLdXWUF355Dzp">my talk at recent SINOG event</a>: they store the non-automated part of the device configuration (configuring the pilot services) in an extra field in their configuration management database, and append it to the configuration generated from device/service data model through standardized templates.</p>
<p>Now imagine you go one step further: instead of storing non-standard parts of device configuration your database contains configuration snippets for every non-standard (pilot or exception) user/service/device triplet. This approach makes it extremely easy to:</p>
<ul class="ListParagraph"><li>Identify all pilot services and all exceptions;</li>
<li>Identify which users have non-standard services;</li>
<li>Verify whether a user has non-standard configuration before you start the troubleshooting process (and maybe escalate the ticket before wasting time trying to figure out what the deployment engineer had in mind);</li>
<li>See how the engineers configured those services on individual devices before trying to configure a similar solution for the next customer;</li>
<li>Verify that the orchestration system generates equivalent per-service configuration once the pilot service becomes part of the standard offering;</li>
<li>Clean up non-standard parts of the configuration once you migrate the users of pilot services to new standardized services.</li>
</ul>
<p>Thank you, Rok! You gave me a reasonable answer to a pretty tough challenge ;)</p>

