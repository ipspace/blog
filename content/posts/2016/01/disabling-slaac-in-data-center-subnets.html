---
title: "Disabling SLAAC in Data Center Subnets"
date: "2016-01-26T07:43:00.000+01:00"
tags: [ IPv6,Data Center ]
---

<p>Continuing the IPv6 address selection discussion we have a few days ago, Luka Manojlovič sent me a seemingly workable proposal:</p>
<blockquote class="cite">I think we were discussing a borderline problem. In a server environment there won’t be any SLAAC, and we could turn off DHCPv6 client on servers with fixed IP addresses.</blockquote>
<p>Sounds great, but as always, the reality tends to be a bit harsher.<!--more--></p>
<p>The crucial question is: can you turn off <a href="http://blog.ipspace.net/2012/11/ipv6-router-advertisements-deep-dive.html"><em>autoconfiguration </em>flag</a> in individual prefixes advertised in RA messages? As always, the answer is <em>it depends</em>.</p>
<p>I checked latest configuration guides from Cisco (Nexus 9300), Juniper (QFX5200, Junos release 15.1), Arista (EOS 14.5) and HP (5900 switches). All these switches allow you to configure flags on every single prefix advertised in router advertisement… apart from QFX5200 where it seems like you can’t do a thing (even though <a href="http://www.juniper.net/techpubs/en_US/junos15.1/topics/reference/configuration-statement/autonomous-edit-protocols-router-advertisement.html">RA twiddling was available before Junos version 7.4</a> on MX-series routers).</p>
<p><strong>Moral of the story</strong>: do a thorough check of how well your vendor supports obscure IPv6 features that might become crucial in your IPv6 deployment, and if you're struggling with it, turn to specialists like <a href="http://www.nil.com/assets/Priloge-ENG/SOLUTIONS/2.-Networking/NIL-Case-Study-Amway-Networking-IPv6.pdf">NIL</a> or <a href="https://www.insinuator.net/tag/ipv6/">ERNW</a>.</p>
<p>As always, there’s an alternative: <a href="http://www.excaliburtech.net/archives/192">disable RA processing on Windows servers</a>, and use static default routing and <a href="http://blog.ipspace.net/2012/12/do-we-need-fhrp-hsrp-or-vrrp-for-ipv6.html">IPv6 VRRP</a>. Welcome back to the 90s.</p>
<div class="separator"><a href="/2016/01/s1600-3977613.jpg" imageanchor="1"><img border="0" src="/2016/01/s320-3977613.jpg"/></a></div>

