---
date: 2015-08-04T12:26:00.003+02:00
tags:
- SDN
- NFV
- performance
title: Can Virtual Routers Compete with Physical Hardware?
url: /2015/08/can-virtual-routers-compete-with.html
---

<p>One of the participants of the Carrier Ethernet LinkedIn group <a href="https://www.linkedin.com/grp/post/77819-6033290213776703491">asked a great question</a>:</p>
<blockquote class="cite">When we install a virtual-router of any vendor over an ordinary sever (having general-purpose microprocessor), can it really compete with a physical-router having ASICs, Network Processors…?</blockquote>
<p>Short answer: No … and here’s my longer answer (cross-posted to my blog because not all of my readers participate in that group).<!--more--></p>
<p>While the <a href="http://blog.ipspace.net/2014/11/quick-peek-juniper-vmx-router.html">software-only forwarding process can reach 200 Gbps or more</a> on a multi-core Xeon server, you cannot get anywhere close to the pps-per-$ price point of equivalent hardware solution.</p>
<p class="info">Before someone starts making list price comparisons, do keep in mind that when you buy a switch or a router from a mainstream manufacturer, you're not paying for the hardware, but (mostly) for software and support, as well as sales and marketing expenses. Hardware is usually less than 30% of the total costs (just look at gross margin from any major networking hardware vendor).</p>
<p>On the other hand, <a href="http://blog.ipspace.net/2014/06/virtual-routers-101.html">lower-speed routers use CPU-based forwarding anyway</a> - replacing them with VM-based form factor (virtual router) is a no-brainer.</p>
<p>Finally, while it might make sense (from speed-of-deployment perspective) to use virtual routers, <a href="http://blog.ipspace.net/2015/04/article-is-nfv-relevant-for-enterprise.html">many NFV deployments I see today</a> deploy virtual firewalls, protocol translation/termination, load balancers or DPI devices. The appliance version of these devices usually uses CPU-based forwarding anyway (potentially augmented by an internal switch to ensure traffic is distributed deterministically to multiple cores) - yet again making them a perfect fit for VM-based deployment.</p>
<p class="warn">The <a href="http://blog.ipspace.net/2013/04/virtual-appliance-performance-is.html">only good reason I found so far for hardware-assisted appliance functionality</a> is RSA key exchange in SSL termination. This process is really slow when done in software, and can be done much faster on dedicated coprocessors.</p>
<p>For more details on NFV forwarding performance, register for my <a href="http://www.ipspace.net/NFV">NFV webinar</a>.</p>

