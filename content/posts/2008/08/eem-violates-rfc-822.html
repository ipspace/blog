---
url: /2008/08/eem-violates-rfc-822.html
title: "EEM violates RFC 822"
date: "2008-08-18T07:28:00.000+02:00"
tags: [ EEM ]
---

<div class="bloggerBody"><p>Justin sent me an interesting problem description:</p>
<blockquote class="cite">Emails that come from EEM don't have a body, it just puts anything after the <strong>body</strong> keyword in the subject.</blockquote>
<p>I quickly wrote a simple EEM applet ...</p>
<pre class="code">event manager applet MailTest<br/> event none<br/> action 1 mail server "10.0.0.10" to "c@d" from "a@b" â†’<br/>  subject "eeee" body "ffff"</pre><p>... and started it with <strong>event manager run MailTest</strong>. The <a href="http://wiki.nil.com/Simple_SMTP_server_in_PERL">simple SMTP server I'm using for debugging EEM</a> printed out the following message content:</p>
<pre class="code">Incoming mail ... from 10.0.0.1 received<br/>From: &lt;a@b&gt;<br/>To:   &lt;c@d&gt;<br/><br/>Date: Fri, 01 Mar 2002 00:01:34 +0000<br/>Message-ID: &lt;00002002000135003@R1&gt;<br/>From: a@b<br/>To: c@d<br/>Subject: eeee<br/>ffff</pre><p>As you can see, there is no empty line between the <em>Subject </em>header and the message body. A <a href="http://tools.ietf.org/html/rfc822">quick look in RFC 822</a> confirmed that there should be an empty line separating headers from the message body:</p>
<pre class="code">message =  fields *( CRLF *text )</pre><p>Conclusion: EEM is not RFC822-compliant e-mail client.</p>
<p class="Warning">Hint to EEM developers: if it works with <em>sendmail</em>, it's not necessarily correct.</p>
</div>
<p class="more">This article is part of <a href="http://ioshints.blogspot.com/2007/01/youve-asked-for-it-series.html">You've asked for it</a> <a href="http://ioshints.blogspot.com/search/label/You%27ve%20asked%20for%20it">series</a>.</p>

