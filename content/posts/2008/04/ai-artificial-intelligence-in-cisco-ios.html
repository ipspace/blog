---
url: /2008/04/ai-artificial-intelligence-in-cisco-ios.html
title: "AI (Artificial Intelligence) in Cisco IOS release 12.4T"
date: "2008-04-15T07:04:00.007+02:00"
tags: [ OSPF ]
---

Years ago, when the "fourth-generation computers" (looks like <a href="http://wiki.answers.com/Q/What_are_the_five_generation_of_computer_how_are_they_classified">they've been renumbered to the fifth generation</a> in the meantime) were as hot as Web 2.0 is today, we started talking about the generation after that which you could control with statements like “Do what I don't know how” ... and some of that mentality is already built into Cisco IOS.<br/><br/>In a comment to my recent <a href="http://blog.ioshints.info/2008/04/technology-is-supposed-to-be-simple.html">NTP-related post mentioning OSPF configuration</a>, Wan Tajuddin <a href="http://blog.ioshints.info/2008/04/technology-is-supposed-to-be-simple.html?showComment=1208142000000#c1375575532105655159">correctly stated that the OSPF <strong>network</strong> statement should contain the wildcard bits</a>, not the subnet mask. But I was positive I had running networks with the <b>network 0.0.0.0 0.0.0.0 area 0</b> OSPF configuration, so it was time for one more lab test. As it turns out, at least the IOS release 12.4T accepts either the wildcard bits or the subnet mask and figures out which one you've used.<!--more-->Here is the printout from the test run. First the traditional configuration:<pre class="code">R1#<strong>show run ¦ sect router ospf</strong><br/>router ospf 1<br/> log-adjacency-changes<br/><span class="high"> network 0.0.0.0 255.255.255.255 area 0</span><br/>R1#<strong>show ip ospf interface brief</strong><br/>Interface    PID   Area  IP Address/Mask    Cost  State Nbrs F/C<br/>Lo0          1     0     10.0.1.1/32        1     LOOP  0/0<br/>Se1/1        1     0     10.0.7.5/30        70    P2P   1/1<br/>Se1/0        1     0     10.0.7.1/30        64    P2P   1/1<br/>Fa0/0        1     0     10.0.0.1/24        10    WAIT  0/0</pre>The configuration uses the wildcard bits and all interfaces are in area 0 as expected. Now let's try to specify the 0.0.0.0/0 network: <blockquote class="code">R1#<strong>conf t</strong><br/>Enter configuration commands, one per line. End with CNTL/Z.<br/>R1(config)#<strong>no router ospf 1</strong><br/>Mar 1 00:09:37.640: %OSPF-5-ADJCHG: Process 1, Nbr 10.0.1.3 on Serial1/1 from FULL to DOWN, Neighbor Down: Interface down or detached<br/>Mar 1 00:09:37.648: %OSPF-5-ADJCHG: Process 1, Nbr 10.0.1.2 on Serial1/0 from FULL to DOWN, Neighbor Down: Interface down or detached<br/>R1(config)#<strong>router ospf 1</strong><br/>R1(config-router)#<strong>network 0.0.0.0 0.0.0.0 area 0</strong><br/>R1(config-router)#^Z<br/>R1#<br/>Mar 1 00:09:50.944: %OSPF-5-ADJCHG: Process 1, Nbr 10.0.1.3 on Serial1/1 from LOADING to FULL, Loading Done<br/>Mar 1 00:09:51.104: %OSPF-5-ADJCHG: Process 1, Nbr 10.0.1.2 on Serial1/0 from LOADING to FULL, Loading Done<br/>R1#<strong>show ip ospf interface brief</strong><br/>Interface PID Area IP Address/Mask Cost State Nbrs F/C<br/>Lo0       1   0       10.0.1.1/32  1    LOOP  0/0<br/>Se1/1     1   0       10.0.7.5/30 70    P2P   1/1<br/>Se1/0     1   0       10.0.7.1/30 64    P2P   1/1<br/>Fa0/0     1   0       10.0.0.1/24 10    WAIT  0/0</blockquote>
OK, it works for the default route, how about a specific subnet (10.0.7.0/24): <blockquote class="code">R1#<strong>conf t</strong><br/>Enter configuration commands, one per line. End with CNTL/Z.<br/>R1(config)#<strong>no router ospf 1</strong><br/>Mar 1 00:09:37.640: %OSPF-5-ADJCHG: Process 1, Nbr 10.0.1.3 on Serial1/1 from FULL to DOWN, Neighbor Down: Interface down or detached<br/>Mar 1 00:09:37.648: %OSPF-5-ADJCHG: Process 1, Nbr 10.0.1.2 on Serial1/0 from FULL to DOWN, Neighbor Down: Interface down or detached<br/>R1(config)#<strong>router ospf 1</strong><br/>R1(config-router)#<strong>network 10.0.7.0 255.255.255.0 area 0</strong><br/>R1(config-router)#^Z<br/>R1#<br/>Mar 1 00:09:50.944: %OSPF-5-ADJCHG: Process 1, Nbr 10.0.1.3 on Serial1/1 from LOADING to FULL, Loading Done<br/>Mar 1 00:09:51.104: %OSPF-5-ADJCHG: Process 1, Nbr 10.0.1.2 on Serial1/0 from LOADING to FULL, Loading Done<br/>R1#<strong>show ip ospf interface brief</strong><br/>Interface PID Area IP Address/Mask Cost State Nbrs F/C<br/>Se1/1     1   0    10.0.7.5/30     70   P2P   1/1<br/>Se1/0     1   0    10.0.7.1/30     64   P2P   1/1<br/></blockquote>
As expected, only the WAN interfaces <span style="color:red">with IP addresses in the specified IP address range</span> are in the OSPF process, so IOS properly recognizes <span style="color:red">IP prefix specifications including </span>subnet masks. OK, but let's see how the router stores the OSPF configuration:<pre class="code">R1#<strong>show running-config ¦ section router ospf</strong><br/>router ospf 1<br/> log-adjacency-changes<br/><span class="high"> network 10.0.7.0 0.0.0.255 area 0</span></pre>Cool. The router automatically inverts the subnet mask into wildcard bits, so even if you use the “wrong” format on the CCIE lab, the automatic grading program will get the expected results :)<div class="more"><p style="margin: 0 0">Further reading:</p>
<ul style="margin-top: 2pt"><li><a href="http://blog.ioshints.info/2007/07/be-smart-when-using-ospf-network.html">Be smart when using the OSPF network statement</a></li>
<li><a href="http://blog.ioshints.info/2006/11/network-statements-in-ospf-process-are.html">Network statements in the OSPF process are no longer order-dependent</a></li>
<li><a href="http://blog.ioshints.info/2007/07/network-statements-are-no-longer-needed.html">Network statements are no longer needed in OSPF configuration</a></li>
</ul>
</div>

