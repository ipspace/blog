---
date: 2008-10-13T07:20:00.004+02:00
tags:
- OSPF
- show filters
title: Display interfaces belonging to a single OSPF process
url: /2008/10/display-interfaces-belonging-to-single.html
---

<div class="bloggerBody"><p>I’m constantly <a href="https://blog.ipspace.net/2007/01/youve-asked-for-it-series.html">receiving</a> interesting OSPF-related queries. Obviously the many hidden details of the OSPF specs result in slightly unexpected behavior and constant amazement of engineers studying OSPF. During this week, I’ll focus on a few interesting OSPF intricacies.</p>
<p>Let’s start with an easy one: you can use the <strong>show ip ospf interface brief </strong>command if you want to display the OSPF interface status (including the interface area, OSPF cost, link type and router status on broadcast links). Unfortunately, this command does not allow you to specify the OSPF process ID and displays interfaces belonging to all OSPF processes (if you run multiple OSPF processes on the router).</p>
<!--more--><p>Here is a sample printout taken from a router running OSPF processes #2 and #13:</p>
<pre class="code">C1#<strong>show ip ospf interface brief</strong><br/>Interface    PID   Area    IP Address/Mask    Cost  State Nbrs F/C<br/>Lo102        2     22      10.2.2.2/32        1     LOOP  0/0<br/>Fa0/0        13    0       10.0.1.1/24        10    BDR   1/1<br/>Lo0          13    0       10.0.0.11/32       1     LOOP  0/0<br/>Se1/0.101    13    1       0.0.0.0/0          64    P2P   1/1<br/>Se1/0.100    13    1       0.0.0.0/0          64    P2P   1/1</pre><p>You can use an output filter to display the interfaces belonging to a single OSPF process. The filter is quite convoluted …</p>
<pre class="code">C1#<strong>show ip ospf interface brief | include ^[^ ]+ +1</strong><strong>3</strong><br/>Fa0/0        13    0       10.0.1.1/24        10    BDR   1/1<br/>Lo0          13    0       10.0.0.11/32       1     LOOP  0/0<br/>Se1/0.101    13    1       0.0.0.0/0          64    P2P   1/1<br/>Se1/0.100    13    1       0.0.0.0/0          64    P2P   1/1 </pre><p>… and works like this:</p>
<ul class="Bullet1"><li>The initial caret (^) matches the beginning of the line, ensuring that our filter will match exactly what it needs to match. Without the initial caret, the filter could generate a match anywhere in the line, potentially resulting in false positives.</li>
<li>The <tt class="high">[^ ]+</tt> pattern matches any non-empty (the + sign) string of non-space characters (the <tt class="high">[^ ]</tt> expression matches anything but the whitespace). This part of the pattern matches the interface name.</li>
<li>The <tt class="high"> +</tt> pattern matches the string of spaces between the interface name and the process ID.</li>
<li>The final part of the pattern (<tt class="high">13</tt>) matches the OSPF process ID.</li>
</ul>
<p class="info">You can transform this complex output filter into an easy Tcl script. See the “<a href="https://blog.ipspace.net/2008/06/simple-extensions-to-exec-mode-cli.html">Simple extensions to exec-mode CLI</a>” and “<a href="https://blog.ipspace.net/2008/07/simple-cli-extensions-handling-special.html">Simple CLI extensions: handling special characters</a>” posts.</p>
</div>

