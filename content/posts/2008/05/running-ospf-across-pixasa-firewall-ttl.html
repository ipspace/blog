---
url: /2008/05/running-ospf-across-pixasa-firewall-ttl.html
title: "Running OSPF across a PIX/ASA firewall: TTL details"
date: "2008-05-22T06:54:00.000+02:00"
tags: [ firewalls,security,OSPF ]
---

Sharath Samanth has recently asked an interesting question:<blockquote class="cite"><p>I have seen <a href="http://blog.ioshints.info/2007/10/running-ospf-across-firewall.html">the post on running OSPF across a PIX firewall</a>. Since I did not have a PIX, I tested the solution by replacing PIX with a router.</p>
<p>I had configured the neighbor statements on both routers, but the OSPF was failing to come up. The debug indicated that the router emulating PIX was sending time exceeded ICMP to both OSPF-speaking routers.</p>
<p>The OSPF hello by default has a TTL of 1 which I think is an issue with this scenario. Is there anything special thats done on PIX to get OSPF working?</p>
</blockquote>
<p>The answer is quite simple: PIX is not behaving like a router, but rather like a bridge with additional IP features (NAT and traffic filters). It does not decrement the TTL of a transit packet (which could lead to interesting loops if you badly mess up a redundant topology) â€¦ and I have to congratulate Sharath for an excellent diagnosis of the problem.<p class="more">This article is part of <a href="http://ioshints.blogspot.com/2007/01/youve-asked-for-it-series.html">You've asked for it</a> <a href="http://ioshints.blogspot.com/search/label/You%27ve%20asked%20for%20it">series</a>.</p>
</p>

