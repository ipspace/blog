---
url: /2008/01/ospf-default-route-based-on-ip-sla.html
title: "OSPF default route based on IP SLA"
date: "2008-01-24T07:32:00.000+01:00"
tags: [ OSPF,You've asked for it,IP routing ]
---

<p>Olivier Guillemain has asked an interesting question: “<em>how could I originate a default route into OSPF based on IP SLA (for example, based on pinging a remote IP address)?</em>”</p>
<p>This is very easy to do when the router originating the default route into OSPF needs an SLA-based default route itself:</p>
<ol><li>Configure IP SLA and a corresponding <strong>track</strong> object;</li>
<li>Configure a default route using <a href="https://blog.ipspace.net/2007/02/reliable-static-routing.html">reliable static routing</a></li>
<li><a href="https://blog.ipspace.net/2007/06/ospf-default-route-design-scenarios.html">Advertise the default route into OSPF</a> with the <strong>default-information originate</strong> router configuration command</li>
</ol>
<p>The solution is a bit more complex when the router originating the default route into OSPF should not have a default route. In this case, you could use a routing trick:</p>
<ol><li>Configure IP SLA and a corresponding <strong>track</strong> object as before;</li>
<li>Use <a href="https://blog.ipspace.net/2007/02/reliable-static-routing.html">reliable static routing</a> to configure a static host route for a bogus IP address (for example, <em>10.0.0.1/32</em>) pointing to <em>null0</em> (for example, <strong>ip route 10.0.0.1 255.255.255.255 null 0 track 100</strong>). Obviously this host route should not be redistributed into any routing protocol.</li>
<li><a href="https://blog.ipspace.net/2007/08/conditional-ospf-default-route-tested.html">Conditionally advertise default route into OSPF</a> based on presence of the static host route.</li>
</ol>
<p class="note"><span>Note: </span>This article is part of <a href="https://blog.ipspace.net/2007/01/youve-asked-for-it-series.html">You've asked for it</a> <a href="https://blog.ipspace.net/search/label/You%27ve%20asked%20for%20it">series</a>.</p>

