---
url: /2008/01/copy-text-files-into-router-flash.html
title: "Copy the text files into router's flash through a Telnet session"
date: "2008-01-13T07:17:00.000+01:00"
tags: [ Tcl,command line interface,configuration ]
---

Were you ever in a situation where a file that would have to be on the router was sitting on your laptop, but you couldn't store it into the router's flash across the Telnet session or through the console port?<br/><br/>If the file in question is a text file, and the router supports Tcl shell, <a href="https://blog.ipspace.net/2008/01/any-idea-how-to-generate-binary-output.html#c528977300927303174">danshtr</a> documented an <a href="http://www.internetworkpro.org/wiki/Edit_files_using_TCL">interesting trick</a>: you create the file in Tclsh interpreter, cut-and-paste the text through the telnet session into a Tcl string and write the string to the file. If you want to have a more cryptic solution here it is:<ul><li>Start <strong>tclsh</strong>;</li>
<li>Enter <b>puts [open "flash:<i>filename</i>" w+] {</b>. <i>Do not</i> hit the ENTER key at the end of the line</li>
<li>Copy-paste the file contents. The contents should not include unmatched curly right brackets (every curly right bracket has to be preceded by a matching curly left bracket).</li>
<li>After the file contents have been pasted, enter <b>}</b> and press ENTER.</li>
<li>End the <strong>tclsh</strong> session with <strong>tclquit</strong>.</li>
</ul>

