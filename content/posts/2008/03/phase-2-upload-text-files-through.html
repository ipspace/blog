---
url: /2008/03/phase-2-upload-text-files-through.html
title: "Phase 2: Upload text files through a Telnet session"
date: "2008-03-03T07:30:00.000+01:00"
tags: [ Tcl,command line interface ]
---

In a previous post, I've described how you can <a href="/2008/01/copy-text-files-into-router-flash.html">use Tcl shell to upload text content into router's flash</a> if the router has no connectivity to a suitable file server (or you don't have FTP or TFTP server handy).<br/><br/>The trick works flawlessly, but typing the same obscure Tcl commands gets tedious after a while, so the first time I had to use this solution to develop a Tcl script, I've quickly written another script that takes file name as the parameter and hides all the other murky details.<br/><br/>To use it, transfer <a href="http://www.zaplana.net/Articles/index.asp?view=tcl/storeFile.tcl">the contents of storeFile.tcl</a> (available from <a href="http://www.zaplana.net/Articles/index.asp?a=tcl">my web site</a>) to the router's flash (using the <a href="/2008/01/copy-text-files-into-router-flash.html">previously described trick</a>), follow the <a href="http://www.zaplana.net/Articles/index.asp?view=tcl/storeFile.tcl">installation instructions in the source</a> and you're ready to go.<p class="note"><span>Note: </span>You can adapt the Tcl script to your needs; for example, you could add instructions to re-register EEM Tcl policy every time you upload the new code.</p>

