---
date: 2013-05-15T06:35:00.000+02:00
tags:
- data center
- workshop
- cloud
- virtualization
title: Data Has Mass and Gravity
url: /2013/05/data-has-mass-and-gravity.html
---

<p>A while ago, while listening to an <a href="http://www.thecloudcast.net/2012/05/cloudcast-eps37-paas-meets-data-gravity.html">interesting CloudCast podcast</a> (my second favorite podcast - the best one out there is still the Packet Pushers), I stumbled upon an interesting idea “<a href="http://datagravity.org">Data has gravity</a>”. The <a href="http://blog.mccrory.me">podcast guest</a> used that idea to explain how data agglomerates in larger and larger chunks and how it makes sense to move the data processing (application) closer to the data.<!--more--></p>
<p class="more">Look up the <a href="http://datagravity.org/2012/06/26/a-formula-for-data-gravity/">data gravity formula</a> on datagravity.org. It’s almost identical to <a href="http://en.wikipedia.org/wiki/Newton's_law_of_universal_gravitation">Newton’s law of universal gravitation</a>, with latency adjusted for bandwidth playing the part of distance.</p>
<p>Having spent the last few months as an occasional “physics consultant” for my high-school daughter, I loved the idea, quickly mentally transformed it to “Data has mass” (which then generates gravity) and immediately started drawing additional parallels that you should keep in mind every time someone starts blabbering about long-distance VM migration or cloudbursting.</p>
<p class="note"><strong>Cloudbursting</strong> (noun) - the "visionary" idea of dynamically moving workloads into the cloud, while forgetting the dirty details like IP routing, access to data, latency, bandwidth and a few other minor details. Works best in the reality-distortion field of PowerPoint presentations.</p>
<p><strong>Data is hard to move.</strong> The energy needed to move an object is proportional to object's mass and the speed with which you want to move the object. In networking terms: you need more bandwidth (more energy) or more time (because you're moving data at lower speed). The <a href="http://www.thecloudcast.net/2013/04/the-cloudcast-eps81-data-gravity-meets.html">follow-up CloudCast podcast</a> has a great example of someone who spent four days moving the data so he could run a 15-minute computation on it.</p>
<p><strong>Data creates </strong><strong>gravity well</strong>. You have to reach <a href="http://en.wikipedia.org/wiki/Escape_velocity">pretty high speed</a> (and spend a significant amount of energy) if you want to escape from a large mass. In application terms: Once an application (and its users) becomes accustomed to low latency access to data, it takes an enormous amount of energy to move that application somewhere else, sometimes requiring a total rewrite of the application (see also: going from Cessna to Space Shuttle). </p>
<p class="more">Here’s the <a href="http://en.wikipedia.org/wiki/Gravity_well">more formal explanation of gravity well</a>. As is usually the case, xkcd provides a <a href="http://xkcd.com/681/">more down-to-Earth explanation</a>.</p>
<p>A similar phenomenon (although on a smaller scale, because vMotion limits latency to 10msec) happens when you vMotion a live VM away from its data. In the famous white paper where Cisco, EMC and VMware managed to move a running SQL server into another data center, the performance dropped by ~30% until they made the LUN closer to the VM active. If you ever had the "privilege" of talking with someone over a satellite connection, you know how that poor SQL server felt.</p>
<p>In more humorous terms, the further away from the data the application is, the lower the data’s gravity force is … until the application gets (v)motion sickness from lack of gravity ;)</p>
<p><strong>Data attracts more data.</strong> An obvious corollary to the previous two facts: as you don't move the data (because it's too bulky) and the applications using the data live close to it (to enjoy the low-latency environment), those applications generate even more data. The bulky data heap only grows, generating an even higher gravity well.</p>
<p><strong>Disclaimer:</strong> I'm not saying that "moving workloads into the cloud" is hogwash. What I'm saying is that a move to the cloud must be a conscious, well-planned decision and that you have to figure out what to do with the data before moving the compute workload … a fact that is well obscured by point-and-click eye candy offered by several vendors (you know, you just click on a VM … and **unicorn magic** it runs in the cloud).</p>

