---
url: /2007/02/store-your-eem-tcl-policies-in-nvram/
title: "Store your EEM Tcl policies in NVRAM"
date: "2007-02-24T13:28:00.001+01:00"
tags: [ Tcl,EEM ]
---

Embedded Event Manager is a bit picky about the location of the EEM Tcl policies: although they are loaded into RAM when registered, they have to reside on the router itself. If you have a low-end router with no flash disk (I'm using 2800-series routers) or USB flash and you don't want to mess with your flash: device (to prevent accidental erasure), the only other place left is NVRAM:. Surprisingly, it works.<!--more-->First you define the directory where your EEM policies will be stored with the <strong>event manager directory user policy nvram:/</strong> configuration command. Then you use the copy command to transfer Tcl file into NVRAM (for example, <strong>copy tftp://10.0.0.10/tcl/ep.tcl nvram:ep.tcl</strong>). Now you can register the policy with the <strong>event manager policy <em>name</em></strong> configuration command.<p class="important">To clean the NVRAM after you're done, use <b>erase /all nvram:</b> command, otherwise your files will be left there (even after <b>write erase</b>).</p>

