---
url: /2007/04/warm-reload/
title: "Warm reload"
date: "2007-04-11T11:15:00.000+02:00"
tags: [ network management,command line interface ]
---

The <a href="http://www.cisco.com/univercd/cc/td/doc/product/software/ios123/123newft/123t/123t_2/gtwrmrbt.htm">Warm Reload</a> functionality introduced in IOS release 12.3(2)T significantly reduces the reload time. In my test lab, the reload time of a Cisco 2800 router booting from flash was reduced from 135 to 54 seconds as measured by the <em>%SYS-6-BOOTTIME: Time taken to reboot after reload ...</em> syslog message.<br/><br/>The theory behind warm reload is simple: the router saves initial data (as stored in IOS image) in a separate memory region and reuses saved data together with IOS code already residing in RAM to restart IOS. Of course, the IOS code (depending on platform's memory management capabilities) or saved data could get corrupted, therefore the warm reload cannot be used continuously (and the router falls back to traditional reload if the router crashes before a specified time interval).<br/><br/>Warm reload is configured with the <strong>warm-reboot count <em>number</em> uptime <em>minutes</em></strong> configuration commands. After it has been configured, a router reload (or power-up) is needed to initialize the saved data region. When the warm reboot is operational (as verified with the <strong>show warm-reboot</strong> command), you can use <strong>reload warm</strong> command to start it.<!--more-->The output of the show warm-reboot command displays all the relevant setup parameters as well as the amount of memory used by this feature:<pre class="code">a2#<strong>show warm-reboot</strong><br/>Warm Reboot is enabled<br/>Maximum warm reboot count is 5<br/>Uptime after which warm reboot is safe in case of a crash is 2 (min)<br/><br/>Statistics:<br/><br/>0 warm reboots due to crashes and 0 warm reboots due to requests <br/>have taken place since the last cold reboot<br/>2823 KB taken up by warm reboot storage</pre>The saved data region is also displayed with the <strong>show region</strong> command:<pre class="code">a2#<strong>show region</strong><br/>Region Manager:<br/><br/>      Start         End     Size(b)  Class  Media  Name<br/> 0x0F400000  0x0FFFFFFF    12582912  Iomem  R/W    iomem:(uncached_iomem_region)<br/> 0x3F400000  0x3FFFFFFF    12582912  Iomem  R/W    iomem<br/> 0x40000000  0x4F3FFFFF   255852544  Local  R/W    main<br/> 0x4000F000  0x431DFFFF    52236288  IText  R/O    main:text<br/> 0x431E0000  0x45F8C25F    47891040  IData  R/W    main:data<br/> 0x45F8C260  0x465FFA5F     6764544  IBss   R/W    main:bss<br/><span class="high"> 0x465FFA60  0x468C19AF     2891600  Local  R/W    main:saved-data</span><br/> 0x468C19B0  0x4F3FFFFF   146007632  Local  R/W    main:heap<br/> 0x80000000  0x8F3FFFFF   255852544  Local  R/W    main:(main_k0)<br/> 0xA0000000  0xAF3FFFFF   255852544  Local  R/W    main:(main_k1)</pre>

