---
url: /2007/11/impact-of-cef-accounting.html
title: "Impact of CEF accounting"
date: "2007-11-07T06:43:00.000+01:00"
tags: [ CEF ]
---

<a href="http://www.blogger.com/profile/07308153695533497191">Jozef Janitor</a> wrote a <a href="https://blog.ipspace.net/2007/09/cef-accounting.html#comment-4359278042104388785">highly relevant comment</a> to <a href="https://blog.ipspace.net/2007/09/cef-accounting.html">my post on CEF accounting</a>: enabling it on a Catalyst switch drastically reduces its performance. The impact of CEF accounting (or other forwarding plane features) depends on switching implementation:<ul><li>There is almost no impact on single-CPU software platforms; the router has to perform CEF lookup anyway and increases the CEF accounting counters on-the-fly;</li>
<li>Distributed software platforms are more complex, as the central CPU has to (at the very least) collect the switching statistics.</li>
<li>The impact on hardware platforms is dependent on the layer 3 lookup implementation</li>
</ul>
In the case of a Catalyst 3550 switch, the L3 TCAM it uses to support IP routing, PBR and access-lists is so different from the CEF data structures that IOS has to fall back to software L3 switching to collect CEF accounting data.

