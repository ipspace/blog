---
title: "OSPF default route: design scenarios"
date: "2007-06-28T07:42:00.001+02:00"
tags: [ OSPF,You've asked for it,IP routing ]
---

<iframe border="0" frameborder="0" height="150" marginheight="0" marginwidth="0" scrolling="no" src="http://rcm-na.amazon-adsystem.com/e/cm?t=cisioshinandt-20&amp;o=1&amp;p=6&amp;l=st1&amp;mode=books&amp;search=Cisco%20OSPF&amp;fc1=000000&lt;1=&amp;lc1=3366FF&amp;bg1=FFFFFF&amp;f=ifr" style="border:none; float:right;" width="120"></iframe>In his comment, <a href="http://ioshints.blogspot.com/2007/06/inserting-default-route-into-ospf.html">Maher has asked an interesting question</a>:<blockquote class="cite">“Which one is better: <strong>default-information originate</strong> or <strong>default-information originate always</strong>?”</blockquote>
<p>As always, the answer is <em>it depends</em>. If your OSPF edge routers have external default routes (for example, static default routes toward the Internet, see the next diagram), you'd want them to announce the default route only when they have a default themselves (otherwise they would attract the traffic and then blackhole it). In this case, you'd use <strong>default-information originate</strong>.</p>
<p class="image"><a href="http://bp0.blogger.com/_K_pkZO5-tTg/RoIaEBG0pSI/AAAAAAAAAGo/WvK4LQoC914/s1600-h/OSPF_A.jpg"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5080651985946191138" src="http://bp0.blogger.com/_K_pkZO5-tTg/RoIaEBG0pSI/AAAAAAAAAGo/WvK4LQoC914/s400/OSPF_A.jpg" style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;"/></a></p>
<p>If you use something else than OSPF as the core routing protocol of your network (as shown in the next diagram), then you'd want the core routers to announce the default route into OSPF to attract the traffic from the edges regardless of whether they have the default route themselves or not. In this scenario, you'd use <strong>default-information originate always</strong>.</p>
<p class="image"><a href="http://bp1.blogger.com/_K_pkZO5-tTg/RoIa7RG0pTI/AAAAAAAAAGw/46Mzi4LLu1k/s1600-h/OSPF_B.jpg"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5080652935133963570" src="http://bp1.blogger.com/_K_pkZO5-tTg/RoIa7RG0pTI/AAAAAAAAAGw/46Mzi4LLu1k/s400/OSPF_B.jpg" style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;"/></a></p>
<p class="info">BGP is almost always the core routing protocol of Service Provider networks. You can also use it to make a large enterprise network scalable.</p>
<p>Last but not least, in OSPF+BGP scenario, you might want a core router to announce a default route only if it has at least some non-OSPF routes (to prevent an isolated core router from attracting and blackholing the traffic). The command to use is <strong>default-information originate always route-map <em>name</em></strong>, which would generate a default route into OSPF only if at least one prefix from the IP routing table matches the specified route map.</p>
<p class="more">This article is part of <a href="http://ioshints.blogspot.com/2007/01/youve-asked-for-it-series.html">You've asked for it</a> <a href="http://ioshints.blogspot.com/search/label/You%27ve%20asked%20for%20it">series</a>.</p>

