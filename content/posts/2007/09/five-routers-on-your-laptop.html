---
date: 2007-09-22T12:12:00.000+02:00
tags: []
title: Five routers on your laptop
url: /2007/09/five-routers-on-your-laptop/
---

In case you've missed yesterday's post â€¦ the <a href="http://picasaweb.google.com/IPepelnjak/KraKiRobOdRnegaKalaDoPodpeI">weather was just way too good</a> to stay in the office :) However, even if I would decide to work on my routers, I could take them with me (well, the laptop would be a bit heavy and the sun was too bright) thanks to <a href="http://www.ipflow.utc.fr/index.php/Main_Page">Christophe Fillot</a> (<a href="http://www.ipflow.utc.fr/index.php/Cisco_7200_Simulator">Dynamips</a>) and Greg Anuzelli (<a href="http://dynagen.org/">Dynagen</a>). <br/><br/>In case you haven't heard about Dynamips/Dynagen yet: Dynamips emulates a variety of IOS platforms (from 2600 to 7200) on Intel platform and Dynagen provides friendlier user interface (more than friendly enough for me, probably too cryptic for GUI addicts). I've seen Dynamips a year or two ago, checked what it can do and decided to stay with the real routers in a remote lab environment. In the meantime, the software has improved drastically, allowing you to test all sorts of IOS features and topologies, as long as you don't expect QoS to work or real-time features to act in real-time (simulation is, after all, a bit slower than the real life).<br/><br/>To start using this tool, <a href="http://sourceforge.net/project/showfiles.php?group_id=160317">download it</a> from <a href="http://dynagen.org/">dynagen.org</a>, <a href="http://dynagen.org/tutorial.htm">read the tutorial</a> and you're in business. I will also start providing more interesting scenarios in the dynagen configuration file format. <br/><br/>Let me conclude with a few tips:<ul><li>If you don't need 7200-specific features, select 37xx or 26xx platform, it consumes less virtual memory per router.</li>
<li>Setting <em>idlepc</em> is mandatory if you want to have decent response. Read the tutorial, <a href="http://dynagen.org/tutorial.htm#_Toc176827651">the idlepc section</a> is great.</li>
<li>Unzip the IOS files. With uncompressed files, the routers are ready to be configured in under a minute on my laptop; if the IOS image is compressed, it takes several minutes.</li>
<li>If you have larger topologies, use GhostIOS and Sparsemem features.</li>
<li>Reduce the size of NVRAM and Flash to minimum that would work. These are stored as persistent files on your disk; you can have 256MB Flash if you want, but then you'll have 256MB less of your hard drive (per router).</li>
</ul>
<p>With all the above-mentioned features enabled, I was easily running eight 3700-series routers on my laptop (IBM T60).</p>

