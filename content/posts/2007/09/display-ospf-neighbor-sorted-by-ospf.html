---
url: /2007/09/display-ospf-neighbor-sorted-by-ospf.html
title: "Display OSPF neighbor sorted by OSPF process ID"
date: "2007-09-17T07:45:00.000+02:00"
tags: [ OSPF,Tcl,Show filters ]
---

I had two issues with the <strong>show ip ospf neighbors</strong> command:<ul><li>It is not sorted by the OSPF process ID, so you get a mess if you have more than one OSPF process and don't specify the process ID in the <strong>show</strong> command</li>
<li>It does not display the OSPF area the neighbor belongs to</li>
</ul>
To fix both problems, I wrote a Tcl script that displays OSPF neighbors sorted by process ID and includes the fields I wanted to have. To install it on your router:<ol><li><a href="http://www.zaplana.net/Articles/index.asp?load=tcl/ospfNeighbors.tcl">Download it</a> from <a href="http://www.zaplana.net/Articles/index.asp?a=tcl">my web site</a>.</li>
<li>Copy the ospfNeighbors.tcl file to your router's flash (<a href="http://ioshints.blogspot.com/2007/02/store-your-eem-tcl-policies-in-nvram.html">or NVRAM</a>).</li>
<li>Define an alias, for example <strong>alias exec ospf tclsh flash:ospfNeighbors.tcl</strong>.</li>
</ol>
<!--more-->Here is a sample printout produced on my lab router:<pre class="code">a1#<strong>ospf</strong><br/><br/>OSPF neighbors for process ID 1<br/><br/>Router ID       Area    State      Address         Interface<br/>172.16.0.21     0       FULL       172.16.1.2      Serial0/0/0.100<br/>172.16.0.12     0       FULL/DR    10.0.0.6        FastEthernet0/0<br/><br/>OSPF neighbors for process ID 2<br/><br/>Router ID       Area    State      Address         Interface<br/>172.16.1.5      2       FULL       10.3.1.2        Serial0/1/0</pre>

