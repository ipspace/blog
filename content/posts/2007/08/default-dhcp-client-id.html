---
url: /2007/08/default-dhcp-client-id/
title: "Default DHCP client-id"
date: "2007-08-09T08:21:00.000+02:00"
tags: [ DHCP ]
---

If you configure a Cisco router as a DHCP client, you'll notice that it uses weird <em>client-id</em> in its DHCP requests (assuming you care about client IDs on the DHCP server). Instead of using the interface MAC address as the client ID (as most workstations do), the client ID is the string 'cisco-dotted.mac.ascii-ifname' where the <em>dotted.mac.ascii</em> is the interface MAC address in ascii and the <em>ifname</em> is the short interface name.<br/><br/>Obviously, if your ISP checks your MAC address (and at least most cable operators do), you might have a problem. To make the router behave like a workstation, use the <strong>ip address dhcp client-id <em>interface-name</em></strong> configuration command. The new client ID will be the MAC address of the specified interface (which can be different from the interface you're configuring).<!--more-->You can inspect the actual client ID in ASCII and hex with the <strong>debug dhcp detail</strong>. This is a sample default DHCP request packet:<pre class="code">DHCP: SRequest attempt # 1 for entry:<br/>Temp IP addr: 172.18.0.3 for peer on Interface: FastEthernet0/1<br/>Temp sub net mask: 255.255.255.0<br/>DHCP Lease server: 172.18.0.1, state: 5 Renewing<br/>DHCP transaction id: 2578<br/>Lease: 600 secs, Renewal: 300 secs, Rebind: 525 secs<br/>Next timer fires after: 00:03:46<br/><span class="high"> Retry count: 1 Client-ID: cisco-0016.c85e.fbc9-Fa0/1<br/>Client-ID hex dump: 636973636F2D303031362E633835652E<br/>666263392D4661302F31</span><br/>Hostname: a1</pre>... and this is a DHCP request packet after the <strong>client-id</strong> option has been attached to the <strong>ip address dhcp</strong> command.<pre class="code">Temp IP addr: 0.0.0.0 for peer on Interface: FastEthernet0/1<br/>Temp sub net mask: 0.0.0.0<br/>DHCP Lease server: 0.0.0.0, state: 9 Purging<br/>DHCP transaction id: 5CD<br/>Lease: 0 secs, Renewal: 0 secs, Rebind: 0 secs<br/>Next timer fires after: 00:00:26<br/><span class="high"> Retry count: 0 Client-ID: 0016.c85e.fbc9<br/>Client-ID hex dump: 0016C85EFBC9</span><br/>Hostname: a1</pre>

