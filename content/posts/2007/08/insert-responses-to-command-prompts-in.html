---
url: /2007/08/insert-responses-to-command-prompts-in.html
title: "Insert responses to command prompts in Tclsh"
date: "2007-08-27T07:27:00.001+02:00"
tags: [ Tcl,You've asked for it ]
---

I have been aware of the <a href="http://www.cisco.com/en/US/products/sw/iosswrel/ps5207/products_feature_guide09186a00801a75a7.html#wp1027195"><strong>typeahead</strong></a> Tcl command for months, but somehow I never got it to work. It works perfectly in IOS release 12.4(15)T (it might have something to do with <a href="https://blog.ipspace.net/2007/08/you-fix-some-you-break-some.html">other fixes to Tclsh</a>), so to clear interface counters (<a href="https://blog.ipspace.net/2007/04/execute-multiple-commands-at-once.html#comment-1688346259298046702">as Michal would like to do</a>), this is what you can do:<pre class="code">typeahead "y"<br/>exec "clear counter dialer 0";</pre><!--more--><strong>Warning: </strong>if the input is not consumed by the executed commands, it stays in the typeahead buffer; quite dangerous if you have a sequence of commands, as the wrong command could be acknowledged. <p class="info">An <a href="http://wiki.nil.com/Insert_responses_to_command_prompts_in_Tclsh">in-depth version of this article</a> is available in the CT3 wiki.</p>
<div class="more"><p>You can find more Tclsh-related information in the <a href="http://wiki.nil.com/Tclsh_on_Cisco_IOS_tutorial">Tclsh on Cisco IOS tutorial</a>. Sample Tclsh scripts are available in the <a href="http://wiki.nil.com/Tclsh_script_library">Tclsh script library</a>. If you need expert help in planning, developing or deploying Tclsh scripts in your network, <a href="https://www.ipspace.net/Contact">contact the author</a>.</p>
<p>This article is part of <a href="https://blog.ipspace.net/2007/01/youve-asked-for-it-series.html">You've asked for it</a> <a href="https://blog.ipspace.net/search/label/You%27ve%20asked%20for%20it">series</a>.</p>
</div>

