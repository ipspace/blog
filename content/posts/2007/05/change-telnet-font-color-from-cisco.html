---
date: 2007-05-23T08:29:00.000+02:00
tags:
- command line interface
- you've asked for it
title: Change the Telnet font color from a Cisco router
url: /2007/05/change-telnet-font-color-from-cisco.html
---

I've recently <a href="https://blog.ipspace.net/2007/01/youve-asked-for-it-series.html">got an excellent question</a>: how can I change the color of the terminal emulator font from the CLI by sending the telnet program an escape sequence?<br/><br/>For those of you that haven't worked with escape sequences before - you can control a lot of parameters in you terminal emulation program by sending it a special sequence starting with &lt;ESC&gt;[ (&lt;ESC&gt; begin character code 27). These sequences work even in the simplest telnet clients on Windows and Linux thanks to built-in operating system support or ANSI.SYS driver (on Windows); you can get <a href="http://en.wikipedia.org/wiki/ANSI_escape_code">an in-depth description and the list of all supported escape sequences from Wikipedia</a>.<br/><br/>With the list of escape sequences in hand, the only remaining problem is how to send them from the router. <a href="https://blog.ipspace.net/tag/tcl.html">Tcl shell</a> was the immediate answer, but then I remembered <a href="http://www.cisco.com/univercd/cc/td/doc/product/software/ios124/124cg/hcf_c/ch20/cfh400.htm">the various banners provided by the Cisco IOS</a>. As I wanted to change the font color as soon as possible, the <a href="http://www.cisco.com/univercd/cc/td/doc/product/software/ios124/124cr/hcf_r/cfn_01h.htm#wp1128698">login banner</a> (or the message-of-the-day banner) seemed the right one to use.<br/><br/>To insert the <em>ESC</em> character in a banner from the configuration prompt, you have to use the Ctrl-V/Esc sequence. For example, to change the font color to bright yellow, do the following:<pre class="code">router#conf t<br/>Enter configuration commands, one per line. End with CNTL/Z.<br/>router(config)#banner motd #<br/>Enter TEXT message. End with the character '#'.<br/>&lt;Ctrl-V&gt;&lt;ESC&gt;[33;1mThis is a yellow router#<br/>router(config)#</pre>When you look at the running configuration, the router transforms the control characters into ^x sequences, so your banner will look like this:<pre class="code">router#show run | begin banner<br/>banner motd ^C<br/>^[[33;1mThis is a yellow router^C<br/>...</pre><strong>Notes:</strong><ul><li>Saving router configurations on (T)FTP server and reloading them from a server does not pose a problem, as the control characters are preserved throughout the process, but you cannot use cut-and-paste with banners, as the terminal emulator does not transform ^x sequence into a control character.</li>
<li>With this technique, you can color-code your routers. For example, internal routers could use green font, publicly accessible ones red font and the firewall routers yellow font, so all the operators would know immediately what to expect on each device.<li>This article is part of <a href="https://blog.ipspace.net/2007/01/youve-asked-for-it-series.html">You've asked for it</a> <a href="https://blog.ipspace.net/tag/youve-asked-for-it.html">series</a>.</li>
</li>
</ul>

