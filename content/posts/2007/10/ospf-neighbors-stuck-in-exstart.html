---
url: /2007/10/ospf-neighbors-stuck-in-exstart.html
title: "OSPF neighbors stuck in EXSTART"
date: "2007-10-24T07:06:00.000+02:00"
tags: [ OSPF ]
---

<p>This problem is quite rare, but tantalizing enough to warrant mentioning: OSPF neighbors are forever stuck in EXSTART state (occasionally going to DOWN and back to EXSTART).</p>
<p class="note">I've actually stumbled across it accidentally in my lab and have luckily seen it before, so I knew immediately what it was.</p>
<p>The moment you start suspecting that something might be wrong with the OSPF adjacencies and use <strong>debug ip ospf adj</strong> command, the problem becomes obvious: the Database Description packet contains an <em>Interface MTU</em> field and if the value received from the neighbor is higher than the <a href="http://ioshints.blogspot.com/2007/10/tale-of-three-mtus.html">IP MTU configured on the inbound interface</a>, the DBD packet is rejected (section 10.6 of the <a href="http://www.faqs.org/rfcs/rfc2328.html">RFC 2328</a>). The router with the lower MTU complains that “<em>Nbr x.x.x.x has larger interface MTU</em>” and the other router moans about protocol violations (<em>First DBD and we are not SLAVE</em>).</p>
<p>As always, there are two ways to solve this problem:</p>
<ul><li>The correct one: fix the MTU issues;</li>
<li>The other one: disable MTU checks with the <strong>ip ospf mtu-ignore</strong> interface configuration command (which might be OK as long as the hardware is able to receive oversized packets and the router is not using fixed-size input buffers).</li>
</ul>

