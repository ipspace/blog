---
url: /2007/03/running-tcl-procedures-from-command.html
title: "Running Tcl procedures from command line"
date: "2007-03-19T08:12:00.001+01:00"
tags: [ Tcl,command line interface ]
---

Starting in IOS release 12.3(2)T, <a href="http://www.cisco.com/en/US/products/sw/iosswrel/ps5207/products_feature_guide09186a00801a75a7.html#wp1048060">Tcl shell is accessible from the command line interface </a>with the <strong>tclsh</strong> command. After entering this command, you get the <strong>Router(tcl)#</strong> prompt and can enter individual Tcl commands (the help is confusing, though - you get help on exec-mode commands, but none of them work).<br/><br/>What the documentation fails to tell you, though, is that you can specify a file name (actually an IFS URL) as the parameter to the <strong>tclsh</strong> command to execute the Tcl commands in that file. The file can be local (stored in flash or <a href="https://blog.ipspace.net/2007/02/store-your-eem-tcl-policies-in-nvram.html">even NVRAM</a>) or remote, in which case the router downloads the file and executes it.<!--more-->For example, if you store a simple helloWorld.tcl file ...<pre class="code">puts "hello world";</pre>... on an external TFTP server and execute it with the tclsh tftp://10.0.0.10/helloWorld.tcl command, you'll get the "famous" printout:<pre class="code">Router#<strong>tclsh tftp://10.0.0.10/helloWorld.tcl</strong><br/>Loading helloWorld.tcl from 10.0.0.10 (via FastEthernet0/0): !<br/>[OK - 20 bytes]<br/>hello, world</pre><p class="info">An <a href="http://wiki.nil.com/Running_Tclsh_scripts_on_Cisco_IOS">revised version of this article</a> is available in the CT3 wiki.</p>
<div class="more">You can find more Tclsh-related information in the <a href="http://wiki.nil.com/Tclsh_on_Cisco_IOS_tutorial">Tclsh on Cisco IOS tutorial</a>. Sample Tclsh scripts are available in the <a href="http://wiki.nil.com/Tclsh_script_library">Tclsh script library</a>. If you need expert help in planning, developing or deploying Tclsh scripts in your network, <a href="https://www.ipspace.net/Contact">contact the author</a>.</div>

