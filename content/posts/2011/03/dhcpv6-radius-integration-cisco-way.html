---
date: 2011-03-02T09:00:00.002+01:00
tags:
- IP services
- IPv6
- PPP
- workshop
title: 'DHCPv6-RADIUS integration: the Cisco way'
url: /2011/03/dhcpv6-radius-integration-cisco-way.html
---

<p>Yesterday I described <a href="https://blog.ipspace.net/2011/03/ipv6cpdhcpv6slaacra-ipcp.html">how the IPv6 architects split the functionality of IPCP into three different protocols (IPCPv6, RA and DHCPv6)</a>. While the split undoubtedly makes sense from the academic perspective, the service providers offering PPP-based services (including DSL and <a href="http://blog.ipspace.net/2008/10/internet-access-russian-dolls.html">retrograde uses of PPP-over-FTTH</a>) went berserk. They were already using RADIUS to authenticate PPP users ... and were not thrilled by the idea that they should deploy DHCPv6 servers just to make the protocol stack look nicer.</p>
<!--more--><p>As expected, Cisco’s first response was a royal kludge: let’s trigger the first RADIUS request when the PAP/CHAP packet arrives and set interface IPv6 parameters from the RADIUS response attributes ... and then when the DHCPv6 request arrives, let’s do <em>another </em>RADIUS request, this time with a <em>different</em> username to get the IPv6 prefix that should be delegated to the CPE. Oh, and by the way, we don’t really support the IPv6 DNS-related RADIUS attributes yet, so if you want to pass IPv6 DNS server address to the CPE, just configure local DHCPv6 pools on the BRAS routers (did we mention you need them anyway to support DHCPv6-RADIUS integration?).</p>
<p class="update">Update 2012-01-19: <a href="https://blog.ipspace.net/2012/01/dhcpv6-prefix-delegation-with-radius.html">Cisco IOS release 15.1S and IOS XE release 3S support RFC 4818</a>.</p>
<h4>More information</h4><p>Various methods a service provider can use to handle DHCPv6 prefix delegation are described in my <a href="http://www.ipspace.net/Building_IPv6_Service_Provider_Core"><em>Building IPv6 Service Provider Core</em></a> webinar; you’ll also get tested router configurations that you can use in your IPv6 deployment. If you’re an enterprise engineers running a decently large network, you’ll probably find the webinar useful despite its title.</p>
<p>The webinar is also available as part of the <a href="https://www.ipspace.net/Subscription">yearly subscription package</a>.</p>

