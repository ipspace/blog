---
title: "What Is OpenFlow (Part 2)?"
date: "2011-10-11T06:17:00.000+02:00"
tags: [ SDN,Data Center,Workshop,OpenFlow,virtualization ]
---

<p>Got this set of questions from a CCIE pondering emerging technologies that could be of potential use in his data center:</p>
<blockquote class="cite">I don’t think OpenFlow is clearly defined yet. Is it a protocol? A model for Control plane – Forwarding plane FP interaction?  An abstraction of the forwarding-plane?  An automation technology? Is it a virtualization technology?  I don’t think there is consensus on these things yet.</blockquote>
<p>As the <a href="http://techfieldday.com/2011/openflow-symposium/">OpenFlow Symposium</a> is just a few weeks away, let’s try to position OpenFlow in the big picture.<!--more--></p>
<p>OpenFlow is <a href="http://blog.ioshints.info/2011/04/what-is-openflow.html">very well defined</a>. It’s a <a href="http://wiki.nil.com/Control_and_Data_plane">control plane (controller) – data plane (switch)</a> protocol that allows control plane to:</p>
<ul class="ListParagraph"><li>Modify forwarding entries in the data plane;</li>
<li>Send control protocol (or data) packets through any port of any controlled data-plane devices;</li>
<li>Receive (and process) packets that cannot be handled by the data plane forwarding rules. These packets could be control-plane protocol packets (for example, LLDP) or user data packets that need special processing.</li>
</ul>
<p>As part of the protocol, OpenFlow defines abstract data plane structures (forwarding table entries) that have to be implemented by OpenFlow-compliant forwarding devices (switches).</p>
<p><strong>Is it an abstraction of the forwarding plane?</strong> Yes, as far as it defines data structures that can be used in OpenFlow messages to update data plane forwarding structures.</p>
<p><strong>Is it an automation technology?</strong> No, but it can be used to automate the network deployments. Imagine a cluster of OpenFlow controllers with shared configuration rules that use packet carrying capabilities of OpenFlow protocol to discover network topology (using LLDP or a similar protocol), build a shared topology map of the network, and use it to download forwarding entries into the controlled data planes (switches). Such a setup would definitely automate new device provisioning in a large-scale network.</p>
<p>Alternatively, you could use OpenFlow to create additional forwarding (actually packet dropping) entries in access switches or wireless access points deployed throughout your network, resulting in a scalable multi-vendor ACL solution. </p>
<p><strong>Is it a virtualization technology?</strong> Of course not. However, its data structures can be used to perform MAC address, IP address or MPLS label lookup and push user packets into VLANs (or push additional VLAN tags to implement Q-in-Q) or MPLS-labeled frames, so you can implement most commonly used virtualization techniques (VLANs, Q-in-Q VLANs, L2 MPLS-based VPNs or L3 MPLS-based VPNs) with it. </p>
<p>There’s no reason you couldn’t control <a href="http://blog.ioshints.info/2011/08/soft-switching-might-not-scale-but-we.html">soft switch</a> (embedded in the hypervisor) with OpenFlow. An open-source hypervisor switch implementation (<a href="http://openvswitch.org/">Open vSwitch</a>) that has “<a href="http://openvswitch.org/features/">many extensions for virtualization</a>” is already available and can be used with Xen/XenServer (it’s the default networking stack in XenServer 6.0) or KVM.</p>
<p>I’m positive the list of Open vSwitch extensions is hidden somewhere in its somewhat cryptic documentation (or you could try to find them in the source code), but the <a href="http://www.openflow.org/wk/index.php/OpenFlow_1_2_proposal">list of OpenFlow 1.2 proposals</a> implemented by Open vSwitch or sponsored by Nicira should give you some clues:</p>
<ul class="ListParagraph"><li>IPv6 matching (cool, finally IPv6 support) with IPv6 header rewrite (so they must be aiming at L3 hypervisor switch ... even cooler);</li>
<li>Virtual Port Tunnel configuration protocol and GRE/L3 tunnel support. Obviously they’re developing a VXLAN competitor or even IP-over-IP solution.</li>
<li>Controller master/slave switch. A must for resilient large-scale solutions.</li>
</ul>
<p><strong>Summary</strong>: OpenFlow is like C++. You can use it to implement all sorts of interesting solutions, but it’s just a tool.</p>
<p><strong>And a completely tangential thought</strong>: Reading the <a href="http://nerdtwilight.wordpress.com/2011/10/05/with-latest-moves-hp-networking-responds-to-customers-partners-competitors/">analysis of recent HP launch</a> @ Twilight in the Valley of the Nerds, it was refreshing to see Saar Gillai’s (CTO of HP networking) down-to-earth description of OpenFlow’s potential and its current maturity (including drawbacks and missing features).</p>
<h4>More information</h4><p>I wrote about OpenFlow before, read the <a href="http://blog.ioshints.info/2011/04/what-is-openflow.html">What is OpenFlow</a> post for more technical details. I also mentioned it in my <a href="http://blog.ioshints.info/2011/10/data-center-fabric-architectures.html">Data Center Fabric Architectures</a> presentation @ EuroNOG 2011.</p>
<p>And here’s the usual end-of-post blurb:</p>
<p>The concepts and challenges of virtualized networking are described in the <a href="http://www.ioshints.info/VMintro">Introduction to Virtualized Networking</a> webinar. </p>
<p>Looking for big-picture perspective or in-depth discussions of various data center and network virtualization technologies? Check my <a href="http://www.ioshints.info/Data_Center_3.0_for_Networking_Engineers">Data Center 3.0 for Networking Engineers</a> (<a href="http://www.ioshints.info/Recordings?code=DC30">recording</a>) and <a href="http://www.ioshints.info/VMnet">VMware Networking Deep Dive</a> (<a href="http://www.ioshints.info/Recordings?code=VMnet">recording</a>) webinars. Both webinars are also available as part of the <a href="http://www.ioshints.info/Data_Center_trilogy">Data Center Trilogy</a> and you get access to all three of them (and numerous others) as part of the <a href="http://www.ioshints.info/Subscription_to_ioshints_webinars">yearly subscription</a>.</p>

