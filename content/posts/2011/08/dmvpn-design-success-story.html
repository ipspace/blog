---
title: "DMVPN design success story"
date: "2011-08-18T06:48:00.001+02:00"
tags: [ DMVPN,Workshop ]
---

<p>Warning: totally shameless plug ahead. You might want to stop reading right now.</p>
<p>Every now and then one of the engineers listening to my webinars shares a nice success story with me. One of them wrote:</p>
<blockquote class="cite">I'm doing a DMVPN deployment and Cisco design docs just donâ€™t cover dual ISPs for the spokes hence I thought I give your webinars/configs a try.</blockquote>
<p>... and a bit later (after going through the configs that you get with the <a href="http://www.ioshints.info/DMVPN:_From_Basics_to_Scalable_Networks">DMVPN webinar</a>):<!--more--></p>
<blockquote class="cite">I have been testing the 2 VRF 2 ISP solution today, very cool, never thought of using vrfs to get round the 2 ISP issue.  I was looking at using a loopback for the tunnel source and doing IP SLAs to change gateway upon ISP failure but the VRF method is a lot cleaner.</blockquote>
<p>But there was another problem to be solved:</p>
<blockquote class="cite">Furthermore my scenario for a customer is such that they need local internet breakout so today been experimenting with modifying your scripts by simply adding a default route on the global table to serial 1/0 and using "ip nat enable".</blockquote>
<p>As it happens, the local Internet breakout with VRFs (including inter-VRF NAT) is thoroughly covered in the <a href="http://www.ioshints.info/EntMPLS"><em>Enterprise MPLS VPN Deployment</em></a><em> </em>webinar (yet again, you get tested router configs with the materials). Two not-so-very-trivial design problems solved for <a href="http://www.ioshints.info/Recordings">less than $80</a> ;)</p>

