---
url: /2011/02/how-did-we-ever-get-into-this-switching/
title: "How did we ever get into this switching mess?"
date: "2011-02-08T09:17:00.002+01:00"
tags: [ bridging,switching,IP routing ]
---

<p>If you’re confused about the numerous meanings of a <em>switch</em>, you’re not the only one. If you wonder how the whole mess started, here’s the full story (from a biased perspective of a <a href="http://etherealmind.com/network-dictionary-goners/">grumpy GONER</a>):</p>
<p>35 years ago, there were no bridges or routers. Hosts communicated directly with each other or used intermediate nodes (usually hosts, sometimes dedicated devices called <em>gateways</em>) to pass traffic ... and then a few overly-bright engineers at DEC decided their application (<a href="http://en.wikipedia.org/wiki/Local_Area_Transport">LAT</a>) will run directly on layer 2 to make it faster. </p>
<p class="note">Their company has been dead (actually, <a href="http://en.wikipedia.org/wiki/Digital_Equipment_Corporation#Final_years">sold in pieces</a>) for over a decade, but their eagerness to cut corners still haunts every one of us.</p>
<!--more--><p>When someone managed to sell too many devices to a single customer (probably ignoring every design recommendation ever made ... isn’t that how progress is made?), and they could no longer fit onto the same <a href="http://en.wikipedia.org/wiki/10BASE5">thick Ethernet</a> segment, <a href="/2010/07/bridges-kludge-that-shouldnt-exist/">DEC built a transparent bridge</a> (and Radia Perlman designed STP).</p>
<p>At the same time, the number of protocols running on Ethernet (and other now-extinct technologies, including <a href="http://en.wikipedia.org/wiki/Arcnet">ARCNET</a> and <a href="http://en.wikipedia.org/wiki/Appletalk#Physical_implementation">LocalTalk</a>) exploded (the early CCIEs might “fondly” remember all the protocols we had to configure in the lab). Each of these protocols needed its own gateway (= router) devices and <a href="http://en.wikipedia.org/wiki/William_Yeager">Bill Yeager</a> at Stanford got a brilliant idea: let’s make a dedicated device that will serve as a gateway to all of them ... and thus multiprotocol router (initially still called <em>gateway</em>; that how <a href="http://steverossen.com/a-picture-worth-sharing/">AGS</a> got its name) and <a href="http://en.wikipedia.org/wiki/Cisco#Corporate_history">Cisco</a> were born.</p>
<p>Routers were way more complex (and expensive) than bridges, so someone got the next bright idea: let’s use bridges to connect remote sites together. While that might be survivable (<a href="/2009/05/vpls-is-not-aspirin/">but still stupid</a>) for a few small remote sites today, we used very slow WAN links in those days (64 kbps was a high-speed link) and the crazy and overly-brave engineers building large bridged networks produced numerous catastrophic failures. Based on those events, <em>bridge </em>became a much-hated word and everyone understood that <em>routers are good, bridges are bad</em>.</p>
<p>Fast-forward a few years. Thick and thin coax Ethernet were replaced by twisted pair attachments to a hub and several startup companies got another great idea: let’s replace a hub with a bridge; it will boost performance and decrease the number of collisions (and potentially transmission errors). </p>
<p class="note">Of course they forgot to mention increased latency (or played with the <em>cut-through switching</em>), but let’s not go there.</p>
<p>These startups were facing a serious problem: what they had was a bridge, but nobody wanted to buy a bridge (because <em>bridges are bad</em>), so some fateful marketing department invented a <em>switch</em>. New mantra: <em>hubs are slow, switches are fast</em>.</p>
<p>Even in those early days, some people figured out not every host (or user) belong to the same LAN segment. They wanted to implement LAN segmentation and decided to do it with higher-speed routers (Cisco 7000 was a quite popular option). The design worked, but had a significant drawback: high-speed multi-protocol routers were always expensive. Changed mantra: <em>routers are expensive, switches are more cost-effective</em>.</p>
<p class="note">Some newbies who firmly believed marketing claims made by various vendors decided (yet again) to build WAN networks with switches (because routers were expensive) ... and (predictably and inevitably) failed.</p>
<p>Because the routers were so expensive (and switches already had hardware-based forwarding), networking vendors tried to combine the best of both worlds. Some of you might still remember the early days of Netflow and Multi-Layer Switching (where the router would inspect initial packets in a session and download the flow specification to the switches ... the craziness now resurrected in OpenFlow).</p>
<p>Finally, someone managed to implement cost-effective layer-3 forwarding in hardware, resulting in high-speed reasonably-priced routers ... only you couldn’t call those devices <em>routers </em>anymore, because <em>routers are expensive</em>, so they stretched the definition of switching to include <em>layer-3 switching </em>(the process formerly known as <em>routing</em>).</p>
<p>Is there a way out of this switching mess? Judging by the comments made by readers of <a href="http://packetlife.net/blog/2011/jan/19/terminology-switch-vs-router/"><em>Terminology: Switch vs Router</em></a><em> </em>article (by <a href="http://twitter.com/packetlife">@packetlife</a>), we’re way past the <a href="http://en.wikipedia.org/wiki/Point_of_no_return">point of no return</a>. </p>
<p><strong>But remember</strong>: regardless of how you decide to call the physical (or virtual) device that forwards the data across your network, it’s important to understand whether it forwards the data based on <em>physical layer-2 addresses </em>(we called that <em>bridging</em>) or based on <em>logical, hierarchical layer-3 addresses </em>(what we called <em>routing </em>20 years ago), because there are <a href="/2010/07/bridging-and-routing-is-there/">significant differences between routing and bridging</a> (<a href="/2010/07/bridging-and-routing-part-ii/">maybe even more than you think</a>).</p>

