---
date: 2011-01-24T06:56:00.007+01:00
tags:
- link aggregation
- switching
- data center
- workshop
title: Intelligent Redundant Framework (IRF) – Stacking as usual
url: /2011/01/intelligent-redundant-framework-irf.html
---

<p>When I was listening to the Intelligent Redundant Framework (IRF) presentation from HP during the Tech Field Day 2010 and read the <a href="http://www.h3c.com/portal/download.do?id=1027834">HP/H3C IRF 2.0 whitepaper</a> afterwards, IRF looked like a technology sent straight from Data Center heavens: you could build a single unified fabric with optimal L2 and L3 forwarding that spans the whole data center (I was somewhat skeptical about their multi-DC vision) and behaves like a single managed entity.</p>
<p>No wonder I started drawing the following highly optimistic diagram when I was updating my <a href="https://www.ipspace.net/Data_Center_3.0_for_Networking_Engineers">Data Center 3.0 webinar</a>, which now includes information on Multi-Chassis Link Aggregation (MLAG) technologies from numerous vendors (as always, attendees of past webinars get free access to updated materials and recordings).</p>
<!--more--><div class="separator" style="clear: both; text-align: center;"><a href="/2011/01/s1600-irf.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="248" src="/2011/01/s320-irf.png" width="320"/></a></div>
<p>However, the worm of doubt was continuously nagging somewhere deep in my subconsciousness, so I decided to check the configuration guides of various HP switches (kudos to HP for the free and unrestricted access to their very good documentation). I selected a core switch (<a href="http://h10152.www1.hp.com/en_US/product.page?pathtype=Purchase&amp;category=CAT_SWITCHES&amp;class=CLS_DATA_CENTER&amp;family=FAM_SWTCH_S12500&amp;product=0235A0E6&amp;name=H3C-S12508-Data-Center-Switch">S12508</a>) and an access-layer switch (<a href="http://h10152.www1.hp.com/en_US/product.page?pathtype=Purchase&amp;category=CAT_SWITCHES&amp;class=CLS_CORE_TO_EDGE&amp;family=FAM_SWTCH_S5820X&amp;product=0235A370&amp;name=H3C-S5820X-28S-Series-10-Gigabit-Switch">S5820X-28S</a>) from the <a href="http://h10152.www1.hp.com/en_US/producttechnology.page?technology=TCH_IRF">HP IRF technology page</a>, downloaded their configuration guides and studied the IRF chapters. What a disappointment:</p>
<ul class="ListParagraph"><li><strong>Only devices of the same series can form an IRF</strong>. How is that different from any other stackable switch vendor?</li>
<li><strong>Only two core switches can form an IRF</strong>. How is that different from <a href="https://blog.ipspace.net/2010/10/multi-chassis-link-aggregation-stacking.html">Cisco’s VSS</a> or <a href="https://blog.ipspace.net/2010/11/multi-chassis-link-aggregation-mlag.html">Juniper’s XRE200</a>?</li>
<li><strong>One device in the IRF is the master, others are slaves</strong>. Same as Cisco’s VSS.</li>
<li><strong>Numerous stackable switches can form an IRF</strong>. Everyone else is calling that a stack.</li>
<li><strong>IRF partition is detected through proprietarily modified LACP or BFD.</strong> Same as Cisco’s VSS.</li>
<li><strong>After IRF partition, the loser devices block their ports.</strong> The white paper is curiously mum about the consequences of IRF partition. No wonder, IRF does the same thing as any other vendor – the losing part of the cluster blocks its ports following a partition.</li>
</ul>
<p>There might be something novel in the IRF technology that I’ve missed and that truly sets it apart from other vendors' solutions. If that’s the case, please chime in with your comments. For the moment, IRF looks like stacking-as-usual to me.</p>
<h4>More information</h4><p>Numerous MLAG technologies, including Cisco’s VSS and vPC, Juniper’s XRE200 and HP’s IRF are described in my <a href="https://www.ipspace.net/DC30">Data Center 3.0 for Networking Engineers</a> webinar (<a href="https://www.ipspace.net/SingleRecording?code=DC30">buy a recording</a> or <a href="https://www.ipspace.net/Subscription">yearly subscription</a>).</p>

