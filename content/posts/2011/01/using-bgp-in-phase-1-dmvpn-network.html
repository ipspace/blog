---
url: /2011/01/using-bgp-in-phase-1-dmvpn-network.html
title: "Using BGP in Phase 1 DMVPN network"
date: "2011-01-07T06:55:00.001+01:00"
tags: [ DMVPN,Workshop,BGP ]
---

<p>If you’re building a DMVPN network with large spoke-to-hub ratio, BGP is one of the better options – it has no scalability limitations associated with multicast flooding; the only parameter you have to consider is the number of BGP sessions the hub router can handle (and <a href="http://www.cisco.com/web/strategy/docs/gov/IntegNet_Feb17_915_Lynn.pdf">according to this presentation</a>, ASR can handle 2000+ spokes). To learn more, watch a <a href="http://demo.ipspace.net/bin/watch?id=fa5f3c12-3b98-11e1-96be-005056880254">step-by-step explanation of BGP-over-Phase 1 DMVPN configuration guidelines</a>.</p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://demo.ipspace.net/bin/watch?id=fa5f3c12-3b98-11e1-96be-005056880254" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="277" src="/2011/01/s400-DMVPN_BGP_Phase1_Play.png" width="400"/></a></div>
<!--more--><p>To summarize:</p>
<ul class="ListParagraph"><li>Use EBGP between the hub and the spoke routers to eliminate potential IBGP next-hop issues;</li>
<li>You should filter outbound routing updates on the hub router to minimize the amount of routing information and the load placed on the hub router;</li>
<li>When using outbound filter in the hub router, advertise the default route to the spokes;</li>
<li>Use BGP session templates and policy templates to minimize the hub router’s BGP configuration.</li>
</ul>

